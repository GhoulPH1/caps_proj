"use strict";var zie=Object.create;var lh=Object.defineProperty;var Hie=Object.getOwnPropertyDescriptor;var Kie=Object.getOwnPropertyNames;var Jie=Object.getPrototypeOf,Vie=Object.prototype.hasOwnProperty;var b=(e,t)=>()=>(e&&(t=e(e=0)),t);var E=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),ne=(e,t)=>{for(var r in t)lh(e,r,{get:t[r],enumerable:!0})},x5=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Kie(t))!Vie.call(e,o)&&o!==r&&lh(e,o,{get:()=>t[o],enumerable:!(n=Hie(t,o))||n.enumerable});return e};var L=(e,t,r)=>(r=e!=null?zie(Jie(e)):{},x5(t||!e||!e.__esModule?lh(r,"default",{value:e,enumerable:!0}):r,e)),Zie=e=>x5(lh({},"__esModule",{value:!0}),e);var N=E(ph=>{"use strict";Object.defineProperty(ph,"__esModule",{value:!0});ph.FleekError=void 0;var wE=class extends Error{constructor(t){super(),this.data=t}get message(){return this.toString()}};ph.FleekError=wE});var v5=E(dh=>{"use strict";Object.defineProperty(dh,"__esModule",{value:!0});dh.BunnyPullZoneNotFoundError=void 0;var Qie=N(),_E=class extends Qie.FleekError{constructor(){super(...arguments),this.name="BunnyPullZoneNotFoundError",this.toString=()=>`PullZone with name ${this.data.name} was not found on BunnyCDN.`}};dh.BunnyPullZoneNotFoundError=_E});var P5=E(fh=>{"use strict";Object.defineProperty(fh,"__esModule",{value:!0});fh.DomainNotFoundError=void 0;var Yie=N(),SE=class extends Yie.FleekError{constructor(){super(...arguments),this.name="DomainNotFoundError",this.toString=()=>this.data.domain.hostname?`Domain ${this.data.domain.hostname} was not found.`:"Domain was not found."}};fh.DomainNotFoundError=SE});var D5=E(hh=>{"use strict";Object.defineProperty(hh,"__esModule",{value:!0});hh.DomainsNotFoundError=void 0;var Xie=N(),EE=class extends Xie.FleekError{constructor(){super({}),this.name="DomainsNotFoundError",this.toString=()=>"No domains found."}};hh.DomainsNotFoundError=EE});var A5=E(mh=>{"use strict";Object.defineProperty(mh,"__esModule",{value:!0});mh.DomainAlreadyExistsInProjectError=void 0;var eae=N(),xE=class extends eae.FleekError{constructor(){super(...arguments),this.name="DomainAlreadyExistsInProjectError",this.toString=()=>`Domain ${this.data.domain.hostname} already exists under the project.`}};mh.DomainAlreadyExistsInProjectError=xE});var I5=E(gh=>{"use strict";Object.defineProperty(gh,"__esModule",{value:!0});gh.DomainInPendingStateError=void 0;var tae=N(),vE=class extends tae.FleekError{constructor(){super(...arguments),this.name="DomainInPendingStateError",this.toString=()=>"Domain is in pending state. Please wait and try action again later."}};gh.DomainInPendingStateError=vE});var k5=E(yh=>{"use strict";Object.defineProperty(yh,"__esModule",{value:!0});yh.DomainHostnameInvalidError=void 0;var rae=N(),PE=class extends rae.FleekError{constructor(){super(...arguments),this.name="DomainHostnameInvalidError",this.toString=()=>`The domain ${this.data.hostname} is invalid`}};yh.DomainHostnameInvalidError=PE});var C5=E(bh=>{"use strict";Object.defineProperty(bh,"__esModule",{value:!0});bh.UnknownError=void 0;var nae=N(),DE=class extends nae.FleekError{constructor(){super({}),this.name="UnknownError",this.toString=()=>"Unexpected error. Repeat the action or contact support."}};bh.UnknownError=DE});var T5=E(wh=>{"use strict";Object.defineProperty(wh,"__esModule",{value:!0});wh.SiteNotFoundError=void 0;var oae=N(),AE=class extends oae.FleekError{constructor(){super(...arguments),this.name="SiteNotFoundError",this.toString=()=>this.data.site.slug?`Site ${this.data.site.slug} not found.`:"Site not found."}};wh.SiteNotFoundError=AE});var F5=E(_h=>{"use strict";Object.defineProperty(_h,"__esModule",{value:!0});_h.SitesNotFoundError=void 0;var iae=N(),IE=class extends iae.FleekError{constructor(){super({}),this.name="SitesNotFoundError",this.toString=()=>"No sites found."}};_h.SitesNotFoundError=IE});var O5=E(Sh=>{"use strict";Object.defineProperty(Sh,"__esModule",{value:!0});Sh.SiteAlreadyExistsError=void 0;var aae=N(),kE=class extends aae.FleekError{constructor(){super(...arguments),this.name="SiteAlreadyExistsError",this.toString=()=>"name"in this.data.site?`Site ${this.data.site.name} already exists in the project.`:`Site slug must be unique within Fleek but ${this.data.site.slug} already exists.`}};Sh.SiteAlreadyExistsError=kE});var R5=E(Eh=>{"use strict";Object.defineProperty(Eh,"__esModule",{value:!0});Eh.SiteDeploymentNotFoundError=void 0;var sae=N(),CE=class extends sae.FleekError{constructor(){super(...arguments),this.name="SiteDeploymentNotFoundError",this.toString=()=>"Deployment not found."}};Eh.SiteDeploymentNotFoundError=CE});var B5=E(xh=>{"use strict";Object.defineProperty(xh,"__esModule",{value:!0});xh.SiteHasDependentsError=void 0;var cae=N(),TE=class extends cae.FleekError{constructor(){super(...arguments),this.name="SiteHasDependentsError",this.toString=()=>{let t=[];return this.data.domains.length>0&&t.push(`${this.data.domains.length} domains`),this.data.ipnsRecords.length>0&&t.push(`${this.data.ipnsRecords.length} IPNS records`),`Site has assigned ${t}. You have to delete them first.`}}};xh.SiteHasDependentsError=TE});var N5=E(vh=>{"use strict";Object.defineProperty(vh,"__esModule",{value:!0});vh.SiteHasNoSourceProviderError=void 0;var uae=N(),FE=class extends uae.FleekError{constructor(){super(...arguments),this.name="SiteHasNoSourceProviderError",this.toString=()=>this.data.site.slug?`Site ${this.data.site.slug} does not have a source provider.`:"Site does not have a source provider."}};vh.SiteHasNoSourceProviderError=FE});var U5=E(Ph=>{"use strict";Object.defineProperty(Ph,"__esModule",{value:!0});Ph.SiteNotDeployedError=void 0;var lae=N(),OE=class extends lae.FleekError{constructor(){super(...arguments),this.name="SiteNotDeployedError",this.toString=()=>this.data.site.slug?`Site ${this.data.site.slug} does not have released deployments.`:"Site does not have released deployments."}};Ph.SiteNotDeployedError=OE});var q5=E(Dh=>{"use strict";Object.defineProperty(Dh,"__esModule",{value:!0});Dh.IpnsRecordNotFoundError=void 0;var pae=N(),RE=class extends pae.FleekError{constructor(){super(...arguments),this.name="IpnsRecordNotFoundError",this.toString=()=>"IPNS record not found."}};Dh.IpnsRecordNotFoundError=RE});var j5=E(Ah=>{"use strict";Object.defineProperty(Ah,"__esModule",{value:!0});Ah.IpnsRecordsNotFoundError=void 0;var dae=N(),BE=class extends dae.FleekError{constructor(){super({}),this.name="IpnsRecordsNotFoundError",this.toString=()=>"No IPNS records found."}};Ah.IpnsRecordsNotFoundError=BE});var L5=E(Ih=>{"use strict";Object.defineProperty(Ih,"__esModule",{value:!0});Ih.IpnsFailToDecryptKeyError=void 0;var fae=N(),NE=class extends fae.FleekError{constructor(){super(...arguments),this.name="IpnsFailToDecryptKeyError",this.toString=()=>"Failed to decrypt IPNS key."}};Ih.IpnsFailToDecryptKeyError=NE});var W5=E(kh=>{"use strict";Object.defineProperty(kh,"__esModule",{value:!0});kh.IpnsRecordsForSiteLimitError=void 0;var hae=N(),UE=class extends hae.FleekError{constructor(){super(...arguments),this.name="IpnsRecordsForSiteLimitError",this.toString=()=>this.data.site.name?`Maximum amount of IPNS records that may be assigned to the ${this.data.site.name} site was exceeded.`:"Maximum amount of IPNS records that may be assigned to the site was exceeded."}};kh.IpnsRecordsForSiteLimitError=UE});var M5=E(Ch=>{"use strict";Object.defineProperty(Ch,"__esModule",{value:!0});Ch.StorageIpfsUploadFailedError=void 0;var mae=N(),qE=class extends mae.FleekError{constructor(){super({}),this.name="StorageIpfsUploadFailedError",this.toString=()=>"Upload failed."}};Ch.StorageIpfsUploadFailedError=qE});var G5=E(Th=>{"use strict";Object.defineProperty(Th,"__esModule",{value:!0});Th.SdkRequiredNodeRuntimeError=void 0;var gae=N(),jE=class extends gae.FleekError{constructor(){super({}),this.name="SdkRequiredNodeRuntimeError",this.toString=()=>"The functionality of this SDK feature is dependent on the Node.js runtime."}};Th.SdkRequiredNodeRuntimeError=jE});var $5=E(Fh=>{"use strict";Object.defineProperty(Fh,"__esModule",{value:!0});Fh.AuthorizationError=void 0;var yae=N(),LE=class extends yae.FleekError{constructor(){super({}),this.name="AuthorizationError",this.toString=()=>"Authorization with provided credentials is invalid."}};Fh.AuthorizationError=LE});var z5=E(Oh=>{"use strict";Object.defineProperty(Oh,"__esModule",{value:!0});Oh.ProjectMembershipNotFoundError=void 0;var bae=N(),WE=class extends bae.FleekError{constructor(){super(...arguments),this.name="ProjectMembershipNotFoundError",this.toString=()=>"Membership not found for project."}};Oh.ProjectMembershipNotFoundError=WE});var H5=E(Rh=>{"use strict";Object.defineProperty(Rh,"__esModule",{value:!0});Rh.GithubAppInstallationNotFoundError=void 0;var wae=N(),ME=class extends wae.FleekError{constructor(){super(...arguments),this.name="GithubAppInstallationNotFoundError",this.toString=()=>"No GitHub App installation found for given project."}};Rh.GithubAppInstallationNotFoundError=ME});var K5=E(Bh=>{"use strict";Object.defineProperty(Bh,"__esModule",{value:!0});Bh.UserNotFoundError=void 0;var _ae=N(),GE=class extends _ae.FleekError{constructor(){super(...arguments),this.name="UserNotFoundError",this.toString=()=>this.data.email?`User with email ${this.data.email} not found.`:"User not found."}};Bh.UserNotFoundError=GE});var J5=E(Nh=>{"use strict";Object.defineProperty(Nh,"__esModule",{value:!0});Nh.UserAlreadyExistsError=void 0;var Sae=N(),$E=class extends Sae.FleekError{constructor(){super(...arguments),this.name="UserAlreadyExistsError",this.toString=()=>"The username is already in use, please select another one"}};Nh.UserAlreadyExistsError=$E});var V5=E(Uh=>{"use strict";Object.defineProperty(Uh,"__esModule",{value:!0});Uh.ProjectNotFoundError=void 0;var Eae=N(),zE=class extends Eae.FleekError{constructor(){super(...arguments),this.name="ProjectNotFoundError",this.toString=()=>"Project not found."}};Uh.ProjectNotFoundError=zE});var Z5=E(qh=>{"use strict";Object.defineProperty(qh,"__esModule",{value:!0});qh.ProjectsNotFoundError=void 0;var xae=N(),HE=class extends xae.FleekError{constructor(){super({}),this.name="ProjectsNotFoundError",this.toString=()=>"No projects found."}};qh.ProjectsNotFoundError=HE});var Q5=E(jh=>{"use strict";Object.defineProperty(jh,"__esModule",{value:!0});jh.ProjectHasDependentsError=void 0;var vae=N(),KE=class extends vae.FleekError{constructor(){super(...arguments),this.name="ProjectHasDependentsError",this.toString=()=>{let t=[];return this.data.sites.length>0&&t.push(`${this.data.sites.length} sites`),this.data.privateGateways.length>0&&t.push(`${this.data.privateGateways.length} private gateways`),this.data.ipnsRecords.length>0&&t.push(`${this.data.ipnsRecords.length} IPNS records`),`Project has assigned ${t.join(", ")}. You have to delete them first.`}}};jh.ProjectHasDependentsError=KE});var Y5=E(Lh=>{"use strict";Object.defineProperty(Lh,"__esModule",{value:!0});Lh.ProjectInvalidNameError=void 0;var Pae=N(),JE=class extends Pae.FleekError{constructor(){super(...arguments),this.name="ProjectInvalidNameError",this.toString=()=>`The project name ${this.data.name} is invalid.`}};Lh.ProjectInvalidNameError=JE});var X5=E(Wh=>{"use strict";Object.defineProperty(Wh,"__esModule",{value:!0});Wh.PublicKeyAlreadyExistsError=void 0;var Dae=N(),VE=class extends Dae.FleekError{constructor(){super(...arguments),this.name="PublicKeyAlreadyExistsError",this.toString=()=>"Public key already exists."}};Wh.PublicKeyAlreadyExistsError=VE});var eO=E(Mh=>{"use strict";Object.defineProperty(Mh,"__esModule",{value:!0});Mh.VerificationSessionAlreadyExistsError=void 0;var Aae=N(),ZE=class extends Aae.FleekError{constructor(){super({}),this.name="VerificationSessionAlreadyExistsError",this.toString=()=>"Verification session already exists."}};Mh.VerificationSessionAlreadyExistsError=ZE});var tO=E(Gh=>{"use strict";Object.defineProperty(Gh,"__esModule",{value:!0});Gh.UnauthenticatedError=void 0;var Iae=N(),QE=class extends Iae.FleekError{constructor(){super({}),this.name="UnauthenticatedError",this.toString=()=>"The request is not authenticated."}};Gh.UnauthenticatedError=QE});var rO=E($h=>{"use strict";Object.defineProperty($h,"__esModule",{value:!0});$h.DomainZoneNotFoundError=void 0;var kae=N(),YE=class extends kae.FleekError{constructor(){super(...arguments),this.name="DomainZoneNotFoundError",this.toString=()=>"Domain zone not found."}};$h.DomainZoneNotFoundError=YE});var nO=E(zh=>{"use strict";Object.defineProperty(zh,"__esModule",{value:!0});zh.DomainZoneHasDependentsError=void 0;var Cae=N(),XE=class extends Cae.FleekError{constructor(){super(...arguments),this.name="DomainZoneHasDependentsError",this.toString=()=>"Domain zone has assigned domains or private gateways. You have to delete them first."}};zh.DomainZoneHasDependentsError=XE});var oO=E(Hh=>{"use strict";Object.defineProperty(Hh,"__esModule",{value:!0});Hh.DomainZoneInPendingStateError=void 0;var Tae=N(),ex=class extends Tae.FleekError{constructor(){super(...arguments),this.name="ZoneInPendingStateError",this.toString=()=>"Domain zone is in pending state. Please wait and try action again later."}};Hh.DomainZoneInPendingStateError=ex});var iO=E(Kh=>{"use strict";Object.defineProperty(Kh,"__esModule",{value:!0});Kh.DomainNotFoundUnderPullzoneError=void 0;var Fae=N(),tx=class extends Fae.FleekError{constructor(){super(...arguments),this.name="DomainNotFoundUnderPullzoneError",this.toString=()=>"Domain zone not found."}};Kh.DomainNotFoundUnderPullzoneError=tx});var aO=E(Jh=>{"use strict";Object.defineProperty(Jh,"__esModule",{value:!0});Jh.DomainZoneInvalidTypeError=void 0;var Oae=N(),rx=class extends Oae.FleekError{constructor(){super(...arguments),this.name="DomainZoneInvalidTypeError",this.toString=()=>"Domain zone has different purpose of use."}};Jh.DomainZoneInvalidTypeError=rx});var sO=E(Vh=>{"use strict";Object.defineProperty(Vh,"__esModule",{value:!0});Vh.UnauthorizedError=void 0;var Rae=N(),nx=class extends Rae.FleekError{constructor(){super(...arguments),this.name="UnauthorizedError",this.toString=()=>this.data.scopes?`You are not authorized to access this resource because of missing permissions: ${this.data.scopes.join(", ")}.`:"You are not authorized to access this resource."}};Vh.UnauthorizedError=nx});var cO=E(Zh=>{"use strict";Object.defineProperty(Zh,"__esModule",{value:!0});Zh.FleekConfigInvalidContentError=void 0;var Bae=N(),ox=class extends Bae.FleekError{constructor(){super(...arguments),this.name="FleekConfigInvalidContentError",this.toString=()=>this.data.validationResult?`Validation of loaded ${this.data.configPath} failed. ${this.data.validationResult}`:`Loaded ${this.data.configPath} file is corrupted.`}};Zh.FleekConfigInvalidContentError=ox});var uO=E(Qh=>{"use strict";Object.defineProperty(Qh,"__esModule",{value:!0});Qh.FleekConfigMissingFileError=void 0;var Nae=N(),ix=class extends Nae.FleekError{constructor(){super(...arguments),this.name="FleekConfigMissingFileError",this.toString=()=>`Unable to access or find the configuration file${this.data.configPath&&" "+this.data.configPath+"."||"."}`}};Qh.FleekConfigMissingFileError=ix});var lO=E(Yh=>{"use strict";Object.defineProperty(Yh,"__esModule",{value:!0});Yh.ApplicationWhitelistDomainDuplicityError=void 0;var Uae=N(),ax=class extends Uae.FleekError{constructor(){super(...arguments),this.name="ApplicationWhitelistDomainDuplicityError",this.toString=()=>`Application ${this.data.application.name} doesn't have unique white label domains.`}};Yh.ApplicationWhitelistDomainDuplicityError=ax});var pO=E(Xh=>{"use strict";Object.defineProperty(Xh,"__esModule",{value:!0});Xh.ApplicationAlreadyExistsError=void 0;var qae=N(),sx=class extends qae.FleekError{constructor(){super(...arguments),this.name="ApplicationAlreadyExistsError",this.toString=()=>`Application ${this.data.application.name} already exists.`}};Xh.ApplicationAlreadyExistsError=sx});var dO=E(em=>{"use strict";Object.defineProperty(em,"__esModule",{value:!0});em.ApplicationsNotFoundError=void 0;var jae=N(),cx=class extends jae.FleekError{constructor(){super(...arguments),this.name="ApplicationsNotFoundError",this.toString=()=>"No applications found."}};em.ApplicationsNotFoundError=cx});var fO=E(tm=>{"use strict";Object.defineProperty(tm,"__esModule",{value:!0});tm.ApplicationNotFoundError=void 0;var Lae=N(),ux=class extends Lae.FleekError{constructor(){super(...arguments),this.name="ApplicationNotFoundError",this.toString=()=>"Application not found."}};tm.ApplicationNotFoundError=ux});var hO=E(rm=>{"use strict";Object.defineProperty(rm,"__esModule",{value:!0});rm.ApplicationNameInvalidError=void 0;var Wae=N(),lx=class extends Wae.FleekError{constructor(){super(...arguments),this.name="ApplicationNameInvalidError",this.toString=()=>`The application name ${this.data.name} is invalid.`}};rm.ApplicationNameInvalidError=lx});var mO=E(nm=>{"use strict";Object.defineProperty(nm,"__esModule",{value:!0});nm.EnsRecordNotFoundError=void 0;var Mae=N(),px=class extends Mae.FleekError{constructor(){super(...arguments),this.name="EnsRecordNotFoundError",this.toString=()=>this.data.site?.id?"No site associated with this ENS record.":"ENS record was not found."}};nm.EnsRecordNotFoundError=px});var gO=E(om=>{"use strict";Object.defineProperty(om,"__esModule",{value:!0});om.EnsRecordAlreadyExistsInProjectError=void 0;var Gae=N(),dx=class extends Gae.FleekError{constructor(){super(...arguments),this.name="EnsRecordAlreadyExistsInProjectError",this.toString=()=>"ENS record already exists under the project."}};om.EnsRecordAlreadyExistsInProjectError=dx});var yO=E(im=>{"use strict";Object.defineProperty(im,"__esModule",{value:!0});im.EnsNameInvalidError=void 0;var $ae=N(),fx=class extends $ae.FleekError{constructor(){super(...arguments),this.name="EnsNameInvalidError",this.toString=()=>`ENS record name "${this.data.ensRecord.name}" is invalid.`}};im.EnsNameInvalidError=fx});var bO=E(am=>{"use strict";Object.defineProperty(am,"__esModule",{value:!0});am.EnsRecordInPendingStateError=void 0;var zae=N(),hx=class extends zae.FleekError{constructor(){super(...arguments),this.name="EnsRecordInPendingStateError",this.toString=()=>"ENS Record is in pending state. Please wait and try action again later."}};am.EnsRecordInPendingStateError=hx});var wO=E(sm=>{"use strict";Object.defineProperty(sm,"__esModule",{value:!0});sm.InvalidPersonalAccessTokenError=void 0;var Hae=N(),mx=class extends Hae.FleekError{constructor(){super(...arguments),this.name="InvalidPersonalAccessTokenError",this.toString=()=>"Personal access token is invalid."}};sm.InvalidPersonalAccessTokenError=mx});var _O=E(cm=>{"use strict";Object.defineProperty(cm,"__esModule",{value:!0});cm.PersonalAccessTokenNotFoundError=void 0;var Kae=N(),gx=class extends Kae.FleekError{constructor(){super(...arguments),this.name="PersonalAccessTokenNotFoundError",this.toString=()=>`Personal access token with ID ${this.data.personalAccessToken.id} not found.`}};cm.PersonalAccessTokenNotFoundError=gx});var SO=E(um=>{"use strict";Object.defineProperty(um,"__esModule",{value:!0});um.PrivateGatewayNotFoundError=void 0;var Jae=N(),yx=class extends Jae.FleekError{constructor(){super(...arguments),this.name="PrivateGatewayNotFoundError",this.toString=()=>"Private gateway not found."}};um.PrivateGatewayNotFoundError=yx});var EO=E(lm=>{"use strict";Object.defineProperty(lm,"__esModule",{value:!0});lm.PrivateGatewayAlreadyExistsError=void 0;var Vae=N(),bx=class extends Vae.FleekError{constructor(){super(...arguments),this.name="PrivateGatewayAlreadyExistsError",this.toString=()=>"Private gateway already exists. Please choose different name for the private gateway."}};lm.PrivateGatewayAlreadyExistsError=bx});var xO=E(pm=>{"use strict";Object.defineProperty(pm,"__esModule",{value:!0});pm.PrivateGatewayNameInvalidError=void 0;var Zae=N(),wx=class extends Zae.FleekError{constructor(){super(...arguments),this.name="PrivateGatewayNameInvalidError",this.toString=()=>`The private gateway name ${this.data.name} is invalid.`}};pm.PrivateGatewayNameInvalidError=wx});var vO=E(dm=>{"use strict";Object.defineProperty(dm,"__esModule",{value:!0});dm.PrivateGatewaysNotFoundError=void 0;var Qae=N(),_x=class extends Qae.FleekError{constructor(){super(...arguments),this.name="PrivateGatewaysNotFoundError",this.toString=()=>"No private gateways found."}};dm.PrivateGatewaysNotFoundError=_x});var PO=E(fm=>{"use strict";Object.defineProperty(fm,"__esModule",{value:!0});fm.TemplateAlreadyExistsError=void 0;var Yae=N(),Sx=class extends Yae.FleekError{constructor(){super(...arguments),this.name="TemplateAlreadyExistsError",this.toString=()=>"Template already exists."}};fm.TemplateAlreadyExistsError=Sx});var DO=E(hm=>{"use strict";Object.defineProperty(hm,"__esModule",{value:!0});hm.TemplateNotFoundError=void 0;var Xae=N(),Ex=class extends Xae.FleekError{constructor(){super(...arguments),this.name="TemplateNotFoundError",this.toString=()=>"Template not found."}};hm.TemplateNotFoundError=Ex});var AO=E(mm=>{"use strict";Object.defineProperty(mm,"__esModule",{value:!0});mm.UserHasNoAccessToAnotherUserError=void 0;var ese=N(),xx=class extends ese.FleekError{constructor(){super({}),this.name="UserHasNoAccessToAnotherUserError",this.toString=()=>"You don`t have access to user you try to fetch data for."}};mm.UserHasNoAccessToAnotherUserError=xx});var IO=E(gm=>{"use strict";Object.defineProperty(gm,"__esModule",{value:!0});gm.SiteFrameworkAlreadyExistsError=void 0;var tse=N(),vx=class extends tse.FleekError{constructor(){super(...arguments),this.name="SiteFrameworkAlreadyExistsError",this.toString=()=>"Site framework already exists."}};gm.SiteFrameworkAlreadyExistsError=vx});var kO=E(ym=>{"use strict";Object.defineProperty(ym,"__esModule",{value:!0});ym.SiteFrameworkNotFoundError=void 0;var rse=N(),Px=class extends rse.FleekError{constructor(){super(...arguments),this.name="SiteFrameworkNotFoundError",this.toString=()=>"Site framework not found."}};ym.SiteFrameworkNotFoundError=Px});var CO=E(bm=>{"use strict";Object.defineProperty(bm,"__esModule",{value:!0});bm.TemplateCategoryNotFoundError=void 0;var nse=N(),Dx=class extends nse.FleekError{constructor(){super(...arguments),this.name="TemplateCategoryNotFoundError",this.toString=()=>"Template category not found."}};bm.TemplateCategoryNotFoundError=Dx});var TO=E(wm=>{"use strict";Object.defineProperty(wm,"__esModule",{value:!0});wm.TemplateDeploymentNotFoundError=void 0;var ose=N(),Ax=class extends ose.FleekError{constructor(){super(...arguments),this.name="TemplateDeploymentNotFoundError",this.toString=()=>"Template deployment not found."}};wm.TemplateDeploymentNotFoundError=Ax});var FO=E(_m=>{"use strict";Object.defineProperty(_m,"__esModule",{value:!0});_m.ProjectMembershipHasInefficientRoleError=void 0;var ise=N(),Ix=class extends ise.FleekError{constructor(){super(...arguments),this.name="ProjectMembershipHasInefficientRoleError",this.toString=()=>"Membership has inefficient role for this action."}};_m.ProjectMembershipHasInefficientRoleError=Ix});var OO=E(Sm=>{"use strict";Object.defineProperty(Sm,"__esModule",{value:!0});Sm.SecretGroupNotFoundError=void 0;var ase=N(),kx=class extends ase.FleekError{constructor(){super(...arguments),this.name="SecretGroupNotFoundError",this.toString=()=>"Secret group was not found."}};Sm.SecretGroupNotFoundError=kx});var RO=E(Em=>{"use strict";Object.defineProperty(Em,"__esModule",{value:!0});Em.SecretNotFoundError=void 0;var sse=N(),Cx=class extends sse.FleekError{constructor(){super(...arguments),this.name="SecretNotFoundError",this.toString=()=>"Secret was not found."}};Em.SecretNotFoundError=Cx});var BO=E(xm=>{"use strict";Object.defineProperty(xm,"__esModule",{value:!0});xm.SecretVisibilityAlreadyEncryptedError=void 0;var cse=N(),Tx=class extends cse.FleekError{constructor(){super(...arguments),this.name="SecretVisibilityAlreadyEncryptedError",this.toString=()=>"You cannot change visibility of already encrypted secret."}};xm.SecretVisibilityAlreadyEncryptedError=Tx});var NO=E(vm=>{"use strict";Object.defineProperty(vm,"__esModule",{value:!0});vm.SecretKeyAlreadyExistsError=void 0;var use=N(),Fx=class extends use.FleekError{constructor(){super(...arguments),this.name="SecretKeyAlreadyExistsError",this.toString=()=>"Variable with this key is already set."}};vm.SecretKeyAlreadyExistsError=Fx});var UO=E(Pm=>{"use strict";Object.defineProperty(Pm,"__esModule",{value:!0});Pm.SecretFailToEncryptError=void 0;var lse=N(),Ox=class extends lse.FleekError{constructor(){super(...arguments),this.name="SecretFailToEncryptError",this.toString=()=>"Failed to encrypt secret."}};Pm.SecretFailToEncryptError=Ox});var qO=E(Dm=>{"use strict";Object.defineProperty(Dm,"__esModule",{value:!0});Dm.PinNotFoundError=void 0;var pse=N(),Rx=class extends pse.FleekError{constructor(){super(...arguments),this.name="PinNotFoundError",this.toString=()=>"Pin was not found."}};Dm.PinNotFoundError=Rx});var jO=E(Am=>{"use strict";Object.defineProperty(Am,"__esModule",{value:!0});Am.PinAlreadyExistsInProjectError=void 0;var dse=N(),Bx=class extends dse.FleekError{constructor(){super(...arguments),this.name="PinAlreadyExistsInProjectError",this.toString=()=>`Pin with the same '${this.data.pin.cid?"cid":"path"}' already exists within the project.`}};Am.PinAlreadyExistsInProjectError=Bx});var LO=E(Im=>{"use strict";Object.defineProperty(Im,"__esModule",{value:!0});Im.UnstoppableDeploymentError=void 0;var fse=N(),Nx=class extends fse.FleekError{constructor(){super(...arguments),this.name="UnstoppableDeploymentError",this.toString=()=>"Deployment cannot be stopped."}};Im.UnstoppableDeploymentError=Nx});var WO=E(km=>{"use strict";Object.defineProperty(km,"__esModule",{value:!0});km.SiteDeploymentNotReleasedError=void 0;var hse=N(),Ux=class extends hse.FleekError{constructor(){super(...arguments),this.name="SiteDeploymentNotReleasedError",this.toString=()=>"Deployment not released."}};km.SiteDeploymentNotReleasedError=Ux});var MO=E(Cm=>{"use strict";Object.defineProperty(Cm,"__esModule",{value:!0});Cm.InvalidDeploymentTriggerError=void 0;var mse=N(),qx=class extends mse.FleekError{constructor(){super(...arguments),this.name="InvalidDeploymentTriggerError",this.toString=()=>"Deployment can not be triggered, source provider integrations missing."}};Cm.InvalidDeploymentTriggerError=qx});var GO=E(Tm=>{"use strict";Object.defineProperty(Tm,"__esModule",{value:!0});Tm.IpfsGatewayContentUnreachableError=void 0;var gse=N(),jx=class extends gse.FleekError{constructor(){super(...arguments),this.name="IpfsGatewayContentUnreachableError",this.toString=()=>"Cannot get IPFS content through Fleek gateway."}};Tm.IpfsGatewayContentUnreachableError=jx});var $O=E(Fm=>{"use strict";Object.defineProperty(Fm,"__esModule",{value:!0});Fm.InvitationNotFoundError=void 0;var yse=N(),Lx=class extends yse.FleekError{constructor(){super(...arguments),this.name="InvitationNotFoundError",this.toString=()=>"Invitation was not found."}};Fm.InvitationNotFoundError=Lx});var zO=E(Om=>{"use strict";Object.defineProperty(Om,"__esModule",{value:!0});Om.MigrationTokenInvalidError=void 0;var bse=N(),Wx=class extends bse.FleekError{constructor(){super(...arguments),this.name="MigrationTokenInvalidError",this.toString=()=>"Migration token is invalid or expired."}};Om.MigrationTokenInvalidError=Wx});var HO=E(Rm=>{"use strict";Object.defineProperty(Rm,"__esModule",{value:!0});Rm.MigrationRequestsAlreadyExistError=void 0;var wse=N(),Mx=class extends wse.FleekError{constructor(){super(...arguments),this.name="MigrationRequestsAlreadyExistError",this.toString=()=>"All migration requests specified in token are either completed or in progress."}};Rm.MigrationRequestsAlreadyExistError=Mx});var KO=E(Bm=>{"use strict";Object.defineProperty(Bm,"__esModule",{value:!0});Bm.MigrationRequestNotFoundError=void 0;var _se=N(),Gx=class extends _se.FleekError{constructor(){super(...arguments),this.name="MigrationRequestNotFoundError",this.toString=()=>`Migration request ${this.data.migrationRequest.id} not found.`}};Bm.MigrationRequestNotFoundError=Gx});var JO=E(Nm=>{"use strict";Object.defineProperty(Nm,"__esModule",{value:!0});Nm.MigrationRequestInPendingStateError=void 0;var Sse=N(),$x=class extends Sse.FleekError{constructor(){super(...arguments),this.name="MigrationRequestInPendingStateError",this.toString=()=>"Migration request is in pending state. Please wait and try action again later."}};Nm.MigrationRequestInPendingStateError=$x});var VO=E(Um=>{"use strict";Object.defineProperty(Um,"__esModule",{value:!0});Um.ProjectInvitationAlreadyExistError=void 0;var Ese=N(),zx=class extends Ese.FleekError{constructor(){super(...arguments),this.name="ProjectInvitationAlreadyExistError",this.toString=()=>`Project invitation with email ${this.data.user.email} for this project already exist.`}};Um.ProjectInvitationAlreadyExistError=zx});var ZO=E(qm=>{"use strict";Object.defineProperty(qm,"__esModule",{value:!0});qm.ProjectMembershipAlreadyExistError=void 0;var xse=N(),Hx=class extends xse.FleekError{constructor(){super(...arguments),this.name="ProjectMembershipAlreadyExistError",this.toString=()=>"Project membership already exists."}};qm.ProjectMembershipAlreadyExistError=Hx});var QO=E(jm=>{"use strict";Object.defineProperty(jm,"__esModule",{value:!0});jm.ProjectMembershipNoOwnersError=void 0;var vse=N(),Kx=class extends vse.FleekError{constructor(){super(...arguments),this.name="ProjectMembershipNoOwnersError",this.toString=()=>"Each project must have at least OWNER-role one membership."}};jm.ProjectMembershipNoOwnersError=Kx});var YO=E(Lm=>{"use strict";Object.defineProperty(Lm,"__esModule",{value:!0});Lm.UploadedS3KeyNotFoundError=void 0;var Pse=N(),Jx=class extends Pse.FleekError{constructor(){super(...arguments),this.name="UploadedS3KeyNotFoundError",this.toString=()=>"Uploaded S3 Key not found."}};Lm.UploadedS3KeyNotFoundError=Jx});var XO=E(Wm=>{"use strict";Object.defineProperty(Wm,"__esModule",{value:!0});Wm.PathIsNotADirectoryError=void 0;var Dse=N(),Vx=class extends Dse.FleekError{constructor(){super(...arguments),this.name="PathIsNotADirectoryError",this.toString=()=>`Given path ${this.data.path} is not a directory.`}};Wm.PathIsNotADirectoryError=Vx});var eR=E(Mm=>{"use strict";Object.defineProperty(Mm,"__esModule",{value:!0});Mm.FleekFunctionAlreadyExistsError=void 0;var Ase=N(),Zx=class extends Ase.FleekError{constructor(){super(...arguments),this.name="FleekFunctionAlreadyExistsError",this.toString=()=>"name"in this.data.function||"slug"in this.data.function?`Function ${this.data.function.name||this.data.function.slug} already exists.`:`Unexpected Function data structure ${JSON.stringify(this.data.function)}`}};Mm.FleekFunctionAlreadyExistsError=Zx});var tR=E(Gm=>{"use strict";Object.defineProperty(Gm,"__esModule",{value:!0});Gm.FleekFunctionNotFoundError=void 0;var Ise=N(),Qx=class extends Ise.FleekError{constructor(){super(...arguments),this.name="FleekFunctionNotFoundError",this.toString=()=>this.data.function?.name?`Function ${this.data.function.name} not found.`:"Function not found."}};Gm.FleekFunctionNotFoundError=Qx});var rR=E($m=>{"use strict";Object.defineProperty($m,"__esModule",{value:!0});$m.FleekFunctionDeploymentNotFoundError=void 0;var kse=N(),Yx=class extends kse.FleekError{constructor(){super(...arguments),this.name="FleekFunctionDeploymentNotFoundError",this.toString=()=>"Deployment not found."}};$m.FleekFunctionDeploymentNotFoundError=Yx});var nR=E(zm=>{"use strict";Object.defineProperty(zm,"__esModule",{value:!0});zm.FleekFunctionsNotFoundError=void 0;var Cse=N(),Xx=class extends Cse.FleekError{constructor(){super(...arguments),this.name="FleekFunctionsNotFoundError",this.toString=()=>"No functions found."}};zm.FleekFunctionsNotFoundError=Xx});var oR=E(Hm=>{"use strict";Object.defineProperty(Hm,"__esModule",{value:!0});Hm.FleekFunctionPathNotValidError=void 0;var Tse=N(),ev=class extends Tse.FleekError{constructor(){super(...arguments),this.name="FleekFunctionPathNotValidError",this.toString=()=>`File or folder at path, ${this.data.path} is invalid. Please refer to our documentation for more information on function file conventions.`}};Hm.FleekFunctionPathNotValidError=ev});var iR=E(Km=>{"use strict";Object.defineProperty(Km,"__esModule",{value:!0});Km.FleekFunctionNameNotValidError=void 0;var Fse=N(),tv=class extends Fse.FleekError{constructor(){super(...arguments),this.name="FleekFunctionNameNotValidError",this.toString=()=>`The name, ${this.data.name}, is invalid`}};Km.FleekFunctionNameNotValidError=tv});var aR=E(Jm=>{"use strict";Object.defineProperty(Jm,"__esModule",{value:!0});Jm.FleekFunctionStatusNotValidError=void 0;var Ose=N(),rv=class extends Ose.FleekError{constructor(){super(...arguments),this.name="FleekFunctionStatusNotValidError",this.toString=()=>"The function status is invalid. Must be one of ACTIVE and INACTIVE"}};Jm.FleekFunctionStatusNotValidError=rv});var sR=E(Vm=>{"use strict";Object.defineProperty(Vm,"__esModule",{value:!0});Vm.FleekFunctionSlugNotValidError=void 0;var Rse=N(),nv=class extends Rse.FleekError{constructor(){super(...arguments),this.name="FleekFunctionSlugNotValidError",this.toString=()=>`The slug, ${this.data.slug}, is invalid`}};Vm.FleekFunctionSlugNotValidError=nv});var cR=E(Zm=>{"use strict";Object.defineProperty(Zm,"__esModule",{value:!0});Zm.MaintenanceError=void 0;var Bse=N(),ov=class extends Bse.FleekError{constructor(){super({}),this.name="MaintenanceError",this.extensions={http:{status:503}},this.toString=()=>"The platform is under maintenance. Please try again later."}};Zm.MaintenanceError=ov});var uR=E(Qm=>{"use strict";Object.defineProperty(Qm,"__esModule",{value:!0});Qm.UserHasNoAccessToFeatureError=void 0;var Nse=N(),iv=class extends Nse.FleekError{constructor(){super(...arguments),this.name="UserHasNoAccessToFeatureError",this.toString=()=>"User has no access to this feature."}};Qm.UserHasNoAccessToFeatureError=iv});var lR=E(Ym=>{"use strict";Object.defineProperty(Ym,"__esModule",{value:!0});Ym.InvalidCidError=void 0;var Use=N(),av=class extends Use.FleekError{constructor(){super(...arguments),this.name="InvalidCidError",this.toString=()=>`The cid ${this.data.name} is invalid.`}};Ym.InvalidCidError=av});var pR=E(Xm=>{"use strict";Object.defineProperty(Xm,"__esModule",{value:!0});Xm.ValidationError=void 0;var qse=N(),sv=class extends qse.FleekError{constructor(){super(...arguments),this.name="ValidationError",this.toString=()=>`${JSON.stringify(this.data)}`}};Xm.ValidationError=sv});var dR=E(eg=>{"use strict";Object.defineProperty(eg,"__esModule",{value:!0});eg.UserInBlocklistError=void 0;var jse=N(),cv=class extends jse.FleekError{constructor(){super({}),this.name="UserInBlocklistError",this.toString=()=>"User is in the blocklist."}};eg.UserInBlocklistError=cv});var fR=E(tg=>{"use strict";Object.defineProperty(tg,"__esModule",{value:!0});tg.EnsNameContentHashCodecMistmatchError=void 0;var Lse=N(),uv=class extends Lse.FleekError{constructor(){super(...arguments),this.name="EnsNameContentHashCodecMistmatchError",this.toString=()=>`The content hash does not match or does not corresponds to ${this.data.codec} protocol`}};tg.EnsNameContentHashCodecMistmatchError=uv});var hR=E(rg=>{"use strict";Object.defineProperty(rg,"__esModule",{value:!0});rg.EnsNameContentHashUndefinedError=void 0;var Wse=N(),lv=class extends Wse.FleekError{constructor(){super(...arguments),this.name="EnsNameContentHashUndefinedError",this.toString=()=>`The content hash for ENS record name "${this.data.ensRecord.name}" is undefined.`}};rg.EnsNameContentHashUndefinedError=lv});var mR=E(ng=>{"use strict";Object.defineProperty(ng,"__esModule",{value:!0});ng.DnsConfigAlreadyExistsError=void 0;var Mse=N(),pv=class extends Mse.FleekError{constructor(){super(...arguments),this.name="DnsConfigAlreadyExistsError",this.toString=()=>`DNS config already exists for "${this.data.name}".`}};ng.DnsConfigAlreadyExistsError=pv});var gR=E(og=>{"use strict";Object.defineProperty(og,"__esModule",{value:!0});og.DnsConfigNotFoundError=void 0;var Gse=N(),dv=class extends Gse.FleekError{constructor(){super(...arguments),this.name="DnsConfigNotFoundError",this.toString=()=>`DNS config for the "${this.data.name}" name doesn't exist.`}};og.DnsConfigNotFoundError=dv});var yR=E(ig=>{"use strict";Object.defineProperty(ig,"__esModule",{value:!0});ig.TwoFactorSecretKeyFailedToEncryptError=void 0;var $se=N(),fv=class extends $se.FleekError{constructor(){super(...arguments),this.name="TwoFactorSecretKeyFailedToEncryptError",this.toString=()=>"Failed to encrypt 2FA secret key."}};ig.TwoFactorSecretKeyFailedToEncryptError=fv});var bR=E(ag=>{"use strict";Object.defineProperty(ag,"__esModule",{value:!0});ag.UserSecretKeyAlreadyExistsError=void 0;var zse=N(),hv=class extends zse.FleekError{constructor(){super(...arguments),this.name="UserSecretKeyAlreadyExistsError",this.toString=()=>"A secret key for this user already exists."}};ag.UserSecretKeyAlreadyExistsError=hv});var wR=E(sg=>{"use strict";Object.defineProperty(sg,"__esModule",{value:!0});sg.UserSecretKeyNotFoundError=void 0;var Hse=N(),mv=class extends Hse.FleekError{constructor(){super(...arguments),this.name="UserSecretKeyNotFoundError",this.toString=()=>"A secret key for this user not found."}};sg.UserSecretKeyNotFoundError=mv});var _R=E(cg=>{"use strict";Object.defineProperty(cg,"__esModule",{value:!0});cg.TwoFactorSecretKeyFailedToDecryptError=void 0;var Kse=N(),gv=class extends Kse.FleekError{constructor(){super(...arguments),this.name="TwoFactorSecretKeyFailedToDecryptError",this.toString=()=>"Failed to decrypt 2FA secret key."}};cg.TwoFactorSecretKeyFailedToDecryptError=gv});var SR=E(ug=>{"use strict";Object.defineProperty(ug,"__esModule",{value:!0});ug.RecoveryCodesAlreadyExistsError=void 0;var Jse=N(),yv=class extends Jse.FleekError{constructor(){super(...arguments),this.name="RecoveryCodesAlreadyExistsError",this.toString=()=>"Recovery codes already exists."}};ug.RecoveryCodesAlreadyExistsError=yv});var ER=E(lg=>{"use strict";Object.defineProperty(lg,"__esModule",{value:!0});lg.WriteFileFromStreamError=void 0;var Vse=N(),bv=class extends Vse.FleekError{constructor(){super({}),this.name="WriteFileFromStreamError",this.toString=()=>"There was an error while writing file from stream in globSource"}};lg.WriteFileFromStreamError=bv});var xR=E(pg=>{"use strict";Object.defineProperty(pg,"__esModule",{value:!0});pg.InvalidTOTPTokenError=void 0;var Zse=N(),wv=class extends Zse.FleekError{constructor(){super(...arguments),this.name="InvalidTOTPTokenError",this.toString=()=>"TOTP token is invalid."}};pg.InvalidTOTPTokenError=wv});var vR=E(dg=>{"use strict";Object.defineProperty(dg,"__esModule",{value:!0});dg.InvalidRecoveryCodeError=void 0;var Qse=N(),_v=class extends Qse.FleekError{constructor(){super(...arguments),this.name="InvalidRecoveryCodeError",this.toString=()=>"Recovery code is invalid."}};dg.InvalidRecoveryCodeError=_v});var PR=E(fg=>{"use strict";Object.defineProperty(fg,"__esModule",{value:!0});fg.MissingTwoFactorProtectionCredentialsError=void 0;var Yse=N(),Sv=class extends Yse.FleekError{constructor(){super(...arguments),this.name="MissingTwoFactorProtectionCredentialsError",this.toString=()=>"Missing two factor protection credentials. Either a token or a recovery key should be provided."}};fg.MissingTwoFactorProtectionCredentialsError=Sv});var DR=E(hg=>{"use strict";Object.defineProperty(hg,"__esModule",{value:!0});hg.DeploymentInProgressError=void 0;var Xse=N(),Ev=class extends Xse.FleekError{constructor(){super(...arguments),this.name="DeploymentInProgressError",this.toString=()=>"Deployment is already in progress."}};hg.DeploymentInProgressError=Ev});var AR=E(mg=>{"use strict";Object.defineProperty(mg,"__esModule",{value:!0});mg.PullzoneNotFoundForZoneIdError=void 0;var ece=N(),xv=class extends ece.FleekError{constructor(){super(...arguments),this.name="PullzoneNotFoundForZoneIdError",this.toString=()=>`The pullzone is not found for zone id: ${this.data.id}`}};mg.PullzoneNotFoundForZoneIdError=xv});var IR=E(gg=>{"use strict";Object.defineProperty(gg,"__esModule",{value:!0});gg.RecoveryCodeFailedToEncryptError=void 0;var tce=N(),vv=class extends tce.FleekError{constructor(){super(...arguments),this.name="RecoveryCodeFailedToEncryptError",this.toString=()=>"Failed to encrypt recovery code."}};gg.RecoveryCodeFailedToEncryptError=vv});var kR=E(yg=>{"use strict";Object.defineProperty(yg,"__esModule",{value:!0});yg.RecoveryCodeFailedToDecryptError=void 0;var rce=N(),Pv=class extends rce.FleekError{constructor(){super(...arguments),this.name="RecoveryCodeFailedToDecryptError",this.toString=()=>"Failed to decrypt recovery code."}};yg.RecoveryCodeFailedToDecryptError=Pv});var CR=E(bg=>{"use strict";Object.defineProperty(bg,"__esModule",{value:!0});bg.PermissionGroupNotFoundError=void 0;var nce=N(),Dv=class extends nce.FleekError{constructor(){super(...arguments),this.name="PermissionGroupNotFoundError",this.toString=()=>"Permission group not found"}};bg.PermissionGroupNotFoundError=Dv});var TR=E(wg=>{"use strict";Object.defineProperty(wg,"__esModule",{value:!0});wg.PermissionScopeError=void 0;var oce=N(),Av=class extends oce.FleekError{constructor(){super(...arguments),this.name="PermissionScopeError",this.toString=()=>`Permission scope ${this.data.scope} doesn't exist.`}};wg.PermissionScopeError=Av});var FR=E(_g=>{"use strict";Object.defineProperty(_g,"__esModule",{value:!0});_g.InvalidAdminAccessTokenError=void 0;var ice=N(),Iv=class extends ice.FleekError{constructor(){super(...arguments),this.name="InvalidAdminAccessTokenError",this.toString=()=>"Admin access token is invalid."}};_g.InvalidAdminAccessTokenError=Iv});var OR=E(Sg=>{"use strict";Object.defineProperty(Sg,"__esModule",{value:!0});Sg.MissingExpectedDataError=void 0;var ace=N(),kv=class extends ace.FleekError{constructor(){super(...arguments),this.name="MissingExpectedDataError",this.toString=()=>"Oops! This is embarassing but the app is missing important data. Please report this issue to the team."}};Sg.MissingExpectedDataError=kv});var RR=E(Eg=>{"use strict";Object.defineProperty(Eg,"__esModule",{value:!0});Eg.EnvNotSetError=void 0;var sce=N(),Cv=class extends sce.FleekError{constructor(){super(...arguments),this.name="EnvNotSetError",this.toString=()=>this.data?`Environment variable "${this.data}" is not set.`:"Missing the defined object key pair values."}};Eg.EnvNotSetError=Cv});var BR=E(xg=>{"use strict";Object.defineProperty(xg,"__esModule",{value:!0});xg.GitSecretsFailedToEncryptError=void 0;var cce=N(),Tv=class extends cce.FleekError{constructor(){super(...arguments),this.name="GitSecretsFailedToEncryptError",this.toString=()=>"Failed to encrypt Git Secrets."}};xg.GitSecretsFailedToEncryptError=Tv});var NR=E(vg=>{"use strict";Object.defineProperty(vg,"__esModule",{value:!0});vg.GitConfigFailedToParseError=void 0;var uce=N(),Fv=class extends uce.FleekError{constructor(){super(...arguments),this.name="GitSecretsFailedToEncryptError",this.toString=()=>"Failed to parse Git Configs."}};vg.GitConfigFailedToParseError=Fv});var UR=E(Pg=>{"use strict";Object.defineProperty(Pg,"__esModule",{value:!0});Pg.PathIsNotAFileError=void 0;var lce=N(),Ov=class extends lce.FleekError{constructor(){super(...arguments),this.name="PathIsNotAFileError",this.toString=()=>`Given path ${this.data.path} is not a file.`}};Pg.PathIsNotAFileError=Ov});var qR=E(Dg=>{"use strict";Object.defineProperty(Dg,"__esModule",{value:!0});Dg.FleekFunctionBundlingFailedError=void 0;var pce=N(),Rv=class extends pce.FleekError{constructor(){super(...arguments),this.name="FleekFunctionBundlingFailedError",this.toString=()=>`Bundle creation failed. For information on supported packages, please consult our documentation.
Error: ${this.data.error}`}};Dg.FleekFunctionBundlingFailedError=Rv});var jR=E(Ag=>{"use strict";Object.defineProperty(Ag,"__esModule",{value:!0});Ag.GitIntegrationNotFoundError=void 0;var dce=N(),Bv=class extends dce.FleekError{constructor(){super(...arguments),this.name="GitIntegrationNotFoundError",this.toString=()=>{let t="";return"siteId"in this.data?t=`for site ${this.data.siteId}`:"id"in this.data&&(t=`with id ${this.data.id}`),`Git Integration ${t} not found`}}};Ag.GitIntegrationNotFoundError=Bv});var LR=E(Ig=>{"use strict";Object.defineProperty(Ig,"__esModule",{value:!0});Ig.GitProviderNotFoundError=void 0;var fce=N(),Nv=class extends fce.FleekError{constructor(){super(...arguments),this.name="GitProviderNotFoundError",this.toString=()=>`No Git Provider found with id: ${this.data.providerId}`}};Ig.GitProviderNotFoundError=Nv});var WR=E(kg=>{"use strict";Object.defineProperty(kg,"__esModule",{value:!0});kg.ExpectedOneOfValuesError=void 0;var hce=N(),Uv=class extends hce.FleekError{constructor(){super(...arguments),this.name="ExpectedOneOfValuesError",this.toString=()=>`Expected one of ${this.data.expectedValues.join(", ")} but got ${this.data.receivedValue}`}};kg.ExpectedOneOfValuesError=Uv});var MR=E(Cg=>{"use strict";Object.defineProperty(Cg,"__esModule",{value:!0});Cg.InvalidJSONFormat=void 0;var mce=N(),qv=class extends mce.FleekError{constructor(){super(...arguments),this.name="InvalidJSONFormat",this.toString=()=>"Invalid JSON format."}};Cg.InvalidJSONFormat=qv});var GR=E(Tg=>{"use strict";Object.defineProperty(Tg,"__esModule",{value:!0});Tg.StorageUploadFileCountQuotaExceededError=void 0;var gce=N(),jv=class extends gce.FleekError{constructor(t={}){super(t),this.name="StorageUploadFileCountQuotaExceededError",this.toString=()=>this.data?.quota?`Sorry, you have reached your daily limit of ${this.data.quota} file uploads. We are unable to process your request.`:"You have exceeded your file upload limit for the past 24 hours."}};Tg.StorageUploadFileCountQuotaExceededError=jv});var $R=E(Fg=>{"use strict";Object.defineProperty(Fg,"__esModule",{value:!0});Fg.StorageUploadTotalSizeQuotaExceededError=void 0;var yce=N(),Lv=class extends yce.FleekError{constructor(t={}){super(t),this.name="StorageUploadTotalSizeQuotaExceededError",this.toString=()=>this.data?.quota?`Sorry, you have reached your daily upload limit of ${Math.round(this.data.quota/1e3**3)}GB. We are unable to process your request.`:"You have exceeded your storage upload quota for the last 24 hours."}};Fg.StorageUploadTotalSizeQuotaExceededError=Lv});var zR=E(Og=>{"use strict";Object.defineProperty(Og,"__esModule",{value:!0});Og.GitProviderNotSupportedError=void 0;var bce=N(),Wv=class extends bce.FleekError{constructor(){super(...arguments),this.name="GitProviderNotSupportedError",this.toString=()=>`Git provider: ${this.data.provider} not Supported`}};Og.GitProviderNotSupportedError=Wv});var HR=E(Rg=>{"use strict";Object.defineProperty(Rg,"__esModule",{value:!0});Rg.GitProviderNotAuthorizedError=void 0;var wce=N(),Mv=class extends wce.FleekError{constructor(){super(...arguments),this.name="GitProviderNotAuthorizedError",this.toString=()=>`The user has not authorized the Git provider: ${this.data.provider}`}};Rg.GitProviderNotAuthorizedError=Mv});var KR=E(Bg=>{"use strict";Object.defineProperty(Bg,"__esModule",{value:!0});Bg.GitAccessTokenInvalidError=void 0;var _ce=N(),Gv=class extends _ce.FleekError{constructor(){super(...arguments),this.name="GitAccessTokenInvalidError",this.toString=()=>"The git access token for the user is invalid"}};Bg.GitAccessTokenInvalidError=Gv});var JR=E(Ng=>{"use strict";Object.defineProperty(Ng,"__esModule",{value:!0});Ng.QueuedDeploymentsLimitError=void 0;var Sce=N(),$v=class extends Sce.FleekError{constructor(){super(...arguments),this.name="QueuedDeploymentsLimitError",this.toString=()=>`You've reached the limit of ${this.data.limit} queued deployments.`}};Ng.QueuedDeploymentsLimitError=$v});var VR=E(Ug=>{"use strict";Object.defineProperty(Ug,"__esModule",{value:!0});Ug.GitIntegrationInstallationConflictError=void 0;var Ece=N(),zv=class extends Ece.FleekError{constructor(){super(...arguments),this.name="GitIntegrationInstallationConflictError",this.toString=()=>"This Git Installation ID has been already assigned to an existing Git Integration"}};Ug.GitIntegrationInstallationConflictError=zv});var ZR=E(qg=>{"use strict";Object.defineProperty(qg,"__esModule",{value:!0});qg.GitLinkMultipleAccountError=void 0;var xce=N(),Hv=class extends xce.FleekError{constructor(){super(...arguments),this.name="GitLinkMultipleAccountError",this.toString=()=>"Oops! You already have a Git profile linked to your Fleek account. We don't allow multiple connections"}};qg.GitLinkMultipleAccountError=Hv});var QR=E(jg=>{"use strict";Object.defineProperty(jg,"__esModule",{value:!0});jg.GitRepoByNameAndOwnerNotFoundError=void 0;var vce=N(),Kv=class extends vce.FleekError{constructor(){super(...arguments),this.name="GitRepoByNameAndOwnerNotFoundError",this.toString=()=>`Git repo "${this.data.owner}/${this.data.repo}" not found`}};jg.GitRepoByNameAndOwnerNotFoundError=Kv});var YR=E(Lg=>{"use strict";Object.defineProperty(Lg,"__esModule",{value:!0});Lg.GitAccessTokenNotFoundError=void 0;var Pce=N(),Jv=class extends Pce.FleekError{constructor(){super(...arguments),this.name="GitAccessTokenNotFoundError",this.toString=()=>"The git access token for the user is not found"}};Lg.GitAccessTokenNotFoundError=Jv});var XR=E(Wg=>{"use strict";Object.defineProperty(Wg,"__esModule",{value:!0});Wg.FolderNotFoundError=void 0;var Dce=N(),Vv=class extends Dce.FleekError{constructor(){super(...arguments),this.name="FolderNotFoundError",this.toString=()=>"Folder was not found."}};Wg.FolderNotFoundError=Vv});var eB=E(Mg=>{"use strict";Object.defineProperty(Mg,"__esModule",{value:!0});Mg.FolderAlreadyExistsError=void 0;var Ace=N(),Zv=class extends Ace.FleekError{constructor(){super(...arguments),this.name="FolderAlreadyExistsError",this.toString=()=>`Folder ${this.data.folder.name} already exists in ${this.data.folder.parentFolderId?"parent":"root project"} folder.`}};Mg.FolderAlreadyExistsError=Zv});var tB=E(Gg=>{"use strict";Object.defineProperty(Gg,"__esModule",{value:!0});Gg.FolderNameContainsReservedWordError=void 0;var Ice=N(),Qv=class extends Ice.FleekError{constructor(){super(...arguments),this.name="FolderNameContainsReservedWorkError",this.toString=()=>`Folder name ${this.data.name} is reserved word and you cannot use it.`}};Gg.FolderNameContainsReservedWordError=Qv});var rB=E($g=>{"use strict";Object.defineProperty($g,"__esModule",{value:!0});$g.PinsNotFoundError=void 0;var kce=N(),Yv=class extends kce.FleekError{constructor(){super(...arguments),this.name="PinsNotFoundError",this.toString=()=>"No pins found."}};$g.PinsNotFoundError=Yv});var nB=E(zg=>{"use strict";Object.defineProperty(zg,"__esModule",{value:!0});zg.SiteCreationFailedError=void 0;var Cce=N(),Xv=class extends Cce.FleekError{constructor(){super({}),this.name="SiteCreationFailedError",this.toString=()=>"Site creation failed."}};zg.SiteCreationFailedError=Xv});var oB=E(Hg=>{"use strict";Object.defineProperty(Hg,"__esModule",{value:!0});Hg.FleekFunctionInvalidWasmCodeError=void 0;var Tce=N(),e2=class extends Tce.FleekError{constructor(){super(...arguments),this.name="FleekFunctionInvalidWasmCodeError",this.toString=()=>"Fleek function encountered corrupt or invalid WASM code."}};Hg.FleekFunctionInvalidWasmCodeError=e2});var iB=E(Kg=>{"use strict";Object.defineProperty(Kg,"__esModule",{value:!0});Kg.FleekFunctionWasmEncryptionFailedError=void 0;var Fce=N(),t2=class extends Fce.FleekError{constructor(){super(...arguments),this.name="FleekFunctionWasmEncryptionFailedError",this.toString=()=>"Unable to encrypt WASM code for Fleek function"}};Kg.FleekFunctionWasmEncryptionFailedError=t2});var aB=E(Jg=>{"use strict";Object.defineProperty(Jg,"__esModule",{value:!0});Jg.UploadProxyStoreAsCarError=void 0;var Oce=N(),r2=class extends Oce.FleekError{constructor(){super({}),this.name="UploadProxyStoreAsCarError",this.toString=()=>"Failed to Store as a CAR file."}};Jg.UploadProxyStoreAsCarError=r2});var sB=E(Vg=>{"use strict";Object.defineProperty(Vg,"__esModule",{value:!0});Vg.UploadProxyUploadFileError=void 0;var Rce=N(),n2=class extends Rce.FleekError{constructor(){super({}),this.name="UploadProxyUploadFileError",this.toString=()=>"Failed to Upload file."}};Vg.UploadProxyUploadFileError=n2});var cB=E(Zg=>{"use strict";Object.defineProperty(Zg,"__esModule",{value:!0});Zg.IpfsDenylistUpdateWorkflowTriggerFailedError=void 0;var Bce=N(),o2=class extends Bce.FleekError{constructor(){super(...arguments),this.name="IpfsDenylistUpdateWorkflowTriggerFailedError",this.toString=()=>`Failed to trigger IPFS denylist update workflow: ${this.data.error}`}};Zg.IpfsDenylistUpdateWorkflowTriggerFailedError=o2});var uB=E(Qg=>{"use strict";Object.defineProperty(Qg,"__esModule",{value:!0});Qg.ProjectSiteLimitExceededError=void 0;var Nce=N(),i2=class extends Nce.FleekError{constructor(){super(...arguments),this.name="ProjectSiteLimitExceededError",this.toString=()=>"Your project is growing! You've reached the maximum number of sites for this project. Upgrade your plan at https://fleek.xyz/pricing to add more sites. Need assistance? Our Support team is ready to help."}};Qg.ProjectSiteLimitExceededError=i2});var lB=E(Yg=>{"use strict";Object.defineProperty(Yg,"__esModule",{value:!0});Yg.ProjectFleekFunctionLimitExceededError=void 0;var Uce=N(),a2=class extends Uce.FleekError{constructor(){super({}),this.name="ProjectFleekFunctionLimitExceededError",this.toString=()=>"You've reached the maximum number of Fleek functions for this project. Contact our Support team if you have any questions."}};Yg.ProjectFleekFunctionLimitExceededError=a2});var pB=E(Xg=>{"use strict";Object.defineProperty(Xg,"__esModule",{value:!0});Xg.UserProjectLimitExceededError=void 0;var qce=N(),s2=class extends qce.FleekError{constructor(){super({}),this.name="UserProjectLimitExceededError",this.toString=()=>"Your project is growing! You've reached the maximum number of projects for your account. Upgrade your plan at https://fleek.xyz/pricing to add more projects. Need assistance? Our Support team is ready to help."}};Xg.UserProjectLimitExceededError=s2});var dB=E(ey=>{"use strict";Object.defineProperty(ey,"__esModule",{value:!0});ey.ProjectDomainsLimitExceededError=void 0;var jce=N(),c2=class extends jce.FleekError{constructor(){super(...arguments),this.name="ProjectDomainsLimitExceededError",this.toString=()=>"Your project is growing! You've reached the maximum number of domains for this project. Upgrade your plan at https://fleek.xyz/pricing to add more domains. Need assistance? Our Support team is ready to help."}};ey.ProjectDomainsLimitExceededError=c2});var fB=E(ty=>{"use strict";Object.defineProperty(ty,"__esModule",{value:!0});ty.ProjectMembershipsLimitExceededError=void 0;var Lce=N(),u2=class extends Lce.FleekError{constructor(){super(...arguments),this.name="ProjectMembershipsLimitExceededError",this.toString=()=>"Your project is growing! You've reached the maximum number of memberships for this project. Upgrade your plan at https://fleek.xyz/pricing to add more members. Need assistance? Our Support team is ready to help."}};ty.ProjectMembershipsLimitExceededError=u2});var hB=E(ry=>{"use strict";Object.defineProperty(ry,"__esModule",{value:!0});ry.FleekRestApiInternalError=void 0;var Wce=N(),l2=class extends Wce.FleekError{constructor(){super(...arguments),this.name="FleekRestApiInternalError",this.toString=()=>this.data.message}};ry.FleekRestApiInternalError=l2});var mB=E(ny=>{"use strict";Object.defineProperty(ny,"__esModule",{value:!0});ny.SiteMayHaveOneFleekFunctionError=void 0;var Mce=N(),p2=class extends Mce.FleekError{constructor(){super(...arguments),this.name="SiteMayHaveOneFleekFunctionError",this.toString=()=>"Site may have assigned one Fleek Function at most."}};ny.SiteMayHaveOneFleekFunctionError=p2});var gB=E(oy=>{"use strict";Object.defineProperty(oy,"__esModule",{value:!0});oy.ProjectWithSubscriptionCannotBeDeleted=void 0;var Gce=N(),d2=class extends Gce.FleekError{constructor(){super(...arguments),this.name="ProjectWithSubscriptionCannotBeDeleted",this.toString=()=>"The Project have active subscripiton for a billing plan, please cancel it before deleting the project"}};oy.ProjectWithSubscriptionCannotBeDeleted=d2});var it=E(v=>{"use strict";Object.defineProperty(v,"__esModule",{value:!0});v.EnsRecordInPendingStateError=v.EnsNameInvalidError=v.EnsRecordAlreadyExistsInProjectError=v.EnsRecordNotFoundError=v.ApplicationNameInvalidError=v.ApplicationNotFoundError=v.ApplicationsNotFoundError=v.ApplicationAlreadyExistsError=v.ApplicationWhitelistDomainDuplicityError=v.FleekConfigMissingFileError=v.FleekConfigInvalidContentError=v.UnauthorizedError=v.DomainZoneInvalidTypeError=v.DomainNotFoundUnderPullzoneError=v.DomainZoneInPendingStateError=v.DomainZoneHasDependentsError=v.DomainZoneNotFoundError=v.UnauthenticatedError=v.VerificationSessionAlreadyExistsError=v.PublicKeyAlreadyExistsError=v.ProjectInvalidNameError=v.ProjectHasDependentsError=v.ProjectsNotFoundError=v.ProjectNotFoundError=v.UserAlreadyExistsError=v.UserNotFoundError=v.GithubAppInstallationNotFoundError=v.ProjectMembershipNotFoundError=v.AuthorizationError=v.SdkRequiredNodeRuntimeError=v.StorageIpfsUploadFailedError=v.IpnsRecordsForSiteLimitError=v.IpnsFailToDecryptKeyError=v.IpnsRecordsNotFoundError=v.IpnsRecordNotFoundError=v.SiteNotDeployedError=v.SiteHasNoSourceProviderError=v.SiteHasDependentsError=v.SiteDeploymentNotFoundError=v.SiteAlreadyExistsError=v.SitesNotFoundError=v.SiteNotFoundError=v.UnknownError=v.DomainHostnameInvalidError=v.DomainInPendingStateError=v.DomainAlreadyExistsInProjectError=v.DomainsNotFoundError=v.DomainNotFoundError=v.BunnyPullZoneNotFoundError=v.FleekError=void 0;v.EnsNameContentHashUndefinedError=v.EnsNameContentHashCodecMistmatchError=v.UserInBlocklistError=v.ValidationError=v.InvalidCidError=v.UserHasNoAccessToFeatureError=v.MaintenanceError=v.FleekFunctionSlugNotValidError=v.FleekFunctionStatusNotValidError=v.FleekFunctionNameNotValidError=v.FleekFunctionPathNotValidError=v.FleekFunctionsNotFoundError=v.FleekFunctionDeploymentNotFoundError=v.FleekFunctionNotFoundError=v.FleekFunctionAlreadyExistsError=v.PathIsNotADirectoryError=v.UploadedS3KeyNotFoundError=v.ProjectMembershipNoOwnersError=v.ProjectMembershipAlreadyExistError=v.ProjectInvitationAlreadyExistError=v.MigrationRequestInPendingStateError=v.MigrationRequestNotFoundError=v.MigrationRequestsAlreadyExistError=v.MigrationTokenInvalidError=v.InvitationNotFoundError=v.IpfsGatewayContentUnreachableError=v.InvalidDeploymentTriggerError=v.SiteDeploymentNotReleasedError=v.UnstoppableDeploymentError=v.PinAlreadyExistsInProjectError=v.PinNotFoundError=v.SecretFailToEncryptError=v.SecretKeyAlreadyExistsError=v.SecretVisibilityAlreadyEncryptedError=v.SecretNotFoundError=v.SecretGroupNotFoundError=v.ProjectMembershipHasInefficientRoleError=v.TemplateDeploymentNotFoundError=v.TemplateCategoryNotFoundError=v.SiteFrameworkNotFoundError=v.SiteFrameworkAlreadyExistsError=v.UserHasNoAccessToAnotherUserError=v.TemplateNotFoundError=v.TemplateAlreadyExistsError=v.PrivateGatewaysNotFoundError=v.PrivateGatewayNameInvalidError=v.PrivateGatewayAlreadyExistsError=v.PrivateGatewayNotFoundError=v.PersonalAccessTokenNotFoundError=v.InvalidPersonalAccessTokenError=void 0;v.ProjectFleekFunctionLimitExceededError=v.ProjectSiteLimitExceededError=v.IpfsDenylistUpdateWorkflowTriggerFailedError=v.UploadProxyUploadFileError=v.UploadProxyStoreAsCarError=v.FleekFunctionWasmEncryptionFailedError=v.FleekFunctionInvalidWasmCodeError=v.SiteCreationFailedError=v.PinsNotFoundError=v.FolderNameContainsReservedWordError=v.FolderAlreadyExistsError=v.FolderNotFoundError=v.GitAccessTokenNotFoundError=v.GitRepoByNameAndOwnerNotFoundError=v.GitLinkMultipleAccountError=v.GitIntegrationInstallationConflictError=v.QueuedDeploymentsLimitError=v.GitAccessTokenInvalidError=v.GitProviderNotAuthorizedError=v.GitProviderNotSupportedError=v.StorageUploadTotalSizeQuotaExceededError=v.StorageUploadFileCountQuotaExceededError=v.InvalidJSONFormat=v.ExpectedOneOfValuesError=v.GitProviderNotFoundError=v.GitIntegrationNotFoundError=v.FleekFunctionBundlingFailedError=v.PathIsNotAFileError=v.GitConfigFailedToParseError=v.GitSecretsFailedToEncryptError=v.EnvNotSetError=v.MissingExpectedDataError=v.InvalidAdminAccessTokenError=v.PermissionScopeError=v.PermissionGroupNotFoundError=v.RecoveryCodeFailedToDecryptError=v.RecoveryCodeFailedToEncryptError=v.PullzoneNotFoundForZoneIdError=v.DeploymentInProgressError=v.MissingTwoFactorProtectionCredentialsError=v.InvalidRecoveryCodeError=v.InvalidTOTPTokenError=v.WriteFileFromStreamError=v.RecoveryCodesAlreadyExistsError=v.TwoFactorSecretKeyFailedToDecryptError=v.UserSecretKeyNotFoundError=v.UserSecretKeyAlreadyExistsError=v.TwoFactorSecretKeyFailedToEncryptError=v.DnsConfigNotFoundError=v.DnsConfigAlreadyExistsError=void 0;v.ProjectWithSubscriptionCannotBeDeleted=v.SiteMayHaveOneFleekFunctionError=v.FleekRestApiInternalError=v.ProjectMembershipsLimitExceededError=v.ProjectDomainsLimitExceededError=v.UserProjectLimitExceededError=void 0;var $ce=N();Object.defineProperty(v,"FleekError",{enumerable:!0,get:function(){return $ce.FleekError}});var zce=v5();Object.defineProperty(v,"BunnyPullZoneNotFoundError",{enumerable:!0,get:function(){return zce.BunnyPullZoneNotFoundError}});var Hce=P5();Object.defineProperty(v,"DomainNotFoundError",{enumerable:!0,get:function(){return Hce.DomainNotFoundError}});var Kce=D5();Object.defineProperty(v,"DomainsNotFoundError",{enumerable:!0,get:function(){return Kce.DomainsNotFoundError}});var Jce=A5();Object.defineProperty(v,"DomainAlreadyExistsInProjectError",{enumerable:!0,get:function(){return Jce.DomainAlreadyExistsInProjectError}});var Vce=I5();Object.defineProperty(v,"DomainInPendingStateError",{enumerable:!0,get:function(){return Vce.DomainInPendingStateError}});var Zce=k5();Object.defineProperty(v,"DomainHostnameInvalidError",{enumerable:!0,get:function(){return Zce.DomainHostnameInvalidError}});var Qce=C5();Object.defineProperty(v,"UnknownError",{enumerable:!0,get:function(){return Qce.UnknownError}});var Yce=T5();Object.defineProperty(v,"SiteNotFoundError",{enumerable:!0,get:function(){return Yce.SiteNotFoundError}});var Xce=F5();Object.defineProperty(v,"SitesNotFoundError",{enumerable:!0,get:function(){return Xce.SitesNotFoundError}});var eue=O5();Object.defineProperty(v,"SiteAlreadyExistsError",{enumerable:!0,get:function(){return eue.SiteAlreadyExistsError}});var tue=R5();Object.defineProperty(v,"SiteDeploymentNotFoundError",{enumerable:!0,get:function(){return tue.SiteDeploymentNotFoundError}});var rue=B5();Object.defineProperty(v,"SiteHasDependentsError",{enumerable:!0,get:function(){return rue.SiteHasDependentsError}});var nue=N5();Object.defineProperty(v,"SiteHasNoSourceProviderError",{enumerable:!0,get:function(){return nue.SiteHasNoSourceProviderError}});var oue=U5();Object.defineProperty(v,"SiteNotDeployedError",{enumerable:!0,get:function(){return oue.SiteNotDeployedError}});var iue=q5();Object.defineProperty(v,"IpnsRecordNotFoundError",{enumerable:!0,get:function(){return iue.IpnsRecordNotFoundError}});var aue=j5();Object.defineProperty(v,"IpnsRecordsNotFoundError",{enumerable:!0,get:function(){return aue.IpnsRecordsNotFoundError}});var sue=L5();Object.defineProperty(v,"IpnsFailToDecryptKeyError",{enumerable:!0,get:function(){return sue.IpnsFailToDecryptKeyError}});var cue=W5();Object.defineProperty(v,"IpnsRecordsForSiteLimitError",{enumerable:!0,get:function(){return cue.IpnsRecordsForSiteLimitError}});var uue=M5();Object.defineProperty(v,"StorageIpfsUploadFailedError",{enumerable:!0,get:function(){return uue.StorageIpfsUploadFailedError}});var lue=G5();Object.defineProperty(v,"SdkRequiredNodeRuntimeError",{enumerable:!0,get:function(){return lue.SdkRequiredNodeRuntimeError}});var pue=$5();Object.defineProperty(v,"AuthorizationError",{enumerable:!0,get:function(){return pue.AuthorizationError}});var due=z5();Object.defineProperty(v,"ProjectMembershipNotFoundError",{enumerable:!0,get:function(){return due.ProjectMembershipNotFoundError}});var fue=H5();Object.defineProperty(v,"GithubAppInstallationNotFoundError",{enumerable:!0,get:function(){return fue.GithubAppInstallationNotFoundError}});var hue=K5();Object.defineProperty(v,"UserNotFoundError",{enumerable:!0,get:function(){return hue.UserNotFoundError}});var mue=J5();Object.defineProperty(v,"UserAlreadyExistsError",{enumerable:!0,get:function(){return mue.UserAlreadyExistsError}});var gue=V5();Object.defineProperty(v,"ProjectNotFoundError",{enumerable:!0,get:function(){return gue.ProjectNotFoundError}});var yue=Z5();Object.defineProperty(v,"ProjectsNotFoundError",{enumerable:!0,get:function(){return yue.ProjectsNotFoundError}});var bue=Q5();Object.defineProperty(v,"ProjectHasDependentsError",{enumerable:!0,get:function(){return bue.ProjectHasDependentsError}});var wue=Y5();Object.defineProperty(v,"ProjectInvalidNameError",{enumerable:!0,get:function(){return wue.ProjectInvalidNameError}});var _ue=X5();Object.defineProperty(v,"PublicKeyAlreadyExistsError",{enumerable:!0,get:function(){return _ue.PublicKeyAlreadyExistsError}});var Sue=eO();Object.defineProperty(v,"VerificationSessionAlreadyExistsError",{enumerable:!0,get:function(){return Sue.VerificationSessionAlreadyExistsError}});var Eue=tO();Object.defineProperty(v,"UnauthenticatedError",{enumerable:!0,get:function(){return Eue.UnauthenticatedError}});var xue=rO();Object.defineProperty(v,"DomainZoneNotFoundError",{enumerable:!0,get:function(){return xue.DomainZoneNotFoundError}});var vue=nO();Object.defineProperty(v,"DomainZoneHasDependentsError",{enumerable:!0,get:function(){return vue.DomainZoneHasDependentsError}});var Pue=oO();Object.defineProperty(v,"DomainZoneInPendingStateError",{enumerable:!0,get:function(){return Pue.DomainZoneInPendingStateError}});var Due=iO();Object.defineProperty(v,"DomainNotFoundUnderPullzoneError",{enumerable:!0,get:function(){return Due.DomainNotFoundUnderPullzoneError}});var Aue=aO();Object.defineProperty(v,"DomainZoneInvalidTypeError",{enumerable:!0,get:function(){return Aue.DomainZoneInvalidTypeError}});var Iue=sO();Object.defineProperty(v,"UnauthorizedError",{enumerable:!0,get:function(){return Iue.UnauthorizedError}});var kue=cO();Object.defineProperty(v,"FleekConfigInvalidContentError",{enumerable:!0,get:function(){return kue.FleekConfigInvalidContentError}});var Cue=uO();Object.defineProperty(v,"FleekConfigMissingFileError",{enumerable:!0,get:function(){return Cue.FleekConfigMissingFileError}});var Tue=lO();Object.defineProperty(v,"ApplicationWhitelistDomainDuplicityError",{enumerable:!0,get:function(){return Tue.ApplicationWhitelistDomainDuplicityError}});var Fue=pO();Object.defineProperty(v,"ApplicationAlreadyExistsError",{enumerable:!0,get:function(){return Fue.ApplicationAlreadyExistsError}});var Oue=dO();Object.defineProperty(v,"ApplicationsNotFoundError",{enumerable:!0,get:function(){return Oue.ApplicationsNotFoundError}});var Rue=fO();Object.defineProperty(v,"ApplicationNotFoundError",{enumerable:!0,get:function(){return Rue.ApplicationNotFoundError}});var Bue=hO();Object.defineProperty(v,"ApplicationNameInvalidError",{enumerable:!0,get:function(){return Bue.ApplicationNameInvalidError}});var Nue=mO();Object.defineProperty(v,"EnsRecordNotFoundError",{enumerable:!0,get:function(){return Nue.EnsRecordNotFoundError}});var Uue=gO();Object.defineProperty(v,"EnsRecordAlreadyExistsInProjectError",{enumerable:!0,get:function(){return Uue.EnsRecordAlreadyExistsInProjectError}});var que=yO();Object.defineProperty(v,"EnsNameInvalidError",{enumerable:!0,get:function(){return que.EnsNameInvalidError}});var jue=bO();Object.defineProperty(v,"EnsRecordInPendingStateError",{enumerable:!0,get:function(){return jue.EnsRecordInPendingStateError}});var Lue=wO();Object.defineProperty(v,"InvalidPersonalAccessTokenError",{enumerable:!0,get:function(){return Lue.InvalidPersonalAccessTokenError}});var Wue=_O();Object.defineProperty(v,"PersonalAccessTokenNotFoundError",{enumerable:!0,get:function(){return Wue.PersonalAccessTokenNotFoundError}});var Mue=SO();Object.defineProperty(v,"PrivateGatewayNotFoundError",{enumerable:!0,get:function(){return Mue.PrivateGatewayNotFoundError}});var Gue=EO();Object.defineProperty(v,"PrivateGatewayAlreadyExistsError",{enumerable:!0,get:function(){return Gue.PrivateGatewayAlreadyExistsError}});var $ue=xO();Object.defineProperty(v,"PrivateGatewayNameInvalidError",{enumerable:!0,get:function(){return $ue.PrivateGatewayNameInvalidError}});var zue=vO();Object.defineProperty(v,"PrivateGatewaysNotFoundError",{enumerable:!0,get:function(){return zue.PrivateGatewaysNotFoundError}});var Hue=PO();Object.defineProperty(v,"TemplateAlreadyExistsError",{enumerable:!0,get:function(){return Hue.TemplateAlreadyExistsError}});var Kue=DO();Object.defineProperty(v,"TemplateNotFoundError",{enumerable:!0,get:function(){return Kue.TemplateNotFoundError}});var Jue=AO();Object.defineProperty(v,"UserHasNoAccessToAnotherUserError",{enumerable:!0,get:function(){return Jue.UserHasNoAccessToAnotherUserError}});var Vue=IO();Object.defineProperty(v,"SiteFrameworkAlreadyExistsError",{enumerable:!0,get:function(){return Vue.SiteFrameworkAlreadyExistsError}});var Zue=kO();Object.defineProperty(v,"SiteFrameworkNotFoundError",{enumerable:!0,get:function(){return Zue.SiteFrameworkNotFoundError}});var Que=CO();Object.defineProperty(v,"TemplateCategoryNotFoundError",{enumerable:!0,get:function(){return Que.TemplateCategoryNotFoundError}});var Yue=TO();Object.defineProperty(v,"TemplateDeploymentNotFoundError",{enumerable:!0,get:function(){return Yue.TemplateDeploymentNotFoundError}});var Xue=FO();Object.defineProperty(v,"ProjectMembershipHasInefficientRoleError",{enumerable:!0,get:function(){return Xue.ProjectMembershipHasInefficientRoleError}});var ele=OO();Object.defineProperty(v,"SecretGroupNotFoundError",{enumerable:!0,get:function(){return ele.SecretGroupNotFoundError}});var tle=RO();Object.defineProperty(v,"SecretNotFoundError",{enumerable:!0,get:function(){return tle.SecretNotFoundError}});var rle=BO();Object.defineProperty(v,"SecretVisibilityAlreadyEncryptedError",{enumerable:!0,get:function(){return rle.SecretVisibilityAlreadyEncryptedError}});var nle=NO();Object.defineProperty(v,"SecretKeyAlreadyExistsError",{enumerable:!0,get:function(){return nle.SecretKeyAlreadyExistsError}});var ole=UO();Object.defineProperty(v,"SecretFailToEncryptError",{enumerable:!0,get:function(){return ole.SecretFailToEncryptError}});var ile=qO();Object.defineProperty(v,"PinNotFoundError",{enumerable:!0,get:function(){return ile.PinNotFoundError}});var ale=jO();Object.defineProperty(v,"PinAlreadyExistsInProjectError",{enumerable:!0,get:function(){return ale.PinAlreadyExistsInProjectError}});var sle=LO();Object.defineProperty(v,"UnstoppableDeploymentError",{enumerable:!0,get:function(){return sle.UnstoppableDeploymentError}});var cle=WO();Object.defineProperty(v,"SiteDeploymentNotReleasedError",{enumerable:!0,get:function(){return cle.SiteDeploymentNotReleasedError}});var ule=MO();Object.defineProperty(v,"InvalidDeploymentTriggerError",{enumerable:!0,get:function(){return ule.InvalidDeploymentTriggerError}});var lle=GO();Object.defineProperty(v,"IpfsGatewayContentUnreachableError",{enumerable:!0,get:function(){return lle.IpfsGatewayContentUnreachableError}});var ple=$O();Object.defineProperty(v,"InvitationNotFoundError",{enumerable:!0,get:function(){return ple.InvitationNotFoundError}});var dle=zO();Object.defineProperty(v,"MigrationTokenInvalidError",{enumerable:!0,get:function(){return dle.MigrationTokenInvalidError}});var fle=HO();Object.defineProperty(v,"MigrationRequestsAlreadyExistError",{enumerable:!0,get:function(){return fle.MigrationRequestsAlreadyExistError}});var hle=KO();Object.defineProperty(v,"MigrationRequestNotFoundError",{enumerable:!0,get:function(){return hle.MigrationRequestNotFoundError}});var mle=JO();Object.defineProperty(v,"MigrationRequestInPendingStateError",{enumerable:!0,get:function(){return mle.MigrationRequestInPendingStateError}});var gle=VO();Object.defineProperty(v,"ProjectInvitationAlreadyExistError",{enumerable:!0,get:function(){return gle.ProjectInvitationAlreadyExistError}});var yle=ZO();Object.defineProperty(v,"ProjectMembershipAlreadyExistError",{enumerable:!0,get:function(){return yle.ProjectMembershipAlreadyExistError}});var ble=QO();Object.defineProperty(v,"ProjectMembershipNoOwnersError",{enumerable:!0,get:function(){return ble.ProjectMembershipNoOwnersError}});var wle=YO();Object.defineProperty(v,"UploadedS3KeyNotFoundError",{enumerable:!0,get:function(){return wle.UploadedS3KeyNotFoundError}});var _le=XO();Object.defineProperty(v,"PathIsNotADirectoryError",{enumerable:!0,get:function(){return _le.PathIsNotADirectoryError}});var Sle=eR();Object.defineProperty(v,"FleekFunctionAlreadyExistsError",{enumerable:!0,get:function(){return Sle.FleekFunctionAlreadyExistsError}});var Ele=tR();Object.defineProperty(v,"FleekFunctionNotFoundError",{enumerable:!0,get:function(){return Ele.FleekFunctionNotFoundError}});var xle=rR();Object.defineProperty(v,"FleekFunctionDeploymentNotFoundError",{enumerable:!0,get:function(){return xle.FleekFunctionDeploymentNotFoundError}});var vle=nR();Object.defineProperty(v,"FleekFunctionsNotFoundError",{enumerable:!0,get:function(){return vle.FleekFunctionsNotFoundError}});var Ple=oR();Object.defineProperty(v,"FleekFunctionPathNotValidError",{enumerable:!0,get:function(){return Ple.FleekFunctionPathNotValidError}});var Dle=iR();Object.defineProperty(v,"FleekFunctionNameNotValidError",{enumerable:!0,get:function(){return Dle.FleekFunctionNameNotValidError}});var Ale=aR();Object.defineProperty(v,"FleekFunctionStatusNotValidError",{enumerable:!0,get:function(){return Ale.FleekFunctionStatusNotValidError}});var Ile=sR();Object.defineProperty(v,"FleekFunctionSlugNotValidError",{enumerable:!0,get:function(){return Ile.FleekFunctionSlugNotValidError}});var kle=cR();Object.defineProperty(v,"MaintenanceError",{enumerable:!0,get:function(){return kle.MaintenanceError}});var Cle=uR();Object.defineProperty(v,"UserHasNoAccessToFeatureError",{enumerable:!0,get:function(){return Cle.UserHasNoAccessToFeatureError}});var Tle=lR();Object.defineProperty(v,"InvalidCidError",{enumerable:!0,get:function(){return Tle.InvalidCidError}});var Fle=pR();Object.defineProperty(v,"ValidationError",{enumerable:!0,get:function(){return Fle.ValidationError}});var Ole=dR();Object.defineProperty(v,"UserInBlocklistError",{enumerable:!0,get:function(){return Ole.UserInBlocklistError}});var Rle=fR();Object.defineProperty(v,"EnsNameContentHashCodecMistmatchError",{enumerable:!0,get:function(){return Rle.EnsNameContentHashCodecMistmatchError}});var Ble=hR();Object.defineProperty(v,"EnsNameContentHashUndefinedError",{enumerable:!0,get:function(){return Ble.EnsNameContentHashUndefinedError}});var Nle=mR();Object.defineProperty(v,"DnsConfigAlreadyExistsError",{enumerable:!0,get:function(){return Nle.DnsConfigAlreadyExistsError}});var Ule=gR();Object.defineProperty(v,"DnsConfigNotFoundError",{enumerable:!0,get:function(){return Ule.DnsConfigNotFoundError}});var qle=yR();Object.defineProperty(v,"TwoFactorSecretKeyFailedToEncryptError",{enumerable:!0,get:function(){return qle.TwoFactorSecretKeyFailedToEncryptError}});var jle=bR();Object.defineProperty(v,"UserSecretKeyAlreadyExistsError",{enumerable:!0,get:function(){return jle.UserSecretKeyAlreadyExistsError}});var Lle=wR();Object.defineProperty(v,"UserSecretKeyNotFoundError",{enumerable:!0,get:function(){return Lle.UserSecretKeyNotFoundError}});var Wle=_R();Object.defineProperty(v,"TwoFactorSecretKeyFailedToDecryptError",{enumerable:!0,get:function(){return Wle.TwoFactorSecretKeyFailedToDecryptError}});var Mle=SR();Object.defineProperty(v,"RecoveryCodesAlreadyExistsError",{enumerable:!0,get:function(){return Mle.RecoveryCodesAlreadyExistsError}});var Gle=ER();Object.defineProperty(v,"WriteFileFromStreamError",{enumerable:!0,get:function(){return Gle.WriteFileFromStreamError}});var $le=xR();Object.defineProperty(v,"InvalidTOTPTokenError",{enumerable:!0,get:function(){return $le.InvalidTOTPTokenError}});var zle=vR();Object.defineProperty(v,"InvalidRecoveryCodeError",{enumerable:!0,get:function(){return zle.InvalidRecoveryCodeError}});var Hle=PR();Object.defineProperty(v,"MissingTwoFactorProtectionCredentialsError",{enumerable:!0,get:function(){return Hle.MissingTwoFactorProtectionCredentialsError}});var Kle=DR();Object.defineProperty(v,"DeploymentInProgressError",{enumerable:!0,get:function(){return Kle.DeploymentInProgressError}});var Jle=AR();Object.defineProperty(v,"PullzoneNotFoundForZoneIdError",{enumerable:!0,get:function(){return Jle.PullzoneNotFoundForZoneIdError}});var Vle=IR();Object.defineProperty(v,"RecoveryCodeFailedToEncryptError",{enumerable:!0,get:function(){return Vle.RecoveryCodeFailedToEncryptError}});var Zle=kR();Object.defineProperty(v,"RecoveryCodeFailedToDecryptError",{enumerable:!0,get:function(){return Zle.RecoveryCodeFailedToDecryptError}});var Qle=CR();Object.defineProperty(v,"PermissionGroupNotFoundError",{enumerable:!0,get:function(){return Qle.PermissionGroupNotFoundError}});var Yle=TR();Object.defineProperty(v,"PermissionScopeError",{enumerable:!0,get:function(){return Yle.PermissionScopeError}});var Xle=FR();Object.defineProperty(v,"InvalidAdminAccessTokenError",{enumerable:!0,get:function(){return Xle.InvalidAdminAccessTokenError}});var epe=OR();Object.defineProperty(v,"MissingExpectedDataError",{enumerable:!0,get:function(){return epe.MissingExpectedDataError}});var tpe=RR();Object.defineProperty(v,"EnvNotSetError",{enumerable:!0,get:function(){return tpe.EnvNotSetError}});var rpe=BR();Object.defineProperty(v,"GitSecretsFailedToEncryptError",{enumerable:!0,get:function(){return rpe.GitSecretsFailedToEncryptError}});var npe=NR();Object.defineProperty(v,"GitConfigFailedToParseError",{enumerable:!0,get:function(){return npe.GitConfigFailedToParseError}});var ope=UR();Object.defineProperty(v,"PathIsNotAFileError",{enumerable:!0,get:function(){return ope.PathIsNotAFileError}});var ipe=qR();Object.defineProperty(v,"FleekFunctionBundlingFailedError",{enumerable:!0,get:function(){return ipe.FleekFunctionBundlingFailedError}});var ape=jR();Object.defineProperty(v,"GitIntegrationNotFoundError",{enumerable:!0,get:function(){return ape.GitIntegrationNotFoundError}});var spe=LR();Object.defineProperty(v,"GitProviderNotFoundError",{enumerable:!0,get:function(){return spe.GitProviderNotFoundError}});var cpe=WR();Object.defineProperty(v,"ExpectedOneOfValuesError",{enumerable:!0,get:function(){return cpe.ExpectedOneOfValuesError}});var upe=MR();Object.defineProperty(v,"InvalidJSONFormat",{enumerable:!0,get:function(){return upe.InvalidJSONFormat}});var lpe=GR();Object.defineProperty(v,"StorageUploadFileCountQuotaExceededError",{enumerable:!0,get:function(){return lpe.StorageUploadFileCountQuotaExceededError}});var ppe=$R();Object.defineProperty(v,"StorageUploadTotalSizeQuotaExceededError",{enumerable:!0,get:function(){return ppe.StorageUploadTotalSizeQuotaExceededError}});var dpe=zR();Object.defineProperty(v,"GitProviderNotSupportedError",{enumerable:!0,get:function(){return dpe.GitProviderNotSupportedError}});var fpe=HR();Object.defineProperty(v,"GitProviderNotAuthorizedError",{enumerable:!0,get:function(){return fpe.GitProviderNotAuthorizedError}});var hpe=KR();Object.defineProperty(v,"GitAccessTokenInvalidError",{enumerable:!0,get:function(){return hpe.GitAccessTokenInvalidError}});var mpe=JR();Object.defineProperty(v,"QueuedDeploymentsLimitError",{enumerable:!0,get:function(){return mpe.QueuedDeploymentsLimitError}});var gpe=VR();Object.defineProperty(v,"GitIntegrationInstallationConflictError",{enumerable:!0,get:function(){return gpe.GitIntegrationInstallationConflictError}});var ype=ZR();Object.defineProperty(v,"GitLinkMultipleAccountError",{enumerable:!0,get:function(){return ype.GitLinkMultipleAccountError}});var bpe=QR();Object.defineProperty(v,"GitRepoByNameAndOwnerNotFoundError",{enumerable:!0,get:function(){return bpe.GitRepoByNameAndOwnerNotFoundError}});var wpe=YR();Object.defineProperty(v,"GitAccessTokenNotFoundError",{enumerable:!0,get:function(){return wpe.GitAccessTokenNotFoundError}});var _pe=XR();Object.defineProperty(v,"FolderNotFoundError",{enumerable:!0,get:function(){return _pe.FolderNotFoundError}});var Spe=eB();Object.defineProperty(v,"FolderAlreadyExistsError",{enumerable:!0,get:function(){return Spe.FolderAlreadyExistsError}});var Epe=tB();Object.defineProperty(v,"FolderNameContainsReservedWordError",{enumerable:!0,get:function(){return Epe.FolderNameContainsReservedWordError}});var xpe=rB();Object.defineProperty(v,"PinsNotFoundError",{enumerable:!0,get:function(){return xpe.PinsNotFoundError}});var vpe=nB();Object.defineProperty(v,"SiteCreationFailedError",{enumerable:!0,get:function(){return vpe.SiteCreationFailedError}});var Ppe=oB();Object.defineProperty(v,"FleekFunctionInvalidWasmCodeError",{enumerable:!0,get:function(){return Ppe.FleekFunctionInvalidWasmCodeError}});var Dpe=iB();Object.defineProperty(v,"FleekFunctionWasmEncryptionFailedError",{enumerable:!0,get:function(){return Dpe.FleekFunctionWasmEncryptionFailedError}});var Ape=aB();Object.defineProperty(v,"UploadProxyStoreAsCarError",{enumerable:!0,get:function(){return Ape.UploadProxyStoreAsCarError}});var Ipe=sB();Object.defineProperty(v,"UploadProxyUploadFileError",{enumerable:!0,get:function(){return Ipe.UploadProxyUploadFileError}});var kpe=cB();Object.defineProperty(v,"IpfsDenylistUpdateWorkflowTriggerFailedError",{enumerable:!0,get:function(){return kpe.IpfsDenylistUpdateWorkflowTriggerFailedError}});var Cpe=uB();Object.defineProperty(v,"ProjectSiteLimitExceededError",{enumerable:!0,get:function(){return Cpe.ProjectSiteLimitExceededError}});var Tpe=lB();Object.defineProperty(v,"ProjectFleekFunctionLimitExceededError",{enumerable:!0,get:function(){return Tpe.ProjectFleekFunctionLimitExceededError}});var Fpe=pB();Object.defineProperty(v,"UserProjectLimitExceededError",{enumerable:!0,get:function(){return Fpe.UserProjectLimitExceededError}});var Ope=dB();Object.defineProperty(v,"ProjectDomainsLimitExceededError",{enumerable:!0,get:function(){return Ope.ProjectDomainsLimitExceededError}});var Rpe=fB();Object.defineProperty(v,"ProjectMembershipsLimitExceededError",{enumerable:!0,get:function(){return Rpe.ProjectMembershipsLimitExceededError}});var Bpe=hB();Object.defineProperty(v,"FleekRestApiInternalError",{enumerable:!0,get:function(){return Bpe.FleekRestApiInternalError}});var Npe=mB();Object.defineProperty(v,"SiteMayHaveOneFleekFunctionError",{enumerable:!0,get:function(){return Npe.SiteMayHaveOneFleekFunctionError}});var Upe=gB();Object.defineProperty(v,"ProjectWithSubscriptionCannotBeDeleted",{enumerable:!0,get:function(){return Upe.ProjectWithSubscriptionCannotBeDeleted}})});var Lpe,dy,IB=b(()=>{Lpe=e=>Promise.reject(new Error(`No base found for "${e}"`)),dy=class{constructor(t){this._basesByName={},this._basesByPrefix={},this._loadBase=t.loadBase||Lpe;for(let r of t.bases)this.addBase(r)}addBase(t){if(this._basesByName[t.name]||this._basesByPrefix[t.prefix])throw new Error(`Codec already exists for codec "${t.name}"`);this._basesByName[t.name]=t,this._basesByPrefix[t.prefix]=t}removeBase(t){delete this._basesByName[t.name],delete this._basesByPrefix[t.prefix]}async getBase(t){if(this._basesByName[t])return this._basesByName[t];if(this._basesByPrefix[t])return this._basesByPrefix[t];let r=await this._loadBase(t);return this._basesByName[r.name]==null&&this._basesByPrefix[r.prefix]==null&&this.addBase(r),r}listBases(){return Object.values(this._basesByName)}}});var Wpe,fy,kB=b(()=>{Wpe=e=>Promise.reject(new Error(`No codec found for "${e}"`)),fy=class{constructor(t){this._codecsByName={},this._codecsByCode={},this._loadCodec=t.loadCodec||Wpe;for(let r of t.codecs)this.addCodec(r)}addCodec(t){if(this._codecsByName[t.name]||this._codecsByCode[t.code])throw new Error(`Resolver already exists for codec "${t.name}"`);this._codecsByName[t.name]=t,this._codecsByCode[t.code]=t}removeCodec(t){delete this._codecsByName[t.name],delete this._codecsByCode[t.code]}async getCodec(t){let r=typeof t=="string"?this._codecsByName:this._codecsByCode;if(r[t])return r[t];let n=await this._loadCodec(t);return r[t]==null&&this.addCodec(n),n}listCodecs(){return Object.values(this._codecsByName)}}});var Mpe,hy,CB=b(()=>{Mpe=e=>Promise.reject(new Error(`No hasher found for "${e}"`)),hy=class{constructor(t){this._hashersByName={},this._hashersByCode={},this._loadHasher=t.loadHasher||Mpe;for(let r of t.hashers)this.addHasher(r)}addHasher(t){if(this._hashersByName[t.name]||this._hashersByCode[t.code])throw new Error(`Resolver already exists for codec "${t.name}"`);this._hashersByName[t.name]=t,this._hashersByCode[t.code]=t}removeHasher(t){delete this._hashersByName[t.name],delete this._hashersByCode[t.code]}async getHasher(t){let r=typeof t=="string"?this._hashersByName:this._hashersByCode;if(r[t])return r[t];let n=await this._loadHasher(t);return r[t]==null&&this.addHasher(n),n}listHashers(){return Object.values(this._hashersByName)}}});function OB(e,t,r){t=t||[],r=r||0;for(var n=r;e>=Hpe;)t[r++]=e&255|TB,e/=128;for(;e&zpe;)t[r++]=e&255|TB,e>>>=7;return t[r]=e|0,OB.bytes=r-n+1,t}function E2(e,n){var r=0,n=n||0,o=0,i=n,a,s=e.length;do{if(i>=s)throw E2.bytes=0,new RangeError("Could not decode varint");a=e[i++],r+=o<28?(a&FB)<<o:(a&FB)*Math.pow(2,o),o+=7}while(a>=Jpe);return E2.bytes=i-n,r}var Gpe,TB,$pe,zpe,Hpe,Kpe,Jpe,FB,Vpe,Zpe,Qpe,Ype,Xpe,ede,tde,rde,nde,ode,ide,ade,jl,RB=b(()=>{Gpe=OB,TB=128,$pe=127,zpe=~$pe,Hpe=Math.pow(2,31);Kpe=E2,Jpe=128,FB=127;Vpe=Math.pow(2,7),Zpe=Math.pow(2,14),Qpe=Math.pow(2,21),Ype=Math.pow(2,28),Xpe=Math.pow(2,35),ede=Math.pow(2,42),tde=Math.pow(2,49),rde=Math.pow(2,56),nde=Math.pow(2,63),ode=function(e){return e<Vpe?1:e<Zpe?2:e<Qpe?3:e<Ype?4:e<Xpe?5:e<ede?6:e<tde?7:e<rde?8:e<nde?9:10},ide={encode:Gpe,decode:Kpe,encodingLength:ode},ade=ide,jl=ade});var Ll,cc,uc,gy=b(()=>{RB();Ll=(e,t=0)=>[jl.decode(e,t),jl.decode.bytes],cc=(e,t,r=0)=>(jl.encode(e,t,r),t),uc=e=>jl.encodingLength(e)});var yNe,BB,dr,NB,UB,Go=b(()=>{yNe=new Uint8Array(0),BB=(e,t)=>{if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0},dr=e=>{if(e instanceof Uint8Array&&e.constructor.name==="Uint8Array")return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")},NB=e=>new TextEncoder().encode(e),UB=e=>new TextDecoder().decode(e)});var Ja,jB,LB,lc,Ml=b(()=>{Go();gy();Ja=(e,t)=>{let r=t.byteLength,n=uc(e),o=n+uc(r),i=new Uint8Array(o+r);return cc(e,i,0),cc(r,i,n),i.set(t,o),new lc(e,r,t,i)},jB=e=>{let t=dr(e),[r,n]=Ll(t),[o,i]=Ll(t.subarray(n)),a=t.subarray(n+i);if(a.byteLength!==o)throw new Error("Incorrect length");return new lc(r,o,a,t)},LB=(e,t)=>e===t?!0:e.code===t.code&&e.size===t.size&&BB(e.bytes,t.bytes),lc=class{constructor(t,r,n,o){this.code=t,this.size=r,this.digest=n,this.bytes=o}}});function sde(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var o=0;o<e.length;o++){var i=e.charAt(o),a=i.charCodeAt(0);if(r[a]!==255)throw new TypeError(i+" is ambiguous");r[a]=o}var s=e.length,u=e.charAt(0),c=Math.log(s)/Math.log(256),l=Math.log(256)/Math.log(s);function d(p){if(p instanceof Uint8Array||(ArrayBuffer.isView(p)?p=new Uint8Array(p.buffer,p.byteOffset,p.byteLength):Array.isArray(p)&&(p=Uint8Array.from(p))),!(p instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(p.length===0)return"";for(var f=0,g=0,h=0,y=p.length;h!==y&&p[h]===0;)h++,f++;for(var _=(y-h)*l+1>>>0,S=new Uint8Array(_);h!==y;){for(var x=p[h],A=0,D=_-1;(x!==0||A<g)&&D!==-1;D--,A++)x+=256*S[D]>>>0,S[D]=x%s>>>0,x=x/s>>>0;if(x!==0)throw new Error("Non-zero carry");g=A,h++}for(var P=_-g;P!==_&&S[P]===0;)P++;for(var U=u.repeat(f);P<_;++P)U+=e.charAt(S[P]);return U}function w(p){if(typeof p!="string")throw new TypeError("Expected String");if(p.length===0)return new Uint8Array;var f=0;if(p[f]!==" "){for(var g=0,h=0;p[f]===u;)g++,f++;for(var y=(p.length-f)*c+1>>>0,_=new Uint8Array(y);p[f];){var S=r[p.charCodeAt(f)];if(S===255)return;for(var x=0,A=y-1;(S!==0||x<h)&&A!==-1;A--,x++)S+=s*_[A]>>>0,_[A]=S%256>>>0,S=S/256>>>0;if(S!==0)throw new Error("Non-zero carry");h=x,f++}if(p[f]!==" "){for(var D=y-h;D!==y&&_[D]===0;)D++;for(var P=new Uint8Array(g+(y-D)),U=g;D!==y;)P[U++]=_[D++];return P}}}function m(p){var f=w(p);if(f)return f;throw new Error(`Non-${t} character`)}return{encode:d,decodeUnsafe:w,decode:m}}var cde,ude,WB,MB=b(()=>{cde=sde,ude=cde,WB=ude});var x2,v2,P2,GB,D2,pc,Di,lde,pde,et,In=b(()=>{MB();Go();x2=class{constructor(t,r,n){this.name=t,this.prefix=r,this.baseEncode=n}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}},v2=class{constructor(t,r,n){if(this.name=t,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(t){if(typeof t=="string"){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(t){return GB(this,t)}},P2=class{constructor(t){this.decoders=t}or(t){return GB(this,t)}decode(t){let r=t[0],n=this.decoders[r];if(n)return n.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}},GB=(e,t)=>new P2({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}}),D2=class{constructor(t,r,n,o){this.name=t,this.prefix=r,this.baseEncode=n,this.baseDecode=o,this.encoder=new x2(t,r,n),this.decoder=new v2(t,r,o)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}},pc=({name:e,prefix:t,encode:r,decode:n})=>new D2(e,t,r,n),Di=({prefix:e,name:t,alphabet:r})=>{let{encode:n,decode:o}=WB(r,t);return pc({prefix:e,name:t,encode:n,decode:i=>dr(o(i))})},lde=(e,t,r,n)=>{let o={};for(let l=0;l<t.length;++l)o[t[l]]=l;let i=e.length;for(;e[i-1]==="=";)--i;let a=new Uint8Array(i*r/8|0),s=0,u=0,c=0;for(let l=0;l<i;++l){let d=o[e[l]];if(d===void 0)throw new SyntaxError(`Non-${n} character`);u=u<<r|d,s+=r,s>=8&&(s-=8,a[c++]=255&u>>s)}if(s>=r||255&u<<8-s)throw new SyntaxError("Unexpected end of data");return a},pde=(e,t,r)=>{let n=t[t.length-1]==="=",o=(1<<r)-1,i="",a=0,s=0;for(let u=0;u<e.length;++u)for(s=s<<8|e[u],a+=8;a>r;)a-=r,i+=t[o&s>>a];if(a&&(i+=t[o&s<<r-a]),n)for(;i.length*r&7;)i+="=";return i},et=({name:e,prefix:t,bitsPerChar:r,alphabet:n})=>pc({prefix:t,name:e,encode(o){return pde(o,n,r)},decode(o){return lde(o,n,r,e)}})});var A2={};ne(A2,{base58btc:()=>ao,base58flickr:()=>dde});var ao,dde,I2=b(()=>{In();ao=Di({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),dde=Di({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"})});var k2={};ne(k2,{base32:()=>dc,base32hex:()=>gde,base32hexpad:()=>bde,base32hexpadupper:()=>wde,base32hexupper:()=>yde,base32pad:()=>hde,base32padupper:()=>mde,base32upper:()=>fde,base32z:()=>_de});var dc,fde,hde,mde,gde,yde,bde,wde,_de,C2=b(()=>{In();dc=et({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),fde=et({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),hde=et({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),mde=et({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),gde=et({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),yde=et({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),bde=et({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),wde=et({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),_de=et({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5})});var Q,Sde,Ede,xde,Gl,vde,$B,zB,yy,by,Pde,Dde,Ade,Ce=b(()=>{gy();Ml();I2();C2();Go();Q=class e{constructor(t,r,n,o){this.code=r,this.version=t,this.multihash=n,this.bytes=o,this.byteOffset=o.byteOffset,this.byteLength=o.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:by,byteLength:by,code:yy,version:yy,multihash:yy,bytes:yy,_baseCache:by,asCID:by})}toV0(){switch(this.version){case 0:return this;default:{let{code:t,multihash:r}=this;if(t!==Gl)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(r.code!==vde)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return e.createV0(r)}}}toV1(){switch(this.version){case 0:{let{code:t,digest:r}=this.multihash,n=Ja(t,r);return e.createV1(this.code,n)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(t){return t&&this.code===t.code&&this.version===t.version&&LB(this.multihash,t.multihash)}toString(t){let{bytes:r,version:n,_baseCache:o}=this;switch(n){case 0:return Ede(r,o,t||ao.encoder);default:return xde(r,o,t||dc.encoder)}}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(t){return Dde(/^0\.0/,Ade),!!(t&&(t[zB]||t.asCID===t))}get toBaseEncodedString(){throw new Error("Deprecated, use .toString()")}get codec(){throw new Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw new Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw new Error('"multibaseName" property is deprecated')}get prefix(){throw new Error('"prefix" property is deprecated')}static asCID(t){if(t instanceof e)return t;if(t!=null&&t.asCID===t){let{version:r,code:n,multihash:o,bytes:i}=t;return new e(r,n,o,i||$B(r,n,o.bytes))}else if(t!=null&&t[zB]===!0){let{version:r,multihash:n,code:o}=t,i=jB(n);return e.create(r,o,i)}else return null}static create(t,r,n){if(typeof r!="number")throw new Error("String codecs are no longer supported");switch(t){case 0:{if(r!==Gl)throw new Error(`Version 0 CID must use dag-pb (code: ${Gl}) block encoding`);return new e(t,r,n,n.bytes)}case 1:{let o=$B(t,r,n.bytes);return new e(t,r,n,o)}default:throw new Error("Invalid version")}}static createV0(t){return e.create(0,Gl,t)}static createV1(t,r){return e.create(1,t,r)}static decode(t){let[r,n]=e.decodeFirst(t);if(n.length)throw new Error("Incorrect length");return r}static decodeFirst(t){let r=e.inspectBytes(t),n=r.size-r.multihashSize,o=dr(t.subarray(n,n+r.multihashSize));if(o.byteLength!==r.multihashSize)throw new Error("Incorrect length");let i=o.subarray(r.multihashSize-r.digestSize),a=new lc(r.multihashCode,r.digestSize,i,o);return[r.version===0?e.createV0(a):e.createV1(r.codec,a),t.subarray(r.size)]}static inspectBytes(t){let r=0,n=()=>{let[d,w]=Ll(t.subarray(r));return r+=w,d},o=n(),i=Gl;if(o===18?(o=0,r=0):o===1&&(i=n()),o!==0&&o!==1)throw new RangeError(`Invalid CID version ${o}`);let a=r,s=n(),u=n(),c=r+u,l=c-a;return{version:o,codec:i,multihashCode:s,digestSize:u,multihashSize:l,size:c}}static parse(t,r){let[n,o]=Sde(t,r),i=e.decode(o);return i._baseCache.set(n,t),i}},Sde=(e,t)=>{switch(e[0]){case"Q":{let r=t||ao;return[ao.prefix,r.decode(`${ao.prefix}${e}`)]}case ao.prefix:{let r=t||ao;return[ao.prefix,r.decode(e)]}case dc.prefix:{let r=t||dc;return[dc.prefix,r.decode(e)]}default:{if(t==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}}},Ede=(e,t,r)=>{let{prefix:n}=r;if(n!==ao.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);let o=t.get(n);if(o==null){let i=r.encode(e).slice(1);return t.set(n,i),i}else return o},xde=(e,t,r)=>{let{prefix:n}=r,o=t.get(n);if(o==null){let i=r.encode(e);return t.set(n,i),i}else return o},Gl=112,vde=18,$B=(e,t,r)=>{let n=uc(e),o=n+uc(t),i=new Uint8Array(o+r.byteLength);return cc(e,i,0),cc(t,i,n),i.set(r,o),i},zB=Symbol.for("@ipld/js-cid/CID"),yy={writable:!1,configurable:!1,enumerable:!0},by={writable:!1,enumerable:!1,configurable:!1},Pde="0.0.0-dev",Dde=(e,t)=>{if(e.test(Pde))console.warn(t);else throw new Error(t)},Ade=`CID.isCID(v) is deprecated and will be removed in the next major release.
Following code pattern:

if (CID.isCID(value)) {
  doSomethingWithCID(value)
}

Is replaced with:

const cid = CID.asCID(value)
if (cid) {
  // Make sure to use cid instead of value
  doSomethingWithCID(cid)
}
`});function T2(e,t){let r=0;for(let n=0;;n+=7){if(n>=64)throw new Error("protobuf: varint overflow");if(t>=e.length)throw new Error("protobuf: unexpected end of data");let o=e[t++];if(r+=n<28?(o&127)<<n:(o&127)*2**n,o<128)break}return[r,t]}function wy(e,t){let r;[r,t]=T2(e,t);let n=t+r;if(r<0||n<0)throw new Error("protobuf: invalid length");if(n>e.length)throw new Error("protobuf: unexpected end of data");return[e.subarray(t,n),n]}function HB(e,t){let r;return[r,t]=T2(e,t),[r&7,r>>3,t]}function kde(e){let t={},r=e.length,n=0;for(;n<r;){let o,i;if([o,i,n]=HB(e,n),i===1){if(t.Hash)throw new Error("protobuf: (PBLink) duplicate Hash section");if(o!==2)throw new Error(`protobuf: (PBLink) wrong wireType (${o}) for Hash`);if(t.Name!==void 0)throw new Error("protobuf: (PBLink) invalid order, found Name before Hash");if(t.Tsize!==void 0)throw new Error("protobuf: (PBLink) invalid order, found Tsize before Hash");[t.Hash,n]=wy(e,n)}else if(i===2){if(t.Name!==void 0)throw new Error("protobuf: (PBLink) duplicate Name section");if(o!==2)throw new Error(`protobuf: (PBLink) wrong wireType (${o}) for Name`);if(t.Tsize!==void 0)throw new Error("protobuf: (PBLink) invalid order, found Tsize before Name");let a;[a,n]=wy(e,n),t.Name=Ide.decode(a)}else if(i===3){if(t.Tsize!==void 0)throw new Error("protobuf: (PBLink) duplicate Tsize section");if(o!==0)throw new Error(`protobuf: (PBLink) wrong wireType (${o}) for Tsize`);[t.Tsize,n]=T2(e,n)}else throw new Error(`protobuf: (PBLink) invalid fieldNumber, expected 1, 2 or 3, got ${i}`)}if(n>r)throw new Error("protobuf: (PBLink) unexpected end of data");return t}function KB(e){let t=e.length,r=0,n,o=!1,i;for(;r<t;){let s,u;if([s,u,r]=HB(e,r),s!==2)throw new Error(`protobuf: (PBNode) invalid wireType, expected 2, got ${s}`);if(u===1){if(i)throw new Error("protobuf: (PBNode) duplicate Data section");[i,r]=wy(e,r),n&&(o=!0)}else if(u===2){if(o)throw new Error("protobuf: (PBNode) duplicate Links section");n||(n=[]);let c;[c,r]=wy(e,r),n.push(kde(c))}else throw new Error(`protobuf: (PBNode) invalid fieldNumber, expected 1 or 2, got ${u}`)}if(r>t)throw new Error("protobuf: (PBNode) unexpected end of data");let a={};return i&&(a.Data=i),a.Links=n||[],a}var Ide,JB=b(()=>{Ide=new TextDecoder});function Tde(e,t){let r=t.length;if(typeof e.Tsize=="number"){if(e.Tsize<0)throw new Error("Tsize cannot be negative");if(!Number.isSafeInteger(e.Tsize))throw new Error("Tsize too large for encoding");r=$l(t,r,e.Tsize)-1,t[r]=24}if(typeof e.Name=="string"){let n=ZB.encode(e.Name);r-=n.length,t.set(n,r),r=$l(t,r,n.length)-1,t[r]=18}return e.Hash&&(r-=e.Hash.length,t.set(e.Hash,r),r=$l(t,r,e.Hash.length)-1,t[r]=10),t.length-r}function QB(e){let t=Ode(e),r=new Uint8Array(t),n=t;if(e.Data&&(n-=e.Data.length,r.set(e.Data,n),n=$l(r,n,e.Data.length)-1,r[n]=10),e.Links)for(let o=e.Links.length-1;o>=0;o--){let i=Tde(e.Links[o],r.subarray(0,n));n-=i,n=$l(r,n,i)-1,r[n]=18}return r}function Fde(e){let t=0;if(e.Hash){let r=e.Hash.length;t+=1+r+fc(r)}if(typeof e.Name=="string"){let r=ZB.encode(e.Name).length;t+=1+r+fc(r)}return typeof e.Tsize=="number"&&(t+=1+fc(e.Tsize)),t}function Ode(e){let t=0;if(e.Data){let r=e.Data.length;t+=1+r+fc(r)}if(e.Links)for(let r of e.Links){let n=Fde(r);t+=1+n+fc(n)}return t}function $l(e,t,r){t-=fc(r);let n=t;for(;r>=Cde;)e[t++]=r&127|128,r/=128;for(;r>=128;)e[t++]=r&127|128,r>>>=7;return e[t]=r,n}function fc(e){return e%2===0&&e++,Math.floor((Rde(e)+6)/7)}function Rde(e){let t=0;return e>=VB&&(e=Math.floor(e/VB),t=32),e>=65536&&(e>>>=16,t+=16),e>=256&&(e>>>=8,t+=8),t+Bde[e]}var ZB,VB,Cde,Bde,YB=b(()=>{ZB=new TextEncoder,VB=2**32,Cde=2**31;Bde=[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8]});function eN(e,t){if(e===t)return 0;let r=e.Name?F2.encode(e.Name):[],n=t.Name?F2.encode(t.Name):[],o=r.length,i=n.length;for(let a=0,s=Math.min(o,i);a<s;++a)if(r[a]!==n[a]){o=r[a],i=n[a];break}return o<i?-1:i<o?1:0}function XB(e,t){return!Object.keys(e).some(r=>!t.includes(r))}function tN(e){if(typeof e.asCID=="object"){let r=Q.asCID(e);if(!r)throw new TypeError("Invalid DAG-PB form");return{Hash:r}}if(typeof e!="object"||Array.isArray(e))throw new TypeError("Invalid DAG-PB form");let t={};if(e.Hash){let r=Q.asCID(e.Hash);try{r||(typeof e.Hash=="string"?r=Q.parse(e.Hash):e.Hash instanceof Uint8Array&&(r=Q.decode(e.Hash)))}catch(n){throw new TypeError(`Invalid DAG-PB form: ${n.message}`)}r&&(t.Hash=r)}if(!t.Hash)throw new TypeError("Invalid DAG-PB form");return typeof e.Name=="string"&&(t.Name=e.Name),typeof e.Tsize=="number"&&(t.Tsize=e.Tsize),t}function O2(e){if((e instanceof Uint8Array||typeof e=="string")&&(e={Data:e}),typeof e!="object"||Array.isArray(e))throw new TypeError("Invalid DAG-PB form");let t={};if(e.Data!==void 0)if(typeof e.Data=="string")t.Data=F2.encode(e.Data);else if(e.Data instanceof Uint8Array)t.Data=e.Data;else throw new TypeError("Invalid DAG-PB form");if(e.Links!==void 0)if(Array.isArray(e.Links))t.Links=e.Links.map(tN),t.Links.sort(eN);else throw new TypeError("Invalid DAG-PB form");else t.Links=[];return t}function R2(e){if(!e||typeof e!="object"||Array.isArray(e))throw new TypeError("Invalid DAG-PB form");if(!XB(e,Nde))throw new TypeError("Invalid DAG-PB form (extraneous properties)");if(e.Data!==void 0&&!(e.Data instanceof Uint8Array))throw new TypeError("Invalid DAG-PB form (Data must be a Uint8Array)");if(!Array.isArray(e.Links))throw new TypeError("Invalid DAG-PB form (Links must be an array)");for(let t=0;t<e.Links.length;t++){let r=e.Links[t];if(!r||typeof r!="object"||Array.isArray(r))throw new TypeError("Invalid DAG-PB form (bad link object)");if(!XB(r,Ude))throw new TypeError("Invalid DAG-PB form (extraneous properties on link object)");if(!r.Hash)throw new TypeError("Invalid DAG-PB form (link must have a Hash)");if(r.Hash.asCID!==r.Hash)throw new TypeError("Invalid DAG-PB form (link Hash must be a CID)");if(r.Name!==void 0&&typeof r.Name!="string")throw new TypeError("Invalid DAG-PB form (link Name must be a string)");if(r.Tsize!==void 0&&(typeof r.Tsize!="number"||r.Tsize%1!==0))throw new TypeError("Invalid DAG-PB form (link Tsize must be an integer)");if(t>0&&eN(r,e.Links[t-1])===-1)throw new TypeError("Invalid DAG-PB form (links must be sorted by Name bytes)")}}function rN(e,t=[]){return O2({Data:e,Links:t})}function nN(e,t,r){return tN({Hash:r,Name:e,Tsize:t})}var Nde,Ude,F2,oN=b(()=>{Ce();Nde=["Data","Links"],Ude=["Hash","Name","Tsize"],F2=new TextEncoder});var B2={};ne(B2,{code:()=>jde,createLink:()=>nN,createNode:()=>rN,decode:()=>Wde,encode:()=>Lde,name:()=>qde,prepare:()=>O2,validate:()=>R2});function Lde(e){R2(e);let t={};return e.Links&&(t.Links=e.Links.map(r=>{let n={};return r.Hash&&(n.Hash=r.Hash.bytes),r.Name!==void 0&&(n.Name=r.Name),r.Tsize!==void 0&&(n.Tsize=r.Tsize),n})),e.Data&&(t.Data=e.Data),QB(t)}function Wde(e){let t=KB(e),r={};return t.Data&&(r.Data=t.Data),t.Links&&(r.Links=t.Links.map(n=>{let o={};try{o.Hash=Q.decode(n.Hash)}catch{}if(!o.Hash)throw new Error("Invalid Hash field found in link, expected CID");return n.Name!==void 0&&(o.Name=n.Name),n.Tsize!==void 0&&(o.Tsize=n.Tsize),o})),r}var qde,jde,iN=b(()=>{Ce();JB();YB();oN();qde="dag-pb",jde=112});function aN(e){if(e===null)return"null";if(e===void 0)return"undefined";if(e===!0||e===!1)return"boolean";let t=typeof e;if(Mde.includes(t))return t;if(t==="function")return"Function";if(Array.isArray(e))return"Array";if($de(e))return"Buffer";let r=zde(e);return r||"Object"}function $de(e){return e&&e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer.call(null,e)}function zde(e){let t=Object.prototype.toString.call(e).slice(8,-1);if(Gde.includes(t))return t}var Mde,Gde,sN=b(()=>{Mde=["string","number","bigint","symbol"],Gde=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","HTMLElement","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"]});var F,J,nr=b(()=>{F=class{constructor(t,r,n){this.major=t,this.majorEncoded=t<<5,this.name=r,this.terminal=n}toString(){return`Type[${this.major}].${this.name}`}compare(t){return this.major<t.major?-1:this.major>t.major?1:0}};F.uint=new F(0,"uint",!0);F.negint=new F(1,"negint",!0);F.bytes=new F(2,"bytes",!0);F.string=new F(3,"string",!0);F.array=new F(4,"array",!1);F.map=new F(5,"map",!1);F.tag=new F(6,"tag",!1);F.float=new F(7,"float",!0);F.false=new F(7,"false",!0);F.true=new F(7,"true",!0);F.null=new F(7,"null",!0);F.undefined=new F(7,"undefined",!0);F.break=new F(7,"break",!0);J=class{constructor(t,r,n){this.type=t,this.value=r,this.encodedLength=n,this.encodedBytes=void 0,this.byteValue=void 0}toString(){return`Token[${this.type}].${this.value}`}}});function _y(e){return hc&&globalThis.Buffer.isBuffer(e)}function zl(e){return e instanceof Uint8Array?_y(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e:Uint8Array.from(e)}function hN(e,t){if(_y(e)&&_y(t))return e.compare(t);for(let r=0;r<e.length;r++)if(e[r]!==t[r])return e[r]<t[r]?-1:1;return 0}function cN(e,t=1/0){let r,n=e.length,o=null,i=[];for(let a=0;a<n;++a){if(r=e.charCodeAt(a),r>55295&&r<57344){if(!o){if(r>56319){(t-=3)>-1&&i.push(239,191,189);continue}else if(a+1===n){(t-=3)>-1&&i.push(239,191,189);continue}o=r;continue}if(r<56320){(t-=3)>-1&&i.push(239,191,189),o=r;continue}r=(o-55296<<10|r-56320)+65536}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,r<128){if((t-=1)<0)break;i.push(r)}else if(r<2048){if((t-=2)<0)break;i.push(r>>6|192,r&63|128)}else if(r<65536){if((t-=3)<0)break;i.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((t-=4)<0)break;i.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return i}function uN(e,t,r){let n=[];for(;t<r;){let o=e[t],i=null,a=o>239?4:o>223?3:o>191?2:1;if(t+a<=r){let s,u,c,l;switch(a){case 1:o<128&&(i=o);break;case 2:s=e[t+1],(s&192)===128&&(l=(o&31)<<6|s&63,l>127&&(i=l));break;case 3:s=e[t+1],u=e[t+2],(s&192)===128&&(u&192)===128&&(l=(o&15)<<12|(s&63)<<6|u&63,l>2047&&(l<55296||l>57343)&&(i=l));break;case 4:s=e[t+1],u=e[t+2],c=e[t+3],(s&192)===128&&(u&192)===128&&(c&192)===128&&(l=(o&15)<<18|(s&63)<<12|(u&63)<<6|c&63,l>65535&&l<1114112&&(i=l))}}i===null?(i=65533,a=1):i>65535&&(i-=65536,n.push(i>>>10&1023|55296),i=56320|i&1023),n.push(i),t+=a}return N2(n)}function N2(e){let t=e.length;if(t<=lN)return String.fromCharCode.apply(String,e);let r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=lN));return r}var hc,Hde,Kde,pN,Sy,so,mc,dN,fN,lN,Ai=b(()=>{hc=globalThis.process&&!globalThis.process.browser&&globalThis.Buffer&&typeof globalThis.Buffer.isBuffer=="function",Hde=new TextDecoder,Kde=new TextEncoder;pN=hc?(e,t,r)=>r-t>64?globalThis.Buffer.from(e.subarray(t,r)).toString("utf8"):uN(e,t,r):(e,t,r)=>r-t>64?Hde.decode(e.subarray(t,r)):uN(e,t,r),Sy=hc?e=>e.length>64?globalThis.Buffer.from(e):cN(e):e=>e.length>64?Kde.encode(e):cN(e),so=e=>Uint8Array.from(e),mc=hc?(e,t,r)=>_y(e)?new Uint8Array(e.subarray(t,r)):e.slice(t,r):(e,t,r)=>e.slice(t,r),dN=hc?(e,t)=>(e=e.map(r=>r instanceof Uint8Array?r:globalThis.Buffer.from(r)),zl(globalThis.Buffer.concat(e,t))):(e,t)=>{let r=new Uint8Array(t),n=0;for(let o of e)n+o.length>r.length&&(o=o.subarray(0,r.length-n)),r.set(o,n),n+=o.length;return r},fN=hc?e=>globalThis.Buffer.allocUnsafe(e):e=>new Uint8Array(e);lN=4096});var Jde,Hl,mN=b(()=>{Ai();Jde=256,Hl=class{constructor(t=Jde){this.chunkSize=t,this.cursor=0,this.maxCursor=-1,this.chunks=[],this._initReuseChunk=null}reset(){this.cursor=0,this.maxCursor=-1,this.chunks.length&&(this.chunks=[]),this._initReuseChunk!==null&&(this.chunks.push(this._initReuseChunk),this.maxCursor=this._initReuseChunk.length-1)}push(t){let r=this.chunks[this.chunks.length-1];if(this.cursor+t.length<=this.maxCursor+1){let o=r.length-(this.maxCursor-this.cursor)-1;r.set(t,o)}else{if(r){let o=r.length-(this.maxCursor-this.cursor)-1;o<r.length&&(this.chunks[this.chunks.length-1]=r.subarray(0,o),this.maxCursor=this.cursor-1)}t.length<64&&t.length<this.chunkSize?(r=fN(this.chunkSize),this.chunks.push(r),this.maxCursor+=r.length,this._initReuseChunk===null&&(this._initReuseChunk=r),r.set(t,0)):(this.chunks.push(t),this.maxCursor+=t.length)}this.cursor+=t.length}toBytes(t=!1){let r;if(this.chunks.length===1){let n=this.chunks[0];t&&this.cursor>n.length/2?(r=this.cursor===n.length?n:n.subarray(0,this.cursor),this._initReuseChunk=null,this.chunks=[]):r=mc(n,0,this.cursor)}else r=dN(this.chunks,this.cursor);return t&&this.reset(),r}}});function zo(e,t,r){if(e.length-t<r)throw new Error(`${ce} not enough data for type`)}var ce,$o,Kl,Ir=b(()=>{ce="CBOR decode error:",$o="CBOR encode error:",Kl=[];Kl[23]=1;Kl[24]=2;Kl[25]=3;Kl[26]=5;Kl[27]=9});function kr(e,t,r){zo(e,t,1);let n=e[t];if(r.strict===!0&&n<xt[0])throw new Error(`${ce} integer encoded in more bytes than necessary (strict decode)`);return n}function Cr(e,t,r){zo(e,t,2);let n=e[t]<<8|e[t+1];if(r.strict===!0&&n<xt[1])throw new Error(`${ce} integer encoded in more bytes than necessary (strict decode)`);return n}function Tr(e,t,r){zo(e,t,4);let n=e[t]*16777216+(e[t+1]<<16)+(e[t+2]<<8)+e[t+3];if(r.strict===!0&&n<xt[2])throw new Error(`${ce} integer encoded in more bytes than necessary (strict decode)`);return n}function Fr(e,t,r){zo(e,t,8);let n=e[t]*16777216+(e[t+1]<<16)+(e[t+2]<<8)+e[t+3],o=e[t+4]*16777216+(e[t+5]<<16)+(e[t+6]<<8)+e[t+7],i=(BigInt(n)<<BigInt(32))+BigInt(o);if(r.strict===!0&&i<xt[3])throw new Error(`${ce} integer encoded in more bytes than necessary (strict decode)`);if(i<=Number.MAX_SAFE_INTEGER)return Number(i);if(r.allowBigInt===!0)return i;throw new Error(`${ce} integers outside of the safe integer range are not supported`)}function gN(e,t,r,n){return new J(F.uint,kr(e,t+1,n),2)}function yN(e,t,r,n){return new J(F.uint,Cr(e,t+1,n),3)}function bN(e,t,r,n){return new J(F.uint,Tr(e,t+1,n),5)}function wN(e,t,r,n){return new J(F.uint,Fr(e,t+1,n),9)}function Yr(e,t){return Rt(e,0,t.value)}function Rt(e,t,r){if(r<xt[0]){let n=Number(r);e.push([t|n])}else if(r<xt[1]){let n=Number(r);e.push([t|24,n])}else if(r<xt[2]){let n=Number(r);e.push([t|25,n>>>8,n&255])}else if(r<xt[3]){let n=Number(r);e.push([t|26,n>>>24&255,n>>>16&255,n>>>8&255,n&255])}else{let n=BigInt(r);if(n<xt[4]){let o=[t|27,0,0,0,0,0,0,0],i=Number(n&BigInt(4294967295)),a=Number(n>>BigInt(32)&BigInt(4294967295));o[8]=i&255,i=i>>8,o[7]=i&255,i=i>>8,o[6]=i&255,i=i>>8,o[5]=i&255,o[4]=a&255,a=a>>8,o[3]=a&255,a=a>>8,o[2]=a&255,a=a>>8,o[1]=a&255,e.push(o)}else throw new Error(`${ce} encountered BigInt larger than allowable range`)}}var xt,co=b(()=>{nr();Ir();xt=[24,256,65536,4294967296,BigInt("18446744073709551616")];Yr.encodedSize=function(t){return Rt.encodedSize(t.value)};Rt.encodedSize=function(t){return t<xt[0]?1:t<xt[1]?2:t<xt[2]?3:t<xt[3]?5:9};Yr.compareTokens=function(t,r){return t.value<r.value?-1:t.value>r.value?1:0}});function _N(e,t,r,n){return new J(F.negint,-1-kr(e,t+1,n),2)}function SN(e,t,r,n){return new J(F.negint,-1-Cr(e,t+1,n),3)}function EN(e,t,r,n){return new J(F.negint,-1-Tr(e,t+1,n),5)}function vN(e,t,r,n){let o=Fr(e,t+1,n);if(typeof o!="bigint"){let i=-1-o;if(i>=Number.MIN_SAFE_INTEGER)return new J(F.negint,i,9)}if(n.allowBigInt!==!0)throw new Error(`${ce} integers outside of the safe integer range are not supported`);return new J(F.negint,U2-BigInt(o),9)}function Ey(e,t){let r=t.value,n=typeof r=="bigint"?r*U2-xN:r*-1-1;Rt(e,t.type.majorEncoded,n)}var U2,xN,q2=b(()=>{nr();co();Ir();U2=BigInt(-1),xN=BigInt(1);Ey.encodedSize=function(t){let r=t.value,n=typeof r=="bigint"?r*U2-xN:r*-1-1;return n<xt[0]?1:n<xt[1]?2:n<xt[2]?3:n<xt[3]?5:9};Ey.compareTokens=function(t,r){return t.value<r.value?1:t.value>r.value?-1:0}});function Jl(e,t,r,n){zo(e,t,r+n);let o=mc(e,t+r,t+r+n);return new J(F.bytes,o,r+n)}function PN(e,t,r,n){return Jl(e,t,1,r)}function DN(e,t,r,n){return Jl(e,t,2,kr(e,t+1,n))}function AN(e,t,r,n){return Jl(e,t,3,Cr(e,t+1,n))}function IN(e,t,r,n){return Jl(e,t,5,Tr(e,t+1,n))}function kN(e,t,r,n){let o=Fr(e,t+1,n);if(typeof o=="bigint")throw new Error(`${ce} 64-bit integer bytes lengths not supported`);return Jl(e,t,9,o)}function xy(e){return e.encodedBytes===void 0&&(e.encodedBytes=e.type===F.string?Sy(e.value):e.value),e.encodedBytes}function gc(e,t){let r=xy(t);Rt(e,t.type.majorEncoded,r.length),e.push(r)}function Zde(e,t){return e.length<t.length?-1:e.length>t.length?1:hN(e,t)}var vy=b(()=>{nr();Ir();co();Ai();gc.encodedSize=function(t){let r=xy(t);return Rt.encodedSize(r.length)+r.length};gc.compareTokens=function(t,r){return Zde(xy(t),xy(r))}});function Vl(e,t,r,n,o){let i=r+n;zo(e,t,i);let a=new J(F.string,pN(e,t+r,t+i),i);return o.retainStringBytes===!0&&(a.byteValue=mc(e,t+r,t+i)),a}function CN(e,t,r,n){return Vl(e,t,1,r,n)}function TN(e,t,r,n){return Vl(e,t,2,kr(e,t+1,n),n)}function FN(e,t,r,n){return Vl(e,t,3,Cr(e,t+1,n),n)}function ON(e,t,r,n){return Vl(e,t,5,Tr(e,t+1,n),n)}function RN(e,t,r,n){let o=Fr(e,t+1,n);if(typeof o=="bigint")throw new Error(`${ce} 64-bit integer string lengths not supported`);return Vl(e,t,9,o,n)}var BN,j2=b(()=>{nr();Ir();co();vy();Ai();BN=gc});function yc(e,t,r,n){return new J(F.array,n,r)}function NN(e,t,r,n){return yc(e,t,1,r)}function UN(e,t,r,n){return yc(e,t,2,kr(e,t+1,n))}function qN(e,t,r,n){return yc(e,t,3,Cr(e,t+1,n))}function jN(e,t,r,n){return yc(e,t,5,Tr(e,t+1,n))}function LN(e,t,r,n){let o=Fr(e,t+1,n);if(typeof o=="bigint")throw new Error(`${ce} 64-bit integer array lengths not supported`);return yc(e,t,9,o)}function WN(e,t,r,n){if(n.allowIndefinite===!1)throw new Error(`${ce} indefinite length items not allowed`);return yc(e,t,1,1/0)}function Py(e,t){Rt(e,F.array.majorEncoded,t.value)}var L2=b(()=>{nr();co();Ir();Py.compareTokens=Yr.compareTokens;Py.encodedSize=function(t){return Rt.encodedSize(t.value)}});function bc(e,t,r,n){return new J(F.map,n,r)}function MN(e,t,r,n){return bc(e,t,1,r)}function GN(e,t,r,n){return bc(e,t,2,kr(e,t+1,n))}function $N(e,t,r,n){return bc(e,t,3,Cr(e,t+1,n))}function zN(e,t,r,n){return bc(e,t,5,Tr(e,t+1,n))}function HN(e,t,r,n){let o=Fr(e,t+1,n);if(typeof o=="bigint")throw new Error(`${ce} 64-bit integer map lengths not supported`);return bc(e,t,9,o)}function KN(e,t,r,n){if(n.allowIndefinite===!1)throw new Error(`${ce} indefinite length items not allowed`);return bc(e,t,1,1/0)}function Dy(e,t){Rt(e,F.map.majorEncoded,t.value)}var W2=b(()=>{nr();co();Ir();Dy.compareTokens=Yr.compareTokens;Dy.encodedSize=function(t){return Rt.encodedSize(t.value)}});function JN(e,t,r,n){return new J(F.tag,r,1)}function VN(e,t,r,n){return new J(F.tag,kr(e,t+1,n),2)}function ZN(e,t,r,n){return new J(F.tag,Cr(e,t+1,n),3)}function QN(e,t,r,n){return new J(F.tag,Tr(e,t+1,n),5)}function YN(e,t,r,n){return new J(F.tag,Fr(e,t+1,n),9)}function Ay(e,t){Rt(e,F.tag.majorEncoded,t.value)}var M2=b(()=>{nr();co();Ay.compareTokens=Yr.compareTokens;Ay.encodedSize=function(t){return Rt.encodedSize(t.value)}});function XN(e,t,r,n){if(n.allowUndefined===!1)throw new Error(`${ce} undefined values are not supported`);return n.coerceUndefinedToNull===!0?new J(F.null,null,1):new J(F.undefined,void 0,1)}function eU(e,t,r,n){if(n.allowIndefinite===!1)throw new Error(`${ce} indefinite length items not allowed`);return new J(F.break,void 0,1)}function G2(e,t,r){if(r){if(r.allowNaN===!1&&Number.isNaN(e))throw new Error(`${ce} NaN values are not supported`);if(r.allowInfinity===!1&&(e===1/0||e===-1/0))throw new Error(`${ce} Infinity values are not supported`)}return new J(F.float,e,t)}function tU(e,t,r,n){return G2($2(e,t+1),3,n)}function rU(e,t,r,n){return G2(z2(e,t+1),5,n)}function nU(e,t,r,n){return G2(sU(e,t+1),9,n)}function Iy(e,t,r){let n=t.value;if(n===!1)e.push([F.float.majorEncoded|rfe]);else if(n===!0)e.push([F.float.majorEncoded|nfe]);else if(n===null)e.push([F.float.majorEncoded|ofe]);else if(n===void 0)e.push([F.float.majorEncoded|ife]);else{let o,i=!1;(!r||r.float64!==!0)&&(iU(n),o=$2(kn,1),n===o||Number.isNaN(n)?(kn[0]=249,e.push(kn.slice(0,3)),i=!0):(aU(n),o=z2(kn,1),n===o&&(kn[0]=250,e.push(kn.slice(0,5)),i=!0))),i||(afe(n),o=sU(kn,1),kn[0]=251,e.push(kn.slice(0,9)))}}function iU(e){if(e===1/0)Xr.setUint16(0,31744,!1);else if(e===-1/0)Xr.setUint16(0,64512,!1);else if(Number.isNaN(e))Xr.setUint16(0,32256,!1);else{Xr.setFloat32(0,e);let t=Xr.getUint32(0),r=(t&2139095040)>>23,n=t&8388607;if(r===255)Xr.setUint16(0,31744,!1);else if(r===0)Xr.setUint16(0,(e&2147483648)>>16|n>>13,!1);else{let o=r-127;o<-24?Xr.setUint16(0,0):o<-14?Xr.setUint16(0,(t&2147483648)>>16|1<<24+o,!1):Xr.setUint16(0,(t&2147483648)>>16|o+15<<10|n>>13,!1)}}}function $2(e,t){if(e.length-t<2)throw new Error(`${ce} not enough data for float16`);let r=(e[t]<<8)+e[t+1];if(r===31744)return 1/0;if(r===64512)return-1/0;if(r===32256)return NaN;let n=r>>10&31,o=r&1023,i;return n===0?i=o*2**-24:n!==31?i=(o+1024)*2**(n-25):i=o===0?1/0:NaN,r&32768?-i:i}function aU(e){Xr.setFloat32(0,e,!1)}function z2(e,t){if(e.length-t<4)throw new Error(`${ce} not enough data for float32`);let r=(e.byteOffset||0)+t;return new DataView(e.buffer,r,4).getFloat32(0,!1)}function afe(e){Xr.setFloat64(0,e,!1)}function sU(e,t){if(e.length-t<8)throw new Error(`${ce} not enough data for float64`);let r=(e.byteOffset||0)+t;return new DataView(e.buffer,r,8).getFloat64(0,!1)}var rfe,nfe,ofe,ife,oU,Xr,kn,H2=b(()=>{nr();Ir();co();rfe=20,nfe=21,ofe=22,ife=23;Iy.encodedSize=function(t,r){let n=t.value;if(n===!1||n===!0||n===null||n===void 0)return 1;if(!r||r.float64!==!0){iU(n);let o=$2(kn,1);if(n===o||Number.isNaN(n))return 3;if(aU(n),o=z2(kn,1),n===o)return 5}return 9};oU=new ArrayBuffer(9),Xr=new DataView(oU,1),kn=new Uint8Array(oU,0);Iy.compareTokens=Yr.compareTokens});function je(e,t,r){throw new Error(`${ce} encountered invalid minor (${r}) for major ${e[t]>>>5}`)}function ky(e){return()=>{throw new Error(`${ce} ${e}`)}}function cU(e){switch(e.type){case F.false:return so([244]);case F.true:return so([245]);case F.null:return so([246]);case F.bytes:return e.value.length?void 0:so([64]);case F.string:return e.value===""?so([96]):void 0;case F.array:return e.value===0?so([128]):void 0;case F.map:return e.value===0?so([160]):void 0;case F.uint:return e.value<24?so([Number(e.value)]):void 0;case F.negint:if(e.value>=-24)return so([31-Number(e.value)])}}var X,Cn,K2=b(()=>{nr();co();q2();vy();j2();L2();W2();M2();H2();Ir();Ai();X=[];for(let e=0;e<=23;e++)X[e]=je;X[24]=gN;X[25]=yN;X[26]=bN;X[27]=wN;X[28]=je;X[29]=je;X[30]=je;X[31]=je;for(let e=32;e<=55;e++)X[e]=je;X[56]=_N;X[57]=SN;X[58]=EN;X[59]=vN;X[60]=je;X[61]=je;X[62]=je;X[63]=je;for(let e=64;e<=87;e++)X[e]=PN;X[88]=DN;X[89]=AN;X[90]=IN;X[91]=kN;X[92]=je;X[93]=je;X[94]=je;X[95]=ky("indefinite length bytes/strings are not supported");for(let e=96;e<=119;e++)X[e]=CN;X[120]=TN;X[121]=FN;X[122]=ON;X[123]=RN;X[124]=je;X[125]=je;X[126]=je;X[127]=ky("indefinite length bytes/strings are not supported");for(let e=128;e<=151;e++)X[e]=NN;X[152]=UN;X[153]=qN;X[154]=jN;X[155]=LN;X[156]=je;X[157]=je;X[158]=je;X[159]=WN;for(let e=160;e<=183;e++)X[e]=MN;X[184]=GN;X[185]=$N;X[186]=zN;X[187]=HN;X[188]=je;X[189]=je;X[190]=je;X[191]=KN;for(let e=192;e<=215;e++)X[e]=JN;X[216]=VN;X[217]=ZN;X[218]=QN;X[219]=YN;X[220]=je;X[221]=je;X[222]=je;X[223]=je;for(let e=224;e<=243;e++)X[e]=ky("simple values are not supported");X[244]=je;X[245]=je;X[246]=je;X[247]=XN;X[248]=ky("simple values are not supported");X[249]=tU;X[250]=rU;X[251]=nU;X[252]=je;X[253]=je;X[254]=je;X[255]=eU;Cn=[];for(let e=0;e<24;e++)Cn[e]=new J(F.uint,e,1);for(let e=-1;e>=-24;e--)Cn[31-e]=new J(F.negint,e,1);Cn[64]=new J(F.bytes,new Uint8Array(0),1);Cn[96]=new J(F.string,"",1);Cn[128]=new J(F.array,0,1);Cn[160]=new J(F.map,0,1);Cn[244]=new J(F.false,!1,1);Cn[245]=new J(F.true,!0,1);Cn[246]=new J(F.null,null,1)});function ufe(){let e=[];return e[F.uint.major]=Yr,e[F.negint.major]=Ey,e[F.bytes.major]=gc,e[F.string.major]=BN,e[F.array.major]=Py,e[F.map.major]=Dy,e[F.tag.major]=Ay,e[F.float.major]=Iy,e}function Cy(e,t={},r){let n=aN(e),o=t&&t.typeEncoders&&t.typeEncoders[n]||ki[n];if(typeof o=="function"){let a=o(e,n,t,r);if(a!=null)return a}let i=ki[n];if(!i)throw new Error(`${$o} unsupported type: ${n}`);return i(e,n,t,r)}function lfe(e,t){t.mapSorter&&e.sort(t.mapSorter)}function pfe(e,t){let r=Array.isArray(e[0])?e[0][0]:e[0],n=Array.isArray(t[0])?t[0][0]:t[0];if(r.type!==n.type)return r.type.compare(n.type);let o=r.type.major,i=uU[o].compareTokens(r,n);return i===0&&console.warn("WARNING: complex key types used, CBOR key sorting guarantees are gone"),i}function lU(e,t,r,n){if(Array.isArray(t))for(let o of t)lU(e,o,r,n);else r[t.type.major](e,t,n)}function V2(e,t,r){let n=Cy(e,r);if(!Array.isArray(n)&&r.quickEncodeToken){let o=r.quickEncodeToken(n);if(o)return o;let i=t[n.type.major];if(i.encodedSize){let a=i.encodedSize(n,r),s=new Hl(a);if(i(s,n,r),s.chunks.length!==1)throw new Error(`Unexpected error: pre-calculated length for ${n} was wrong`);return zl(s.chunks[0])}}return J2.reset(),lU(J2,n,t,r),J2.toBytes(!0)}function Z2(e,t){return t=Object.assign({},cfe,t),V2(e,uU,t)}var cfe,uU,J2,Ty,Ii,ki,Q2=b(()=>{sN();nr();mN();Ir();K2();Ai();co();q2();vy();j2();L2();W2();M2();H2();cfe={float64:!1,mapSorter:pfe,quickEncodeToken:cU};uU=ufe(),J2=new Hl,Ty=class e{constructor(t,r){this.obj=t,this.parent=r}includes(t){let r=this;do if(r.obj===t)return!0;while(r=r.parent);return!1}static createCheck(t,r){if(t&&t.includes(r))throw new Error(`${$o} object contains circular references`);return new e(r,t)}},Ii={null:new J(F.null,null),undefined:new J(F.undefined,void 0),true:new J(F.true,!0),false:new J(F.false,!1),emptyArray:new J(F.array,0),emptyMap:new J(F.map,0)},ki={number(e,t,r,n){return!Number.isInteger(e)||!Number.isSafeInteger(e)?new J(F.float,e):e>=0?new J(F.uint,e):new J(F.negint,e)},bigint(e,t,r,n){return e>=BigInt(0)?new J(F.uint,e):new J(F.negint,e)},Uint8Array(e,t,r,n){return new J(F.bytes,e)},string(e,t,r,n){return new J(F.string,e)},boolean(e,t,r,n){return e?Ii.true:Ii.false},null(e,t,r,n){return Ii.null},undefined(e,t,r,n){return Ii.undefined},ArrayBuffer(e,t,r,n){return new J(F.bytes,new Uint8Array(e))},DataView(e,t,r,n){return new J(F.bytes,new Uint8Array(e.buffer,e.byteOffset,e.byteLength))},Array(e,t,r,n){if(!e.length)return r.addBreakTokens===!0?[Ii.emptyArray,new J(F.break)]:Ii.emptyArray;n=Ty.createCheck(n,e);let o=[],i=0;for(let a of e)o[i++]=Cy(a,r,n);return r.addBreakTokens?[new J(F.array,e.length),o,new J(F.break)]:[new J(F.array,e.length),o]},Object(e,t,r,n){let o=t!=="Object",i=o?e.keys():Object.keys(e),a=o?e.size:i.length;if(!a)return r.addBreakTokens===!0?[Ii.emptyMap,new J(F.break)]:Ii.emptyMap;n=Ty.createCheck(n,e);let s=[],u=0;for(let c of i)s[u++]=[Cy(c,r,n),Cy(o?e.get(c):e[c],r,n)];return lfe(s,r),r.addBreakTokens?[new J(F.map,a),s,new J(F.break)]:[new J(F.map,a),s]}};ki.Map=ki.Object;ki.Buffer=ki.Uint8Array;for(let e of"Uint8Clamped Uint16 Uint32 Int8 Int16 Int32 BigUint64 BigInt64 Float32 Float64".split(" "))ki[`${e}Array`]=ki.DataView});function ffe(e,t,r){let n=[];for(let o=0;o<e.value;o++){let i=Ql(t,r);if(i===Fy){if(e.value===1/0)break;throw new Error(`${ce} got unexpected break to lengthed array`)}if(i===Zl)throw new Error(`${ce} found array but not enough entries (got ${o}, expected ${e.value})`);n[o]=i}return n}function hfe(e,t,r){let n=r.useMaps===!0,o=n?void 0:{},i=n?new Map:void 0;for(let a=0;a<e.value;a++){let s=Ql(t,r);if(s===Fy){if(e.value===1/0)break;throw new Error(`${ce} got unexpected break to lengthed map`)}if(s===Zl)throw new Error(`${ce} found map but not enough entries (got ${a} [no key], expected ${e.value})`);if(n!==!0&&typeof s!="string")throw new Error(`${ce} non-string keys not supported (got ${typeof s})`);if(r.rejectDuplicateMapKeys===!0&&(n&&i.has(s)||!n&&s in o))throw new Error(`${ce} found repeat map key "${s}"`);let u=Ql(t,r);if(u===Zl)throw new Error(`${ce} found map but not enough entries (got ${a} [no value], expected ${e.value})`);n?i.set(s,u):o[s]=u}return n?i:o}function Ql(e,t){if(e.done())return Zl;let r=e.next();if(r.type===F.break)return Fy;if(r.type.terminal)return r.value;if(r.type===F.array)return ffe(r,e,t);if(r.type===F.map)return hfe(r,e,t);if(r.type===F.tag){if(t.tags&&typeof t.tags[r.value]=="function"){let n=Ql(e,t);return t.tags[r.value](n)}throw new Error(`${ce} tag not supported (${r.value})`)}throw new Error("unsupported")}function Yl(e,t){if(!(e instanceof Uint8Array))throw new Error(`${ce} data to decode must be a Uint8Array`);t=Object.assign({},dfe,t);let r=t.tokenizer||new Y2(e,t),n=Ql(r,t);if(n===Zl)throw new Error(`${ce} did not find any content to decode`);if(n===Fy)throw new Error(`${ce} got unexpected break`);if(!r.done())throw new Error(`${ce} too many terminals, data makes no sense`);return n}var dfe,Y2,Zl,Fy,X2=b(()=>{Ir();nr();K2();dfe={strict:!1,allowIndefinite:!0,allowUndefined:!0,allowBigInt:!0},Y2=class{constructor(t,r={}){this.pos=0,this.data=t,this.options=r}done(){return this.pos>=this.data.length}next(){let t=this.data[this.pos],r=Cn[t];if(r===void 0){let n=X[t];if(!n)throw new Error(`${ce} no decoder for major type ${t>>>5} (byte 0x${t.toString(16).padStart(2,"0")})`);let o=t&31;r=n(this.data,this.pos,o,this.options)}return this.pos+=r.encodedLength,r}},Zl=Symbol.for("DONE"),Fy=Symbol.for("BREAK")});var eP=b(()=>{Q2();X2();nr()});var tP={};ne(tP,{code:()=>Efe,decode:()=>vfe,encode:()=>xfe,name:()=>Sfe});function gfe(e){if(e.asCID!==e)return null;let t=Q.asCID(e);if(!t)return null;let r=new Uint8Array(t.bytes.byteLength+1);return r.set(t.bytes,1),[new J(F.tag,pU),new J(F.bytes,r)]}function yfe(){throw new Error("`undefined` is not supported by the IPLD Data Model and cannot be encoded")}function bfe(e){if(Number.isNaN(e))throw new Error("`NaN` is not supported by the IPLD Data Model and cannot be encoded");if(e===1/0||e===-1/0)throw new Error("`Infinity` and `-Infinity` is not supported by the IPLD Data Model and cannot be encoded");return null}function _fe(e){if(e[0]!==0)throw new Error("Invalid CID for CBOR tag 42; expected leading 0x00");return Q.decode(e.subarray(1))}var pU,wfe,dU,Sfe,Efe,xfe,vfe,fU=b(()=>{eP();Ce();pU=42;wfe={float64:!0,typeEncoders:{Object:gfe,undefined:yfe,number:bfe}};dU={allowIndefinite:!1,coerceUndefinedToNull:!0,allowNaN:!1,allowInfinity:!1,allowBigInt:!0,strict:!0,useMaps:!1,tags:[]};dU.tags[pU]=_fe;Sfe="dag-cbor",Efe=113,xfe=e=>Z2(e,wfe),vfe=e=>Yl(e,dU)});var nP,rP,oP=b(()=>{Ml();nP=({name:e,code:t,encode:r})=>new rP(e,t,r),rP=class{constructor(t,r,n){this.name=t,this.code=r,this.encode=n}digest(t){if(t instanceof Uint8Array){let r=this.encode(t);return r instanceof Uint8Array?Ja(this.code,r):r.then(n=>Ja(this.code,n))}else throw Error("Unknown type, must be binary type")}}});var iP=b(()=>{Ce();gy();Go();oP();Ml()});var aP={};ne(aP,{base64:()=>Oy,base64pad:()=>Pfe,base64url:()=>Ry,base64urlpad:()=>Dfe});var Oy,Pfe,Ry,Dfe,By=b(()=>{In();Oy=et({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Pfe=et({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Ry=et({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Dfe=et({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6})});function Afe(e,t){if(Array.isArray(e[0])||Array.isArray(t[0]))throw new Error(`${$o} complex map keys are not supported`);let r=e[0],n=t[0];if(r.type!==F.string||n.type!==F.string)throw new Error(`${$o} non-string map keys are not supported`);if(r<n)return-1;if(r>n)return 1;throw new Error(`${$o} unexpected duplicate map keys, this is not supported`)}function cP(e,t){return t=Object.assign({},Ife,t),V2(e,new sP,t)}var sP,Ife,mU=b(()=>{nr();Q2();Ir();Ai();sP=class extends Array{constructor(){super(),this.inRecursive=[]}prefix(t){let r=this.inRecursive[this.inRecursive.length-1];r&&(r.type===F.array&&(r.elements++,r.elements!==1&&t.push([44])),r.type===F.map&&(r.elements++,r.elements!==1&&(r.elements%2===1?t.push([44]):t.push([58]))))}[F.uint.major](t,r){this.prefix(t);let n=String(r.value),o=[];for(let i=0;i<n.length;i++)o[i]=n.charCodeAt(i);t.push(o)}[F.negint.major](t,r){this[F.uint.major](t,r)}[F.bytes.major](t,r){throw new Error(`${$o} unsupported type: Uint8Array`)}[F.string.major](t,r){this.prefix(t);let n=Sy(JSON.stringify(r.value));t.push(n.length>32?zl(n):n)}[F.array.major](t,r){this.prefix(t),this.inRecursive.push({type:F.array,elements:0}),t.push([91])}[F.map.major](t,r){this.prefix(t),this.inRecursive.push({type:F.map,elements:0}),t.push([123])}[F.tag.major](t,r){}[F.float.major](t,r){if(r.type.name==="break"){let a=this.inRecursive.pop();if(a){if(a.type===F.array)t.push([93]);else if(a.type===F.map)t.push([125]);else throw new Error("Unexpected recursive type; this should not happen!");return}throw new Error("Unexpected break; this should not happen!")}if(r.value===void 0)throw new Error(`${$o} unsupported type: undefined`);if(this.prefix(t),r.type.name==="true"){t.push([116,114,117,101]);return}else if(r.type.name==="false"){t.push([102,97,108,115,101]);return}else if(r.type.name==="null"){t.push([110,117,108,108]);return}let n=String(r.value),o=[],i=!1;for(let a=0;a<n.length;a++)o[a]=n.charCodeAt(a),!i&&(o[a]===46||o[a]===101||o[a]===69)&&(i=!0);i||(o.push(46),o.push(48)),t.push(o)}};Ife={addBreakTokens:!0,mapSorter:Afe}});function uP(e,t){return t=Object.assign({tokenizer:new wc(e,t)},t),Yl(e,t)}var wc,gU=b(()=>{X2();nr();Ai();Ir();wc=class{constructor(t,r={}){this.pos=0,this.data=t,this.options=r,this.modeStack=["value"],this.lastToken=""}done(){return this.pos>=this.data.length}ch(){return this.data[this.pos]}currentMode(){return this.modeStack[this.modeStack.length-1]}skipWhitespace(){let t=this.ch();for(;t===32||t===9||t===13||t===10;)t=this.data[++this.pos]}expect(t){if(this.data.length-this.pos<t.length)throw new Error(`${ce} unexpected end of input at position ${this.pos}`);for(let r=0;r<t.length;r++)if(this.data[this.pos++]!==t[r])throw new Error(`${ce} unexpected token at position ${this.pos}, expected to find '${String.fromCharCode(...t)}'`)}parseNumber(){let t=this.pos,r=!1,n=!1,o=s=>{for(;!this.done();){let u=this.ch();if(s.includes(u))this.pos++;else break}};if(this.ch()===45&&(r=!0,this.pos++),this.ch()===48)if(this.pos++,this.ch()===46)this.pos++,n=!0;else return new J(F.uint,0,this.pos-t);if(o([48,49,50,51,52,53,54,55,56,57]),r&&this.pos===t+1)throw new Error(`${ce} unexpected token at position ${this.pos}`);if(!this.done()&&this.ch()===46){if(n)throw new Error(`${ce} unexpected token at position ${this.pos}`);n=!0,this.pos++,o([48,49,50,51,52,53,54,55,56,57])}!this.done()&&(this.ch()===101||this.ch()===69)&&(n=!0,this.pos++,!this.done()&&(this.ch()===43||this.ch()===45)&&this.pos++,o([48,49,50,51,52,53,54,55,56,57]));let i=String.fromCharCode.apply(null,this.data.subarray(t,this.pos)),a=parseFloat(i);return n?new J(F.float,a,this.pos-t):this.options.allowBigInt!==!0||Number.isSafeInteger(a)?new J(a>=0?F.uint:F.negint,a,this.pos-t):new J(a>=0?F.uint:F.negint,BigInt(i),this.pos-t)}parseString(){if(this.ch()!==34)throw new Error(`${ce} unexpected character at position ${this.pos}; this shouldn't happen`);this.pos++;for(let i=this.pos,a=0;i<this.data.length&&a<65536;i++,a++){let s=this.data[i];if(s===92||s<32||s>=128)break;if(s===34){let u=String.fromCharCode.apply(null,this.data.subarray(this.pos,i));return this.pos=i+1,new J(F.string,u,a)}}let t=this.pos,r=[],n=()=>{if(this.pos+4>=this.data.length)throw new Error(`${ce} unexpected end of unicode escape sequence at position ${this.pos}`);let i=0;for(let a=0;a<4;a++){let s=this.ch();if(s>=48&&s<=57)s-=48;else if(s>=97&&s<=102)s=s-97+10;else if(s>=65&&s<=70)s=s-65+10;else throw new Error(`${ce} unexpected unicode escape character at position ${this.pos}`);i=i*16+s,this.pos++}return i},o=()=>{let i=this.ch(),a=null,s=i>239?4:i>223?3:i>191?2:1;if(this.pos+s>this.data.length)throw new Error(`${ce} unexpected unicode sequence at position ${this.pos}`);let u,c,l,d;switch(s){case 1:i<128&&(a=i);break;case 2:u=this.data[this.pos+1],(u&192)===128&&(d=(i&31)<<6|u&63,d>127&&(a=d));break;case 3:u=this.data[this.pos+1],c=this.data[this.pos+2],(u&192)===128&&(c&192)===128&&(d=(i&15)<<12|(u&63)<<6|c&63,d>2047&&(d<55296||d>57343)&&(a=d));break;case 4:u=this.data[this.pos+1],c=this.data[this.pos+2],l=this.data[this.pos+3],(u&192)===128&&(c&192)===128&&(l&192)===128&&(d=(i&15)<<18|(u&63)<<12|(c&63)<<6|l&63,d>65535&&d<1114112&&(a=d))}a===null?(a=65533,s=1):a>65535&&(a-=65536,r.push(a>>>10&1023|55296),a=56320|a&1023),r.push(a),this.pos+=s};for(;!this.done();){let i=this.ch(),a;switch(i){case 92:if(this.pos++,this.done())throw new Error(`${ce} unexpected string termination at position ${this.pos}`);switch(a=this.ch(),this.pos++,a){case 34:case 39:case 92:case 47:r.push(a);break;case 98:r.push(8);break;case 116:r.push(9);break;case 110:r.push(10);break;case 102:r.push(12);break;case 114:r.push(13);break;case 117:r.push(n());break;default:throw new Error(`${ce} unexpected string escape character at position ${this.pos}`)}break;case 34:return this.pos++,new J(F.string,N2(r),this.pos-t);default:if(i<32)throw new Error(`${ce} invalid control character at position ${this.pos}`);i<128?(r.push(i),this.pos++):o()}}throw new Error(`${ce} unexpected end of string at position ${this.pos}`)}parseValue(){switch(this.ch()){case 123:return this.modeStack.push("obj-start"),this.pos++,new J(F.map,1/0,1);case 91:return this.modeStack.push("array-start"),this.pos++,new J(F.array,1/0,1);case 34:return this.parseString();case 110:return this.expect([110,117,108,108]),new J(F.null,null,4);case 102:return this.expect([102,97,108,115,101]),new J(F.false,!1,5);case 116:return this.expect([116,114,117,101]),new J(F.true,!0,4);case 45:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.parseNumber();default:throw new Error(`${ce} unexpected character at position ${this.pos}`)}}next(){switch(this.skipWhitespace(),this.currentMode()){case"value":return this.modeStack.pop(),this.parseValue();case"array-value":{if(this.modeStack.pop(),this.ch()===93)return this.pos++,this.skipWhitespace(),new J(F.break,void 0,1);if(this.ch()!==44)throw new Error(`${ce} unexpected character at position ${this.pos}, was expecting array delimiter but found '${String.fromCharCode(this.ch())}'`);return this.pos++,this.modeStack.push("array-value"),this.skipWhitespace(),this.parseValue()}case"array-start":return this.modeStack.pop(),this.ch()===93?(this.pos++,this.skipWhitespace(),new J(F.break,void 0,1)):(this.modeStack.push("array-value"),this.skipWhitespace(),this.parseValue());case"obj-key":if(this.ch()===125)return this.modeStack.pop(),this.pos++,this.skipWhitespace(),new J(F.break,void 0,1);if(this.ch()!==44)throw new Error(`${ce} unexpected character at position ${this.pos}, was expecting object delimiter but found '${String.fromCharCode(this.ch())}'`);this.pos++,this.skipWhitespace();case"obj-start":{if(this.modeStack.pop(),this.ch()===125)return this.pos++,this.skipWhitespace(),new J(F.break,void 0,1);let t=this.parseString();if(this.skipWhitespace(),this.ch()!==58)throw new Error(`${ce} unexpected character at position ${this.pos}, was expecting key/value delimiter ':' but found '${String.fromCharCode(this.ch())}'`);return this.pos++,this.modeStack.push("obj-value"),t}case"obj-value":return this.modeStack.pop(),this.modeStack.push("obj-key"),this.skipWhitespace(),this.parseValue();default:throw new Error(`${ce} unexpected parse state at position ${this.pos}; this shouldn't happen`)}}}});var yU=b(()=>{mU();gU()});var dP={};ne(dP,{code:()=>Bfe,decode:()=>Ufe,encode:()=>Nfe,name:()=>Rfe});function Cfe(e){if(e.asCID!==e)return null;let t=Q.asCID(e);if(!t)return null;let r=t.toString();return[new J(F.map,1/0,1),new J(F.string,"/",1),new J(F.string,r,r.length),new J(F.break,void 0,1)]}function bU(e){let t=Oy.encode(e).slice(1);return[new J(F.map,1/0,1),new J(F.string,"/",1),new J(F.map,1/0,1),new J(F.string,"bytes",5),new J(F.string,t,t.length),new J(F.break,void 0,1),new J(F.break,void 0,1)]}function Tfe(){throw new Error("`undefined` is not supported by the IPLD Data Model and cannot be encoded")}function Ffe(e){if(Number.isNaN(e))throw new Error("`NaN` is not supported by the IPLD Data Model and cannot be encoded");if(e===1/0||e===-1/0)throw new Error("`Infinity` and `-Infinity` is not supported by the IPLD Data Model and cannot be encoded");return null}var Ofe,lP,pP,Rfe,Bfe,Nfe,Ufe,wU=b(()=>{iP();By();eP();yU();Ofe={typeEncoders:{Object:Cfe,Uint8Array:bU,Buffer:bU,undefined:Tfe,number:Ffe}},lP=class extends wc{constructor(t,r){super(t,r),this.tokenBuffer=[]}done(){return this.tokenBuffer.length===0&&super.done()}_next(){return this.tokenBuffer.length>0?this.tokenBuffer.pop():super.next()}next(){let t=this._next();if(t.type===F.map){let r=this._next();if(r.type===F.string&&r.value==="/"){let n=this._next();if(n.type===F.string){if(this._next().type!==F.break)throw new Error("Invalid encoded CID form");return this.tokenBuffer.push(n),new J(F.tag,42,0)}if(n.type===F.map){let o=this._next();if(o.type===F.string&&o.value==="bytes"){let i=this._next();if(i.type===F.string){for(let s=0;s<2;s++)if(this._next().type!==F.break)throw new Error("Invalid encoded Bytes form");let a=Oy.decode(`m${i.value}`);return new J(F.bytes,a,i.value.length)}this.tokenBuffer.push(i)}this.tokenBuffer.push(o)}this.tokenBuffer.push(n)}this.tokenBuffer.push(r)}return t}},pP={allowIndefinite:!1,allowUndefined:!1,allowNaN:!1,allowInfinity:!1,allowBigInt:!0,strict:!0,useMaps:!1,tags:[]};pP.tags[42]=Q.parse;Rfe="dag-json",Bfe=297,Nfe=e=>cP(e,Ofe),Ufe=e=>{let t=Object.assign(pP,{tokenizer:new lP(e,pP)});return uP(e,t)}});var SU=E((XUe,_U)=>{"use strict";function qfe(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var o=0;o<e.length;o++){var i=e.charAt(o),a=i.charCodeAt(0);if(r[a]!==255)throw new TypeError(i+" is ambiguous");r[a]=o}var s=e.length,u=e.charAt(0),c=Math.log(s)/Math.log(256),l=Math.log(256)/Math.log(s);function d(p){if(p instanceof Uint8Array||(ArrayBuffer.isView(p)?p=new Uint8Array(p.buffer,p.byteOffset,p.byteLength):Array.isArray(p)&&(p=Uint8Array.from(p))),!(p instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(p.length===0)return"";for(var f=0,g=0,h=0,y=p.length;h!==y&&p[h]===0;)h++,f++;for(var _=(y-h)*l+1>>>0,S=new Uint8Array(_);h!==y;){for(var x=p[h],A=0,D=_-1;(x!==0||A<g)&&D!==-1;D--,A++)x+=256*S[D]>>>0,S[D]=x%s>>>0,x=x/s>>>0;if(x!==0)throw new Error("Non-zero carry");g=A,h++}for(var P=_-g;P!==_&&S[P]===0;)P++;for(var U=u.repeat(f);P<_;++P)U+=e.charAt(S[P]);return U}function w(p){if(typeof p!="string")throw new TypeError("Expected String");if(p.length===0)return new Uint8Array;var f=0;if(p[f]!==" "){for(var g=0,h=0;p[f]===u;)g++,f++;for(var y=(p.length-f)*c+1>>>0,_=new Uint8Array(y);p[f];){var S=r[p.charCodeAt(f)];if(S===255)return;for(var x=0,A=y-1;(S!==0||x<h)&&A!==-1;A--,x++)S+=s*_[A]>>>0,_[A]=S%256>>>0,S=S/256>>>0;if(S!==0)throw new Error("Non-zero carry");h=x,f++}if(p[f]!==" "){for(var D=y-h;D!==y&&_[D]===0;)D++;for(var P=new Uint8Array(g+(y-D)),U=g;D!==y;)P[U++]=_[D++];return P}}}function m(p){var f=w(p);if(f)return f;throw new Error(`Non-${t} character`)}return{encode:d,decodeUnsafe:w,decode:m}}var jfe=qfe,Lfe=jfe;_U.exports=Lfe});var lo=E(uo=>{"use strict";Object.defineProperty(uo,"__esModule",{value:!0});var EU=new Uint8Array(0),Wfe=e=>e.reduce((t,r)=>t+r.toString(16).padStart(2,"0"),""),Mfe=e=>{let t=e.match(/../g);return t?new Uint8Array(t.map(r=>parseInt(r,16))):EU},Gfe=(e,t)=>{if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0},$fe=e=>{if(e instanceof Uint8Array&&e.constructor.name==="Uint8Array")return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")},zfe=e=>e instanceof ArrayBuffer||ArrayBuffer.isView(e),Hfe=e=>new TextEncoder().encode(e),Kfe=e=>new TextDecoder().decode(e);uo.coerce=$fe;uo.empty=EU;uo.equals=Gfe;uo.fromHex=Mfe;uo.fromString=Hfe;uo.isBinary=zfe;uo.toHex=Wfe;uo.toString=Kfe});var Tn=E(Za=>{"use strict";Object.defineProperty(Za,"__esModule",{value:!0});var Jfe=SU(),Vfe=lo(),fP=class{constructor(t,r,n){this.name=t,this.prefix=r,this.baseEncode=n}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}},hP=class{constructor(t,r,n){if(this.name=t,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(t){if(typeof t=="string"){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(t){return gP(this,t)}},mP=class{constructor(t){this.decoders=t}or(t){return gP(this,t)}decode(t){let r=t[0],n=this.decoders[r];if(n)return n.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}},gP=(e,t)=>new mP({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}}),Ny=class{constructor(t,r,n,o){this.name=t,this.prefix=r,this.baseEncode=n,this.baseDecode=o,this.encoder=new fP(t,r,n),this.decoder=new hP(t,r,o)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}},yP=({name:e,prefix:t,encode:r,decode:n})=>new Ny(e,t,r,n),Zfe=({prefix:e,name:t,alphabet:r})=>{let{encode:n,decode:o}=Jfe(r,t);return yP({prefix:e,name:t,encode:n,decode:i=>Vfe.coerce(o(i))})},Qfe=(e,t,r,n)=>{let o={};for(let l=0;l<t.length;++l)o[t[l]]=l;let i=e.length;for(;e[i-1]==="=";)--i;let a=new Uint8Array(i*r/8|0),s=0,u=0,c=0;for(let l=0;l<i;++l){let d=o[e[l]];if(d===void 0)throw new SyntaxError(`Non-${n} character`);u=u<<r|d,s+=r,s>=8&&(s-=8,a[c++]=255&u>>s)}if(s>=r||255&u<<8-s)throw new SyntaxError("Unexpected end of data");return a},Yfe=(e,t,r)=>{let n=t[t.length-1]==="=",o=(1<<r)-1,i="",a=0,s=0;for(let u=0;u<e.length;++u)for(s=s<<8|e[u],a+=8;a>r;)a-=r,i+=t[o&s>>a];if(a&&(i+=t[o&s<<r-a]),n)for(;i.length*r&7;)i+="=";return i},Xfe=({name:e,prefix:t,bitsPerChar:r,alphabet:n})=>yP({prefix:t,name:e,encode(o){return Yfe(o,n,r)},decode(o){return Qfe(o,n,r,e)}});Za.Codec=Ny;Za.baseX=Zfe;Za.from=yP;Za.or=gP;Za.rfc4648=Xfe});var bP=E(_c=>{"use strict";Object.defineProperty(_c,"__esModule",{value:!0});var Uy=Tn(),ehe=Uy.rfc4648({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),the=Uy.rfc4648({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),rhe=Uy.rfc4648({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),nhe=Uy.rfc4648({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});_c.base64=ehe;_c.base64pad=the;_c.base64url=rhe;_c.base64urlpad=nhe});var wP=E(Sc=>{"use strict";Object.defineProperty(Sc,"__esModule",{value:!0});Sc.fromBase64url=Sc.toBase64url=void 0;var xU=bP();function ohe(e){return xU.base64url.encode(e).slice(1)}Sc.toBase64url=ohe;function ihe(e){return xU.base64url.decode(`u${e}`)}Sc.fromBase64url=ihe});var IU=E((o7e,AU)=>{"use strict";var ahe=DU,vU=128,she=127,che=~she,uhe=Math.pow(2,31);function DU(e,t,r){t=t||[],r=r||0;for(var n=r;e>=uhe;)t[r++]=e&255|vU,e/=128;for(;e&che;)t[r++]=e&255|vU,e>>>=7;return t[r]=e|0,DU.bytes=r-n+1,t}var lhe=_P,phe=128,PU=127;function _P(e,n){var r=0,n=n||0,o=0,i=n,a,s=e.length;do{if(i>=s)throw _P.bytes=0,new RangeError("Could not decode varint");a=e[i++],r+=o<28?(a&PU)<<o:(a&PU)*Math.pow(2,o),o+=7}while(a>=phe);return _P.bytes=i-n,r}var dhe=Math.pow(2,7),fhe=Math.pow(2,14),hhe=Math.pow(2,21),mhe=Math.pow(2,28),ghe=Math.pow(2,35),yhe=Math.pow(2,42),bhe=Math.pow(2,49),whe=Math.pow(2,56),_he=Math.pow(2,63),She=function(e){return e<dhe?1:e<fhe?2:e<hhe?3:e<mhe?4:e<ghe?5:e<yhe?6:e<bhe?7:e<whe?8:e<_he?9:10},Ehe={encode:ahe,decode:lhe,encodingLength:She},xhe=Ehe,vhe=xhe;AU.exports=vhe});var ep=E(Xl=>{"use strict";Object.defineProperty(Xl,"__esModule",{value:!0});var qy=IU(),Phe=(e,t=0)=>[qy.decode(e,t),qy.decode.bytes],Dhe=(e,t,r=0)=>(qy.encode(e,t,r),t),Ahe=e=>qy.encodingLength(e);Xl.decode=Phe;Xl.encodeTo=Dhe;Xl.encodingLength=Ahe});var Qa=E(xc=>{"use strict";Object.defineProperty(xc,"__esModule",{value:!0});var kU=lo(),Ec=ep(),Ihe=(e,t)=>{let r=t.byteLength,n=Ec.encodingLength(e),o=n+Ec.encodingLength(r),i=new Uint8Array(o+r);return Ec.encodeTo(e,i,0),Ec.encodeTo(r,i,n),i.set(t,o),new tp(e,r,t,i)},khe=e=>{let t=kU.coerce(e),[r,n]=Ec.decode(t),[o,i]=Ec.decode(t.subarray(n)),a=t.subarray(n+i);if(a.byteLength!==o)throw new Error("Incorrect length");return new tp(r,o,a,t)},Che=(e,t)=>e===t?!0:e.code===t.code&&e.size===t.size&&kU.equals(e.bytes,t.bytes),tp=class{constructor(t,r,n,o){this.code=t,this.size=r,this.digest=n,this.bytes=o}};xc.Digest=tp;xc.create=Ihe;xc.decode=khe;xc.equals=Che});var rp=E(jy=>{"use strict";Object.defineProperty(jy,"__esModule",{value:!0});var CU=Tn(),The=CU.baseX({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Fhe=CU.baseX({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});jy.base58btc=The;jy.base58flickr=Fhe});var Ly=E(Fn=>{"use strict";Object.defineProperty(Fn,"__esModule",{value:!0});var Ho=Tn(),Ohe=Ho.rfc4648({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Rhe=Ho.rfc4648({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Bhe=Ho.rfc4648({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Nhe=Ho.rfc4648({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Uhe=Ho.rfc4648({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),qhe=Ho.rfc4648({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),jhe=Ho.rfc4648({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Lhe=Ho.rfc4648({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Whe=Ho.rfc4648({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});Fn.base32=Ohe;Fn.base32hex=Uhe;Fn.base32hexpad=jhe;Fn.base32hexpadupper=Lhe;Fn.base32hexupper=qhe;Fn.base32pad=Bhe;Fn.base32padupper=Nhe;Fn.base32upper=Rhe;Fn.base32z=Whe});var Ya=E(EP=>{"use strict";Object.defineProperty(EP,"__esModule",{value:!0});var op=ep(),Wy=Qa(),Ci=rp(),$y=Ly(),Mhe=lo(),SP=class e{constructor(t,r,n,o){this.code=r,this.version=t,this.multihash=n,this.bytes=o,this.byteOffset=o.byteOffset,this.byteLength=o.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:Gy,byteLength:Gy,code:My,version:My,multihash:My,bytes:My,_baseCache:Gy,asCID:Gy})}toV0(){switch(this.version){case 0:return this;default:{let{code:t,multihash:r}=this;if(t!==np)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(r.code!==Hhe)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return e.createV0(r)}}}toV1(){switch(this.version){case 0:{let{code:t,digest:r}=this.multihash,n=Wy.create(t,r);return e.createV1(this.code,n)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(t){return t&&this.code===t.code&&this.version===t.version&&Wy.equals(this.multihash,t.multihash)}toString(t){let{bytes:r,version:n,_baseCache:o}=this;switch(n){case 0:return $he(r,o,t||Ci.base58btc.encoder);default:return zhe(r,o,t||$y.base32.encoder)}}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(t){return Jhe(/^0\.0/,Vhe),!!(t&&(t[FU]||t.asCID===t))}get toBaseEncodedString(){throw new Error("Deprecated, use .toString()")}get codec(){throw new Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw new Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw new Error('"multibaseName" property is deprecated')}get prefix(){throw new Error('"prefix" property is deprecated')}static asCID(t){if(t instanceof e)return t;if(t!=null&&t.asCID===t){let{version:r,code:n,multihash:o,bytes:i}=t;return new e(r,n,o,i||TU(r,n,o.bytes))}else if(t!=null&&t[FU]===!0){let{version:r,multihash:n,code:o}=t,i=Wy.decode(n);return e.create(r,o,i)}else return null}static create(t,r,n){if(typeof r!="number")throw new Error("String codecs are no longer supported");switch(t){case 0:{if(r!==np)throw new Error(`Version 0 CID must use dag-pb (code: ${np}) block encoding`);return new e(t,r,n,n.bytes)}case 1:{let o=TU(t,r,n.bytes);return new e(t,r,n,o)}default:throw new Error("Invalid version")}}static createV0(t){return e.create(0,np,t)}static createV1(t,r){return e.create(1,t,r)}static decode(t){let[r,n]=e.decodeFirst(t);if(n.length)throw new Error("Incorrect length");return r}static decodeFirst(t){let r=e.inspectBytes(t),n=r.size-r.multihashSize,o=Mhe.coerce(t.subarray(n,n+r.multihashSize));if(o.byteLength!==r.multihashSize)throw new Error("Incorrect length");let i=o.subarray(r.multihashSize-r.digestSize),a=new Wy.Digest(r.multihashCode,r.digestSize,i,o);return[r.version===0?e.createV0(a):e.createV1(r.codec,a),t.subarray(r.size)]}static inspectBytes(t){let r=0,n=()=>{let[d,w]=op.decode(t.subarray(r));return r+=w,d},o=n(),i=np;if(o===18?(o=0,r=0):o===1&&(i=n()),o!==0&&o!==1)throw new RangeError(`Invalid CID version ${o}`);let a=r,s=n(),u=n(),c=r+u,l=c-a;return{version:o,codec:i,multihashCode:s,digestSize:u,multihashSize:l,size:c}}static parse(t,r){let[n,o]=Ghe(t,r),i=e.decode(o);return i._baseCache.set(n,t),i}},Ghe=(e,t)=>{switch(e[0]){case"Q":{let r=t||Ci.base58btc;return[Ci.base58btc.prefix,r.decode(`${Ci.base58btc.prefix}${e}`)]}case Ci.base58btc.prefix:{let r=t||Ci.base58btc;return[Ci.base58btc.prefix,r.decode(e)]}case $y.base32.prefix:{let r=t||$y.base32;return[$y.base32.prefix,r.decode(e)]}default:{if(t==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}}},$he=(e,t,r)=>{let{prefix:n}=r;if(n!==Ci.base58btc.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);let o=t.get(n);if(o==null){let i=r.encode(e).slice(1);return t.set(n,i),i}else return o},zhe=(e,t,r)=>{let{prefix:n}=r,o=t.get(n);if(o==null){let i=r.encode(e);return t.set(n,i),i}else return o},np=112,Hhe=18,TU=(e,t,r)=>{let n=op.encodingLength(e),o=n+op.encodingLength(t),i=new Uint8Array(o+r.byteLength);return op.encodeTo(e,i,0),op.encodeTo(t,i,n),i.set(r,o),i},FU=Symbol.for("@ipld/js-cid/CID"),My={writable:!1,configurable:!1,enumerable:!0},Gy={writable:!1,enumerable:!1,configurable:!1},Khe="0.0.0-dev",Jhe=(e,t)=>{if(e.test(Khe))console.warn(t);else throw new Error(t)},Vhe=`CID.isCID(v) is deprecated and will be removed in the next major release.
Following code pattern:

if (CID.isCID(value)) {
  doSomethingWithCID(value)
}

Is replaced with:

const cid = CID.asCID(value)
if (cid) {
  // Make sure to use cid instead of value
  doSomethingWithCID(cid)
}
`;EP.CID=SP});var OU=E(vP=>{"use strict";Object.defineProperty(vP,"__esModule",{value:!0});var Xa=wP(),xP=Ya();function Zhe(e){let[t,r,n]=e;return{payload:r,signatures:[{protected:t,signature:n}],link:xP.CID.decode(Xa.fromBase64url(r))}}function Qhe(e){let t={signature:Xa.fromBase64url(e.signature)};return e.header&&(t.header=e.header),e.protected&&(t.protected=Xa.fromBase64url(e.protected)),t}function Yhe(e){let t=Xa.fromBase64url(e.payload);try{xP.CID.decode(t)}catch{throw new Error("Not a valid DagJWS")}return{payload:t,signatures:e.signatures.map(Qhe)}}function Xhe(e){let t={signature:Xa.toBase64url(e.signature)};return e.header&&(t.header=e.header),e.protected&&(t.protected=Xa.toBase64url(e.protected)),t}function eme(e){let t={payload:Xa.toBase64url(e.payload),signatures:e.signatures.map(Xhe)};return t.link=xP.CID.decode(new Uint8Array(e.payload)),t}vP.default={fromSplit:Zhe,encode:Yhe,decode:eme}});var RU=E(PP=>{"use strict";Object.defineProperty(PP,"__esModule",{value:!0});var en=wP();function tme(e){let[t,r,n,o,i]=e,a={ciphertext:o,iv:n,protected:t,tag:i};return r&&(a.recipients=[{encrypted_key:r}]),a}function rme(e){let t={};return e.encrypted_key&&(t.encrypted_key=en.fromBase64url(e.encrypted_key)),e.header&&(t.header=e.header),t}function nme(e){let t={ciphertext:en.fromBase64url(e.ciphertext),protected:en.fromBase64url(e.protected),iv:en.fromBase64url(e.iv),tag:en.fromBase64url(e.tag)};return e.aad&&(t.aad=en.fromBase64url(e.aad)),e.recipients&&(t.recipients=e.recipients.map(rme)),e.unprotected&&(t.unprotected=e.unprotected),t}function ome(e){let t={};return e.encrypted_key&&(t.encrypted_key=en.toBase64url(e.encrypted_key)),e.header&&(t.header=e.header),t}function ime(e){let t={ciphertext:en.toBase64url(e.ciphertext),protected:en.toBase64url(e.protected),iv:en.toBase64url(e.iv),tag:en.toBase64url(e.tag)};return e.aad&&(t.aad=en.toBase64url(e.aad)),e.recipients&&(t.recipients=e.recipients.map(ome)),e.unprotected&&(t.unprotected=e.unprotected),t}PP.default={fromSplit:tme,decode:ime,encode:nme}});var BU=E(DP=>{"use strict";Object.defineProperty(DP,"__esModule",{value:!0});var ame=["string","number","bigint","symbol"],sme=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","HTMLElement","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];function cme(e){if(e===null)return"null";if(e===void 0)return"undefined";if(e===!0||e===!1)return"boolean";let t=typeof e;if(ame.includes(t))return t;if(t==="function")return"Function";if(Array.isArray(e))return"Array";if(ume(e))return"Buffer";let r=lme(e);return r||"Object"}function ume(e){return e&&e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer.call(null,e)}function lme(e){let t=Object.prototype.toString.call(e).slice(8,-1);if(sme.includes(t))return t}DP.is=cme});var Or=E(zy=>{"use strict";Object.defineProperty(zy,"__esModule",{value:!0});var ze=class{constructor(t,r,n){this.major=t,this.majorEncoded=t<<5,this.name=r,this.terminal=n}toString(){return`Type[${this.major}].${this.name}`}compare(t){return this.major<t.major?-1:this.major>t.major?1:0}};ze.uint=new ze(0,"uint",!0);ze.negint=new ze(1,"negint",!0);ze.bytes=new ze(2,"bytes",!0);ze.string=new ze(3,"string",!0);ze.array=new ze(4,"array",!1);ze.map=new ze(5,"map",!1);ze.tag=new ze(6,"tag",!1);ze.float=new ze(7,"float",!0);ze.false=new ze(7,"false",!0);ze.true=new ze(7,"true",!0);ze.null=new ze(7,"null",!0);ze.undefined=new ze(7,"undefined",!0);ze.break=new ze(7,"break",!0);var AP=class{constructor(t,r,n){this.type=t,this.value=r,this.encodedLength=n,this.encodedBytes=void 0,this.byteValue=void 0}toString(){return`Token[${this.type}].${this.value}`}};zy.Token=AP;zy.Type=ze});var vc=E(fr=>{"use strict";Object.defineProperty(fr,"__esModule",{value:!0});var Ko=globalThis.process&&!globalThis.process.browser&&globalThis.Buffer&&typeof globalThis.Buffer.isBuffer=="function",pme=new TextDecoder,dme=new TextEncoder;function Hy(e){return Ko&&globalThis.Buffer.isBuffer(e)}function LU(e){return e instanceof Uint8Array?Hy(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e:Uint8Array.from(e)}var fme=Ko?(e,t,r)=>r-t>64?globalThis.Buffer.from(e.subarray(t,r)).toString("utf8"):qU(e,t,r):(e,t,r)=>r-t>64?pme.decode(e.subarray(t,r)):qU(e,t,r),hme=Ko?e=>e.length>64?globalThis.Buffer.from(e):UU(e):e=>e.length>64?dme.encode(e):UU(e),mme=e=>Uint8Array.from(e),gme=Ko?(e,t,r)=>Hy(e)?new Uint8Array(e.subarray(t,r)):e.slice(t,r):(e,t,r)=>e.slice(t,r),yme=Ko?(e,t)=>(e=e.map(r=>r instanceof Uint8Array?r:globalThis.Buffer.from(r)),LU(globalThis.Buffer.concat(e,t))):(e,t)=>{let r=new Uint8Array(t),n=0;for(let o of e)n+o.length>r.length&&(o=o.subarray(0,r.length-n)),r.set(o,n),n+=o.length;return r},bme=Ko?e=>globalThis.Buffer.allocUnsafe(e):e=>new Uint8Array(e),wme=Ko?e=>typeof e=="string"?e:globalThis.Buffer.from(NU(e)).toString("hex"):e=>typeof e=="string"?e:Array.prototype.reduce.call(NU(e),(t,r)=>`${t}${r.toString(16).padStart(2,"0")}`,""),_me=Ko?e=>e instanceof Uint8Array?e:globalThis.Buffer.from(e,"hex"):e=>e instanceof Uint8Array?e:e.length?new Uint8Array(e.split("").map((t,r,n)=>r%2===0?`0x${t}${n[r+1]}`:"").filter(Boolean).map(t=>parseInt(t,16))):new Uint8Array(0);function NU(e){if(e instanceof Uint8Array&&e.constructor.name==="Uint8Array")return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")}function Sme(e,t){if(Hy(e)&&Hy(t))return e.compare(t);for(let r=0;r<e.length;r++)if(e[r]!==t[r])return e[r]<t[r]?-1:1;return 0}function UU(e,t=1/0){let r,n=e.length,o=null,i=[];for(let a=0;a<n;++a){if(r=e.charCodeAt(a),r>55295&&r<57344){if(!o){if(r>56319){(t-=3)>-1&&i.push(239,191,189);continue}else if(a+1===n){(t-=3)>-1&&i.push(239,191,189);continue}o=r;continue}if(r<56320){(t-=3)>-1&&i.push(239,191,189),o=r;continue}r=(o-55296<<10|r-56320)+65536}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,r<128){if((t-=1)<0)break;i.push(r)}else if(r<2048){if((t-=2)<0)break;i.push(r>>6|192,r&63|128)}else if(r<65536){if((t-=3)<0)break;i.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((t-=4)<0)break;i.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return i}function qU(e,t,r){let n=[];for(;t<r;){let o=e[t],i=null,a=o>239?4:o>223?3:o>191?2:1;if(t+a<=r){let s,u,c,l;switch(a){case 1:o<128&&(i=o);break;case 2:s=e[t+1],(s&192)===128&&(l=(o&31)<<6|s&63,l>127&&(i=l));break;case 3:s=e[t+1],u=e[t+2],(s&192)===128&&(u&192)===128&&(l=(o&15)<<12|(s&63)<<6|u&63,l>2047&&(l<55296||l>57343)&&(i=l));break;case 4:s=e[t+1],u=e[t+2],c=e[t+3],(s&192)===128&&(u&192)===128&&(c&192)===128&&(l=(o&15)<<18|(s&63)<<12|(u&63)<<6|c&63,l>65535&&l<1114112&&(i=l))}}i===null?(i=65533,a=1):i>65535&&(i-=65536,n.push(i>>>10&1023|55296),i=56320|i&1023),n.push(i),t+=a}return WU(n)}var jU=4096;function WU(e){let t=e.length;if(t<=jU)return String.fromCharCode.apply(String,e);let r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=jU));return r}fr.alloc=bme;fr.asU8A=LU;fr.compare=Sme;fr.concat=yme;fr.decodeCodePointsArray=WU;fr.fromArray=mme;fr.fromHex=_me;fr.fromString=hme;fr.slice=gme;fr.toHex=wme;fr.toString=fme;fr.useBuffer=Ko});var MU=E(CP=>{"use strict";Object.defineProperty(CP,"__esModule",{value:!0});var IP=vc(),Eme=256,kP=class{constructor(t=Eme){this.chunkSize=t,this.cursor=0,this.maxCursor=-1,this.chunks=[],this._initReuseChunk=null}reset(){this.cursor=0,this.maxCursor=-1,this.chunks.length&&(this.chunks=[]),this._initReuseChunk!==null&&(this.chunks.push(this._initReuseChunk),this.maxCursor=this._initReuseChunk.length-1)}push(t){let r=this.chunks[this.chunks.length-1];if(this.cursor+t.length<=this.maxCursor+1){let o=r.length-(this.maxCursor-this.cursor)-1;r.set(t,o)}else{if(r){let o=r.length-(this.maxCursor-this.cursor)-1;o<r.length&&(this.chunks[this.chunks.length-1]=r.subarray(0,o),this.maxCursor=this.cursor-1)}t.length<64&&t.length<this.chunkSize?(r=IP.alloc(this.chunkSize),this.chunks.push(r),this.maxCursor+=r.length,this._initReuseChunk===null&&(this._initReuseChunk=r),r.set(t,0)):(this.chunks.push(t),this.maxCursor+=t.length)}this.cursor+=t.length}toBytes(t=!1){let r;if(this.chunks.length===1){let n=this.chunks[0];t&&this.cursor>n.length/2?(r=this.cursor===n.length?n:n.subarray(0,this.cursor),this._initReuseChunk=null,this.chunks=[]):r=IP.slice(n,0,this.cursor)}else r=IP.concat(this.chunks,this.cursor);return t&&this.reset(),r}};CP.Bl=kP});var On=E(Dc=>{"use strict";Object.defineProperty(Dc,"__esModule",{value:!0});var GU="CBOR decode error:",xme="CBOR encode error:",Pc=[];Pc[23]=1;Pc[24]=2;Pc[25]=3;Pc[26]=5;Pc[27]=9;function vme(e,t,r){if(e.length-t<r)throw new Error(`${GU} not enough data for type`)}Dc.assertEnoughData=vme;Dc.decodeErrPrefix=GU;Dc.encodeErrPrefix=xme;Dc.uintMinorPrefixBytes=Pc});var fo=E(Rr=>{"use strict";Object.defineProperty(Rr,"__esModule",{value:!0});var Ti=Or(),po=On(),hr=[24,256,65536,4294967296,BigInt("18446744073709551616")];function $U(e,t,r){po.assertEnoughData(e,t,1);let n=e[t];if(r.strict===!0&&n<hr[0])throw new Error(`${po.decodeErrPrefix} integer encoded in more bytes than necessary (strict decode)`);return n}function zU(e,t,r){po.assertEnoughData(e,t,2);let n=e[t]<<8|e[t+1];if(r.strict===!0&&n<hr[1])throw new Error(`${po.decodeErrPrefix} integer encoded in more bytes than necessary (strict decode)`);return n}function HU(e,t,r){po.assertEnoughData(e,t,4);let n=e[t]*16777216+(e[t+1]<<16)+(e[t+2]<<8)+e[t+3];if(r.strict===!0&&n<hr[2])throw new Error(`${po.decodeErrPrefix} integer encoded in more bytes than necessary (strict decode)`);return n}function KU(e,t,r){po.assertEnoughData(e,t,8);let n=e[t]*16777216+(e[t+1]<<16)+(e[t+2]<<8)+e[t+3],o=e[t+4]*16777216+(e[t+5]<<16)+(e[t+6]<<8)+e[t+7],i=(BigInt(n)<<BigInt(32))+BigInt(o);if(r.strict===!0&&i<hr[3])throw new Error(`${po.decodeErrPrefix} integer encoded in more bytes than necessary (strict decode)`);if(i<=Number.MAX_SAFE_INTEGER)return Number(i);if(r.allowBigInt===!0)return i;throw new Error(`${po.decodeErrPrefix} integers outside of the safe integer range are not supported`)}function Pme(e,t,r,n){return new Ti.Token(Ti.Type.uint,$U(e,t+1,n),2)}function Dme(e,t,r,n){return new Ti.Token(Ti.Type.uint,zU(e,t+1,n),3)}function Ame(e,t,r,n){return new Ti.Token(Ti.Type.uint,HU(e,t+1,n),5)}function Ime(e,t,r,n){return new Ti.Token(Ti.Type.uint,KU(e,t+1,n),9)}function TP(e,t){return Ky(e,0,t.value)}function Ky(e,t,r){if(r<hr[0]){let n=Number(r);e.push([t|n])}else if(r<hr[1]){let n=Number(r);e.push([t|24,n])}else if(r<hr[2]){let n=Number(r);e.push([t|25,n>>>8,n&255])}else if(r<hr[3]){let n=Number(r);e.push([t|26,n>>>24&255,n>>>16&255,n>>>8&255,n&255])}else{let n=BigInt(r);if(n<hr[4]){let o=[t|27,0,0,0,0,0,0,0],i=Number(n&BigInt(4294967295)),a=Number(n>>BigInt(32)&BigInt(4294967295));o[8]=i&255,i=i>>8,o[7]=i&255,i=i>>8,o[6]=i&255,i=i>>8,o[5]=i&255,o[4]=a&255,a=a>>8,o[3]=a&255,a=a>>8,o[2]=a&255,a=a>>8,o[1]=a&255,e.push(o)}else throw new Error(`${po.decodeErrPrefix} encountered BigInt larger than allowable range`)}}TP.encodedSize=function(t){return Ky.encodedSize(t.value)};Ky.encodedSize=function(t){return t<hr[0]?1:t<hr[1]?2:t<hr[2]?3:t<hr[3]?5:9};TP.compareTokens=function(t,r){return t.value<r.value?-1:t.value>r.value?1:0};Rr.decodeUint16=Dme;Rr.decodeUint32=Ame;Rr.decodeUint64=Ime;Rr.decodeUint8=Pme;Rr.encodeUint=TP;Rr.encodeUintValue=Ky;Rr.readUint16=zU;Rr.readUint32=HU;Rr.readUint64=KU;Rr.readUint8=$U;Rr.uintBoundaries=hr});var RP=E(es=>{"use strict";Object.defineProperty(es,"__esModule",{value:!0});var ho=Or(),Jo=fo(),kme=On();function Cme(e,t,r,n){return new ho.Token(ho.Type.negint,-1-Jo.readUint8(e,t+1,n),2)}function Tme(e,t,r,n){return new ho.Token(ho.Type.negint,-1-Jo.readUint16(e,t+1,n),3)}function Fme(e,t,r,n){return new ho.Token(ho.Type.negint,-1-Jo.readUint32(e,t+1,n),5)}var FP=BigInt(-1),JU=BigInt(1);function Ome(e,t,r,n){let o=Jo.readUint64(e,t+1,n);if(typeof o!="bigint"){let i=-1-o;if(i>=Number.MIN_SAFE_INTEGER)return new ho.Token(ho.Type.negint,i,9)}if(n.allowBigInt!==!0)throw new Error(`${kme.decodeErrPrefix} integers outside of the safe integer range are not supported`);return new ho.Token(ho.Type.negint,FP-BigInt(o),9)}function OP(e,t){let r=t.value,n=typeof r=="bigint"?r*FP-JU:r*-1-1;Jo.encodeUintValue(e,t.type.majorEncoded,n)}OP.encodedSize=function(t){let r=t.value,n=typeof r=="bigint"?r*FP-JU:r*-1-1;return n<Jo.uintBoundaries[0]?1:n<Jo.uintBoundaries[1]?2:n<Jo.uintBoundaries[2]?3:n<Jo.uintBoundaries[3]?5:9};OP.compareTokens=function(t,r){return t.value<r.value?1:t.value>r.value?-1:0};es.decodeNegint16=Tme;es.decodeNegint32=Fme;es.decodeNegint64=Ome;es.decodeNegint8=Cme;es.encodeNegint=OP});var Vy=E(Vo=>{"use strict";Object.defineProperty(Vo,"__esModule",{value:!0});var BP=Or(),VU=On(),Ac=fo(),NP=vc();function ip(e,t,r,n){VU.assertEnoughData(e,t,r+n);let o=NP.slice(e,t+r,t+r+n);return new BP.Token(BP.Type.bytes,o,r+n)}function Rme(e,t,r,n){return ip(e,t,1,r)}function Bme(e,t,r,n){return ip(e,t,2,Ac.readUint8(e,t+1,n))}function Nme(e,t,r,n){return ip(e,t,3,Ac.readUint16(e,t+1,n))}function Ume(e,t,r,n){return ip(e,t,5,Ac.readUint32(e,t+1,n))}function qme(e,t,r,n){let o=Ac.readUint64(e,t+1,n);if(typeof o=="bigint")throw new Error(`${VU.decodeErrPrefix} 64-bit integer bytes lengths not supported`);return ip(e,t,9,o)}function Jy(e){return e.encodedBytes===void 0&&(e.encodedBytes=e.type===BP.Type.string?NP.fromString(e.value):e.value),e.encodedBytes}function UP(e,t){let r=Jy(t);Ac.encodeUintValue(e,t.type.majorEncoded,r.length),e.push(r)}UP.encodedSize=function(t){let r=Jy(t);return Ac.encodeUintValue.encodedSize(r.length)+r.length};UP.compareTokens=function(t,r){return ZU(Jy(t),Jy(r))};function ZU(e,t){return e.length<t.length?-1:e.length>t.length?1:NP.compare(e,t)}Vo.compareBytes=ZU;Vo.decodeBytes16=Nme;Vo.decodeBytes32=Ume;Vo.decodeBytes64=qme;Vo.decodeBytes8=Bme;Vo.decodeBytesCompact=Rme;Vo.encodeBytes=UP});var qP=E(Fi=>{"use strict";Object.defineProperty(Fi,"__esModule",{value:!0});var QU=Or(),XU=On(),Zy=fo(),jme=Vy(),YU=vc();function ap(e,t,r,n,o){let i=r+n;XU.assertEnoughData(e,t,i);let a=new QU.Token(QU.Type.string,YU.toString(e,t+r,t+i),i);return o.retainStringBytes===!0&&(a.byteValue=YU.slice(e,t+r,t+i)),a}function Lme(e,t,r,n){return ap(e,t,1,r,n)}function Wme(e,t,r,n){return ap(e,t,2,Zy.readUint8(e,t+1,n),n)}function Mme(e,t,r,n){return ap(e,t,3,Zy.readUint16(e,t+1,n),n)}function Gme(e,t,r,n){return ap(e,t,5,Zy.readUint32(e,t+1,n),n)}function $me(e,t,r,n){let o=Zy.readUint64(e,t+1,n);if(typeof o=="bigint")throw new Error(`${XU.decodeErrPrefix} 64-bit integer string lengths not supported`);return ap(e,t,9,o,n)}var zme=jme.encodeBytes;Fi.decodeString16=Mme;Fi.decodeString32=Gme;Fi.decodeString64=$me;Fi.decodeString8=Wme;Fi.decodeStringCompact=Lme;Fi.encodeString=zme});var WP=E(Zo=>{"use strict";Object.defineProperty(Zo,"__esModule",{value:!0});var jP=Or(),ts=fo(),e7=On();function Ic(e,t,r,n){return new jP.Token(jP.Type.array,n,r)}function Hme(e,t,r,n){return Ic(e,t,1,r)}function Kme(e,t,r,n){return Ic(e,t,2,ts.readUint8(e,t+1,n))}function Jme(e,t,r,n){return Ic(e,t,3,ts.readUint16(e,t+1,n))}function Vme(e,t,r,n){return Ic(e,t,5,ts.readUint32(e,t+1,n))}function Zme(e,t,r,n){let o=ts.readUint64(e,t+1,n);if(typeof o=="bigint")throw new Error(`${e7.decodeErrPrefix} 64-bit integer array lengths not supported`);return Ic(e,t,9,o)}function Qme(e,t,r,n){if(n.allowIndefinite===!1)throw new Error(`${e7.decodeErrPrefix} indefinite length items not allowed`);return Ic(e,t,1,1/0)}function LP(e,t){ts.encodeUintValue(e,jP.Type.array.majorEncoded,t.value)}LP.compareTokens=ts.encodeUint.compareTokens;LP.encodedSize=function(t){return ts.encodeUintValue.encodedSize(t.value)};Zo.decodeArray16=Jme;Zo.decodeArray32=Vme;Zo.decodeArray64=Zme;Zo.decodeArray8=Kme;Zo.decodeArrayCompact=Hme;Zo.decodeArrayIndefinite=Qme;Zo.encodeArray=LP});var $P=E(Qo=>{"use strict";Object.defineProperty(Qo,"__esModule",{value:!0});var MP=Or(),rs=fo(),t7=On();function kc(e,t,r,n){return new MP.Token(MP.Type.map,n,r)}function Yme(e,t,r,n){return kc(e,t,1,r)}function Xme(e,t,r,n){return kc(e,t,2,rs.readUint8(e,t+1,n))}function ege(e,t,r,n){return kc(e,t,3,rs.readUint16(e,t+1,n))}function tge(e,t,r,n){return kc(e,t,5,rs.readUint32(e,t+1,n))}function rge(e,t,r,n){let o=rs.readUint64(e,t+1,n);if(typeof o=="bigint")throw new Error(`${t7.decodeErrPrefix} 64-bit integer map lengths not supported`);return kc(e,t,9,o)}function nge(e,t,r,n){if(n.allowIndefinite===!1)throw new Error(`${t7.decodeErrPrefix} indefinite length items not allowed`);return kc(e,t,1,1/0)}function GP(e,t){rs.encodeUintValue(e,MP.Type.map.majorEncoded,t.value)}GP.compareTokens=rs.encodeUint.compareTokens;GP.encodedSize=function(t){return rs.encodeUintValue.encodedSize(t.value)};Qo.decodeMap16=ege;Qo.decodeMap32=tge;Qo.decodeMap64=rge;Qo.decodeMap8=Xme;Qo.decodeMapCompact=Yme;Qo.decodeMapIndefinite=nge;Qo.encodeMap=GP});var HP=E(Oi=>{"use strict";Object.defineProperty(Oi,"__esModule",{value:!0});var Rn=Or(),ns=fo();function oge(e,t,r,n){return new Rn.Token(Rn.Type.tag,r,1)}function ige(e,t,r,n){return new Rn.Token(Rn.Type.tag,ns.readUint8(e,t+1,n),2)}function age(e,t,r,n){return new Rn.Token(Rn.Type.tag,ns.readUint16(e,t+1,n),3)}function sge(e,t,r,n){return new Rn.Token(Rn.Type.tag,ns.readUint32(e,t+1,n),5)}function cge(e,t,r,n){return new Rn.Token(Rn.Type.tag,ns.readUint64(e,t+1,n),9)}function zP(e,t){ns.encodeUintValue(e,Rn.Type.tag.majorEncoded,t.value)}zP.compareTokens=ns.encodeUint.compareTokens;zP.encodedSize=function(t){return ns.encodeUintValue.encodedSize(t.value)};Oi.decodeTag16=age;Oi.decodeTag32=sge;Oi.decodeTag64=cge;Oi.decodeTag8=ige;Oi.decodeTagCompact=oge;Oi.encodeTag=zP});var QP=E(Ri=>{"use strict";Object.defineProperty(Ri,"__esModule",{value:!0});var rn=Or(),os=On(),uge=fo(),lge=20,pge=21,dge=22,fge=23;function hge(e,t,r,n){if(n.allowUndefined===!1)throw new Error(`${os.decodeErrPrefix} undefined values are not supported`);return n.coerceUndefinedToNull===!0?new rn.Token(rn.Type.null,null,1):new rn.Token(rn.Type.undefined,void 0,1)}function mge(e,t,r,n){if(n.allowIndefinite===!1)throw new Error(`${os.decodeErrPrefix} indefinite length items not allowed`);return new rn.Token(rn.Type.break,void 0,1)}function KP(e,t,r){if(r){if(r.allowNaN===!1&&Number.isNaN(e))throw new Error(`${os.decodeErrPrefix} NaN values are not supported`);if(r.allowInfinity===!1&&(e===1/0||e===-1/0))throw new Error(`${os.decodeErrPrefix} Infinity values are not supported`)}return new rn.Token(rn.Type.float,e,t)}function gge(e,t,r,n){return KP(VP(e,t+1),3,n)}function yge(e,t,r,n){return KP(ZP(e,t+1),5,n)}function bge(e,t,r,n){return KP(i7(e,t+1),9,n)}function JP(e,t,r){let n=t.value;if(n===!1)e.push([rn.Type.float.majorEncoded|lge]);else if(n===!0)e.push([rn.Type.float.majorEncoded|pge]);else if(n===null)e.push([rn.Type.float.majorEncoded|dge]);else if(n===void 0)e.push([rn.Type.float.majorEncoded|fge]);else{let o,i=!1;(!r||r.float64!==!0)&&(n7(n),o=VP(Bn,1),n===o||Number.isNaN(n)?(Bn[0]=249,e.push(Bn.slice(0,3)),i=!0):(o7(n),o=ZP(Bn,1),n===o&&(Bn[0]=250,e.push(Bn.slice(0,5)),i=!0))),i||(wge(n),o=i7(Bn,1),Bn[0]=251,e.push(Bn.slice(0,9)))}}JP.encodedSize=function(t,r){let n=t.value;if(n===!1||n===!0||n===null||n===void 0)return 1;if(!r||r.float64!==!0){n7(n);let o=VP(Bn,1);if(n===o||Number.isNaN(n))return 3;if(o7(n),o=ZP(Bn,1),n===o)return 5}return 9};var r7=new ArrayBuffer(9),tn=new DataView(r7,1),Bn=new Uint8Array(r7,0);function n7(e){if(e===1/0)tn.setUint16(0,31744,!1);else if(e===-1/0)tn.setUint16(0,64512,!1);else if(Number.isNaN(e))tn.setUint16(0,32256,!1);else{tn.setFloat32(0,e);let t=tn.getUint32(0),r=(t&2139095040)>>23,n=t&8388607;if(r===255)tn.setUint16(0,31744,!1);else if(r===0)tn.setUint16(0,(e&2147483648)>>16|n>>13,!1);else{let o=r-127;o<-24?tn.setUint16(0,0):o<-14?tn.setUint16(0,(t&2147483648)>>16|1<<24+o,!1):tn.setUint16(0,(t&2147483648)>>16|o+15<<10|n>>13,!1)}}}function VP(e,t){if(e.length-t<2)throw new Error(`${os.decodeErrPrefix} not enough data for float16`);let r=(e[t]<<8)+e[t+1];if(r===31744)return 1/0;if(r===64512)return-1/0;if(r===32256)return NaN;let n=r>>10&31,o=r&1023,i;return n===0?i=o*2**-24:n!==31?i=(o+1024)*2**(n-25):i=o===0?1/0:NaN,r&32768?-i:i}function o7(e){tn.setFloat32(0,e,!1)}function ZP(e,t){if(e.length-t<4)throw new Error(`${os.decodeErrPrefix} not enough data for float32`);let r=(e.byteOffset||0)+t;return new DataView(e.buffer,r,4).getFloat32(0,!1)}function wge(e){tn.setFloat64(0,e,!1)}function i7(e,t){if(e.length-t<8)throw new Error(`${os.decodeErrPrefix} not enough data for float64`);let r=(e.byteOffset||0)+t;return new DataView(e.buffer,r,8).getFloat64(0,!1)}JP.compareTokens=uge.encodeUint.compareTokens;Ri.decodeBreak=mge;Ri.decodeFloat16=gge;Ri.decodeFloat32=yge;Ri.decodeFloat64=bge;Ri.decodeUndefined=hge;Ri.encodeFloat=JP});var YP=E(pp=>{"use strict";Object.defineProperty(pp,"__esModule",{value:!0});var Je=Or(),Qy=fo(),Yy=RP(),sp=Vy(),cp=qP(),Cc=WP(),Tc=$P(),up=HP(),lp=QP(),a7=On(),Yo=vc();function Le(e,t,r){throw new Error(`${a7.decodeErrPrefix} encountered invalid minor (${r}) for major ${e[t]>>>5}`)}function Xy(e){return()=>{throw new Error(`${a7.decodeErrPrefix} ${e}`)}}var re=[];for(let e=0;e<=23;e++)re[e]=Le;re[24]=Qy.decodeUint8;re[25]=Qy.decodeUint16;re[26]=Qy.decodeUint32;re[27]=Qy.decodeUint64;re[28]=Le;re[29]=Le;re[30]=Le;re[31]=Le;for(let e=32;e<=55;e++)re[e]=Le;re[56]=Yy.decodeNegint8;re[57]=Yy.decodeNegint16;re[58]=Yy.decodeNegint32;re[59]=Yy.decodeNegint64;re[60]=Le;re[61]=Le;re[62]=Le;re[63]=Le;for(let e=64;e<=87;e++)re[e]=sp.decodeBytesCompact;re[88]=sp.decodeBytes8;re[89]=sp.decodeBytes16;re[90]=sp.decodeBytes32;re[91]=sp.decodeBytes64;re[92]=Le;re[93]=Le;re[94]=Le;re[95]=Xy("indefinite length bytes/strings are not supported");for(let e=96;e<=119;e++)re[e]=cp.decodeStringCompact;re[120]=cp.decodeString8;re[121]=cp.decodeString16;re[122]=cp.decodeString32;re[123]=cp.decodeString64;re[124]=Le;re[125]=Le;re[126]=Le;re[127]=Xy("indefinite length bytes/strings are not supported");for(let e=128;e<=151;e++)re[e]=Cc.decodeArrayCompact;re[152]=Cc.decodeArray8;re[153]=Cc.decodeArray16;re[154]=Cc.decodeArray32;re[155]=Cc.decodeArray64;re[156]=Le;re[157]=Le;re[158]=Le;re[159]=Cc.decodeArrayIndefinite;for(let e=160;e<=183;e++)re[e]=Tc.decodeMapCompact;re[184]=Tc.decodeMap8;re[185]=Tc.decodeMap16;re[186]=Tc.decodeMap32;re[187]=Tc.decodeMap64;re[188]=Le;re[189]=Le;re[190]=Le;re[191]=Tc.decodeMapIndefinite;for(let e=192;e<=215;e++)re[e]=up.decodeTagCompact;re[216]=up.decodeTag8;re[217]=up.decodeTag16;re[218]=up.decodeTag32;re[219]=up.decodeTag64;re[220]=Le;re[221]=Le;re[222]=Le;re[223]=Le;for(let e=224;e<=243;e++)re[e]=Xy("simple values are not supported");re[244]=Le;re[245]=Le;re[246]=Le;re[247]=lp.decodeUndefined;re[248]=Xy("simple values are not supported");re[249]=lp.decodeFloat16;re[250]=lp.decodeFloat32;re[251]=lp.decodeFloat64;re[252]=Le;re[253]=Le;re[254]=Le;re[255]=lp.decodeBreak;var mo=[];for(let e=0;e<24;e++)mo[e]=new Je.Token(Je.Type.uint,e,1);for(let e=-1;e>=-24;e--)mo[31-e]=new Je.Token(Je.Type.negint,e,1);mo[64]=new Je.Token(Je.Type.bytes,new Uint8Array(0),1);mo[96]=new Je.Token(Je.Type.string,"",1);mo[128]=new Je.Token(Je.Type.array,0,1);mo[160]=new Je.Token(Je.Type.map,0,1);mo[244]=new Je.Token(Je.Type.false,!1,1);mo[245]=new Je.Token(Je.Type.true,!0,1);mo[246]=new Je.Token(Je.Type.null,null,1);function _ge(e){switch(e.type){case Je.Type.false:return Yo.fromArray([244]);case Je.Type.true:return Yo.fromArray([245]);case Je.Type.null:return Yo.fromArray([246]);case Je.Type.bytes:return e.value.length?void 0:Yo.fromArray([64]);case Je.Type.string:return e.value===""?Yo.fromArray([96]):void 0;case Je.Type.array:return e.value===0?Yo.fromArray([128]):void 0;case Je.Type.map:return e.value===0?Yo.fromArray([160]):void 0;case Je.Type.uint:return e.value<24?Yo.fromArray([Number(e.value)]):void 0;case Je.Type.negint:if(e.value>=-24)return Yo.fromArray([31-Number(e.value)])}}pp.jump=re;pp.quick=mo;pp.quickEncodeToken=_ge});var f7=E(is=>{"use strict";Object.defineProperty(is,"__esModule",{value:!0});var Sge=BU(),ge=Or(),s7=MU(),c7=On(),Ege=YP(),xge=vc(),vge=fo(),Pge=RP(),Dge=Vy(),Age=qP(),Ige=WP(),kge=$P(),Cge=HP(),Tge=QP(),Fge={float64:!1,mapSorter:Rge,quickEncodeToken:Ege.quickEncodeToken};function u7(){let e=[];return e[ge.Type.uint.major]=vge.encodeUint,e[ge.Type.negint.major]=Pge.encodeNegint,e[ge.Type.bytes.major]=Dge.encodeBytes,e[ge.Type.string.major]=Age.encodeString,e[ge.Type.array.major]=Ige.encodeArray,e[ge.Type.map.major]=kge.encodeMap,e[ge.Type.tag.major]=Cge.encodeTag,e[ge.Type.float.major]=Tge.encodeFloat,e}var l7=u7(),XP=new s7.Bl,fp=class e{constructor(t,r){this.obj=t,this.parent=r}includes(t){let r=this;do if(r.obj===t)return!0;while(r=r.parent);return!1}static createCheck(t,r){if(t&&t.includes(r))throw new Error(`${c7.encodeErrPrefix} object contains circular references`);return new e(r,t)}},Bi={null:new ge.Token(ge.Type.null,null),undefined:new ge.Token(ge.Type.undefined,void 0),true:new ge.Token(ge.Type.true,!0),false:new ge.Token(ge.Type.false,!1),emptyArray:new ge.Token(ge.Type.array,0),emptyMap:new ge.Token(ge.Type.map,0)},Ni={number(e,t,r,n){return!Number.isInteger(e)||!Number.isSafeInteger(e)?new ge.Token(ge.Type.float,e):e>=0?new ge.Token(ge.Type.uint,e):new ge.Token(ge.Type.negint,e)},bigint(e,t,r,n){return e>=BigInt(0)?new ge.Token(ge.Type.uint,e):new ge.Token(ge.Type.negint,e)},Uint8Array(e,t,r,n){return new ge.Token(ge.Type.bytes,e)},string(e,t,r,n){return new ge.Token(ge.Type.string,e)},boolean(e,t,r,n){return e?Bi.true:Bi.false},null(e,t,r,n){return Bi.null},undefined(e,t,r,n){return Bi.undefined},ArrayBuffer(e,t,r,n){return new ge.Token(ge.Type.bytes,new Uint8Array(e))},DataView(e,t,r,n){return new ge.Token(ge.Type.bytes,new Uint8Array(e.buffer,e.byteOffset,e.byteLength))},Array(e,t,r,n){if(!e.length)return r.addBreakTokens===!0?[Bi.emptyArray,new ge.Token(ge.Type.break)]:Bi.emptyArray;n=fp.createCheck(n,e);let o=[],i=0;for(let a of e)o[i++]=dp(a,r,n);return r.addBreakTokens?[new ge.Token(ge.Type.array,e.length),o,new ge.Token(ge.Type.break)]:[new ge.Token(ge.Type.array,e.length),o]},Object(e,t,r,n){let o=t!=="Object",i=o?e.keys():Object.keys(e),a=o?e.size:i.length;if(!a)return r.addBreakTokens===!0?[Bi.emptyMap,new ge.Token(ge.Type.break)]:Bi.emptyMap;n=fp.createCheck(n,e);let s=[],u=0;for(let c of i)s[u++]=[dp(c,r,n),dp(o?e.get(c):e[c],r,n)];return Oge(s,r),r.addBreakTokens?[new ge.Token(ge.Type.map,a),s,new ge.Token(ge.Type.break)]:[new ge.Token(ge.Type.map,a),s]}};Ni.Map=Ni.Object;Ni.Buffer=Ni.Uint8Array;for(let e of"Uint8Clamped Uint16 Uint32 Int8 Int16 Int32 BigUint64 BigInt64 Float32 Float64".split(" "))Ni[`${e}Array`]=Ni.DataView;function dp(e,t={},r){let n=Sge.is(e),o=t&&t.typeEncoders&&t.typeEncoders[n]||Ni[n];if(typeof o=="function"){let a=o(e,n,t,r);if(a!=null)return a}let i=Ni[n];if(!i)throw new Error(`${c7.encodeErrPrefix} unsupported type: ${n}`);return i(e,n,t,r)}function Oge(e,t){t.mapSorter&&e.sort(t.mapSorter)}function Rge(e,t){let r=Array.isArray(e[0])?e[0][0]:e[0],n=Array.isArray(t[0])?t[0][0]:t[0];if(r.type!==n.type)return r.type.compare(n.type);let o=r.type.major,i=l7[o].compareTokens(r,n);return i===0&&console.warn("WARNING: complex key types used, CBOR key sorting guarantees are gone"),i}function p7(e,t,r,n){if(Array.isArray(t))for(let o of t)p7(e,o,r,n);else r[t.type.major](e,t,n)}function d7(e,t,r){let n=dp(e,r);if(!Array.isArray(n)&&r.quickEncodeToken){let o=r.quickEncodeToken(n);if(o)return o;let i=t[n.type.major];if(i.encodedSize){let a=i.encodedSize(n,r),s=new s7.Bl(a);if(i(s,n,r),s.chunks.length!==1)throw new Error(`Unexpected error: pre-calculated length for ${n} was wrong`);return xge.asU8A(s.chunks[0])}}return XP.reset(),p7(XP,n,t,r),XP.toBytes(!0)}function Bge(e,t){return t=Object.assign({},Fge,t),d7(e,l7,t)}is.Ref=fp;is.encode=Bge;is.encodeCustom=d7;is.makeCborEncoders=u7;is.objectToTokens=dp});var m7=E(mp=>{"use strict";Object.defineProperty(mp,"__esModule",{value:!0});var Br=On(),eb=Or(),h7=YP(),Nge={strict:!1,allowIndefinite:!0,allowUndefined:!0,allowBigInt:!0},tb=class{constructor(t,r={}){this.pos=0,this.data=t,this.options=r}done(){return this.pos>=this.data.length}next(){let t=this.data[this.pos],r=h7.quick[t];if(r===void 0){let n=h7.jump[t];if(!n)throw new Error(`${Br.decodeErrPrefix} no decoder for major type ${t>>>5} (byte 0x${t.toString(16).padStart(2,"0")})`);let o=t&31;r=n(this.data,this.pos,o,this.options)}return this.pos+=r.encodedLength,r}},hp=Symbol.for("DONE"),rb=Symbol.for("BREAK");function Uge(e,t,r){let n=[];for(let o=0;o<e.value;o++){let i=Fc(t,r);if(i===rb){if(e.value===1/0)break;throw new Error(`${Br.decodeErrPrefix} got unexpected break to lengthed array`)}if(i===hp)throw new Error(`${Br.decodeErrPrefix} found array but not enough entries (got ${o}, expected ${e.value})`);n[o]=i}return n}function qge(e,t,r){let n=r.useMaps===!0,o=n?void 0:{},i=n?new Map:void 0;for(let a=0;a<e.value;a++){let s=Fc(t,r);if(s===rb){if(e.value===1/0)break;throw new Error(`${Br.decodeErrPrefix} got unexpected break to lengthed map`)}if(s===hp)throw new Error(`${Br.decodeErrPrefix} found map but not enough entries (got ${a} [no key], expected ${e.value})`);if(n!==!0&&typeof s!="string")throw new Error(`${Br.decodeErrPrefix} non-string keys not supported (got ${typeof s})`);if(r.rejectDuplicateMapKeys===!0&&(n&&i.has(s)||!n&&s in o))throw new Error(`${Br.decodeErrPrefix} found repeat map key "${s}"`);let u=Fc(t,r);if(u===hp)throw new Error(`${Br.decodeErrPrefix} found map but not enough entries (got ${a} [no value], expected ${e.value})`);n?i.set(s,u):o[s]=u}return n?i:o}function Fc(e,t){if(e.done())return hp;let r=e.next();if(r.type===eb.Type.break)return rb;if(r.type.terminal)return r.value;if(r.type===eb.Type.array)return Uge(r,e,t);if(r.type===eb.Type.map)return qge(r,e,t);if(r.type===eb.Type.tag){if(t.tags&&typeof t.tags[r.value]=="function"){let n=Fc(e,t);return t.tags[r.value](n)}throw new Error(`${Br.decodeErrPrefix} tag not supported (${r.value})`)}throw new Error("unsupported")}function jge(e,t){if(!(e instanceof Uint8Array))throw new Error(`${Br.decodeErrPrefix} data to decode must be a Uint8Array`);t=Object.assign({},Nge,t);let r=t.tokenizer||new tb(e,t),n=Fc(r,t);if(n===hp)throw new Error(`${Br.decodeErrPrefix} did not find any content to decode`);if(n===rb)throw new Error(`${Br.decodeErrPrefix} got unexpected break`);if(!r.done())throw new Error(`${Br.decodeErrPrefix} too many terminals, data makes no sense`);return n}mp.Tokeniser=tb;mp.decode=jge;mp.tokensToObject=Fc});var y7=E(Oc=>{"use strict";Object.defineProperty(Oc,"__esModule",{value:!0});var Lge=f7(),Wge=m7(),g7=Or();Oc.encode=Lge.encode;Oc.decode=Wge.decode;Oc.Token=g7.Token;Oc.Type=g7.Type});var S7=E(Bc=>{"use strict";Object.defineProperty(Bc,"__esModule",{value:!0});var Mge=y7(),b7=Ya();function Gge(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach(function(r){if(r!=="default"){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:function(){return e[r]}})}}),t.default=e,Object.freeze(t)}var Rc=Gge(Mge),w7=42;function $ge(e){if(e.asCID!==e)return null;let t=b7.CID.asCID(e);if(!t)return null;let r=new Uint8Array(t.bytes.byteLength+1);return r.set(t.bytes,1),[new Rc.Token(Rc.Type.tag,w7),new Rc.Token(Rc.Type.bytes,r)]}function zge(){throw new Error("`undefined` is not supported by the IPLD Data Model and cannot be encoded")}function Hge(e){if(Number.isNaN(e))throw new Error("`NaN` is not supported by the IPLD Data Model and cannot be encoded");if(e===1/0||e===-1/0)throw new Error("`Infinity` and `-Infinity` is not supported by the IPLD Data Model and cannot be encoded");return null}var Kge={float64:!0,typeEncoders:{Object:$ge,undefined:zge,number:Hge}};function Jge(e){if(e[0]!==0)throw new Error("Invalid CID for CBOR tag 42; expected leading 0x00");return b7.CID.decode(e.subarray(1))}var _7={allowIndefinite:!1,allowUndefined:!1,allowNaN:!1,allowInfinity:!1,allowBigInt:!0,strict:!0,useMaps:!1,tags:[]};_7.tags[w7]=Jge;var Vge="dag-cbor",Zge=113,Qge=e=>Rc.encode(e,Kge),Yge=e=>Rc.decode(e,_7);Bc.code=Zge;Bc.decode=Yge;Bc.encode=Qge;Bc.name=Vge});var A7=E(pt=>{"use strict";var Xge=pt&&pt.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),eye=pt&&pt.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),tye=pt&&pt.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&Xge(t,e,r);return eye(t,e),t},E7=pt&&pt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(pt,"__esModule",{value:!0});pt.decode=pt.encode=pt.toGeneral=pt.code=pt.name=void 0;var eD=E7(OU()),tD=E7(RU()),x7=tye(S7());pt.name="dag-jose";pt.code=133;function v7(e){return"payload"in e&&typeof e.payload=="string"&&"signatures"in e&&Array.isArray(e.signatures)}function rye(e){return"payload"in e&&e.payload instanceof Uint8Array&&"signatures"in e&&Array.isArray(e.signatures)}function nye(e){return"ciphertext"in e&&e.ciphertext instanceof Uint8Array&&"iv"in e&&e.iv instanceof Uint8Array&&"protected"in e&&e.protected instanceof Uint8Array&&"tag"in e&&e.tag instanceof Uint8Array}function P7(e){return"ciphertext"in e&&typeof e.ciphertext=="string"&&"iv"in e&&typeof e.iv=="string"&&"protected"in e&&typeof e.protected=="string"&&"tag"in e&&typeof e.tag=="string"}function D7(e){if(typeof e=="string"){let t=e.split(".");if(t.length===3)return eD.default.fromSplit(t);if(t.length===5)return tD.default.fromSplit(t);throw new Error("Not a valid JOSE string")}if(v7(e)||P7(e))return e;throw new Error("Not a valid unencoded JOSE object")}pt.toGeneral=D7;function oye(e){typeof e=="string"&&(e=D7(e));let t;if(v7(e))t=eD.default.encode(e);else if(P7(e))t=tD.default.encode(e);else throw new Error("Not a valid JOSE object");return new Uint8Array(x7.encode(t))}pt.encode=oye;function iye(e){let t;try{t=x7.decode(e)}catch{throw new Error("Not a valid DAG-JOSE object")}if(rye(t))return eD.default.decode(t);if(nye(t))return tD.default.decode(t);throw new Error("Not a valid DAG-JOSE object")}pt.decode=iye});var rD={};ne(rD,{identity:()=>nb});var I7,aye,k7,sye,nb,nD=b(()=>{Go();Ml();I7=0,aye="identity",k7=dr,sye=e=>Ja(I7,k7(e)),nb={code:I7,name:aye,encode:k7,digest:sye}});var oD={};ne(oD,{identity:()=>cye});var cye,C7=b(()=>{In();Go();cye=pc({prefix:"\0",name:"identity",encode:e=>UB(e),decode:e=>NB(e)})});var iD={};ne(iD,{base2:()=>uye});var uye,T7=b(()=>{In();uye=et({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1})});var aD={};ne(aD,{base8:()=>lye});var lye,F7=b(()=>{In();lye=et({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3})});var sD={};ne(sD,{base10:()=>pye});var pye,O7=b(()=>{In();pye=Di({prefix:"9",name:"base10",alphabet:"0123456789"})});var cD={};ne(cD,{base16:()=>dye,base16upper:()=>fye});var dye,fye,R7=b(()=>{In();dye=et({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),fye=et({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4})});var uD={};ne(uD,{base36:()=>hye,base36upper:()=>mye});var hye,mye,B7=b(()=>{In();hye=Di({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),mye=Di({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"})});var lD={};ne(lD,{base256emoji:()=>_ye});function bye(e){return e.reduce((t,r)=>(t+=gye[r],t),"")}function wye(e){let t=[];for(let r of e){let n=yye[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);t.push(n)}return new Uint8Array(t)}var N7,gye,yye,_ye,U7=b(()=>{In();N7=Array.from("\u{1F680}\u{1FA90}\u2604\u{1F6F0}\u{1F30C}\u{1F311}\u{1F312}\u{1F313}\u{1F314}\u{1F315}\u{1F316}\u{1F317}\u{1F318}\u{1F30D}\u{1F30F}\u{1F30E}\u{1F409}\u2600\u{1F4BB}\u{1F5A5}\u{1F4BE}\u{1F4BF}\u{1F602}\u2764\u{1F60D}\u{1F923}\u{1F60A}\u{1F64F}\u{1F495}\u{1F62D}\u{1F618}\u{1F44D}\u{1F605}\u{1F44F}\u{1F601}\u{1F525}\u{1F970}\u{1F494}\u{1F496}\u{1F499}\u{1F622}\u{1F914}\u{1F606}\u{1F644}\u{1F4AA}\u{1F609}\u263A\u{1F44C}\u{1F917}\u{1F49C}\u{1F614}\u{1F60E}\u{1F607}\u{1F339}\u{1F926}\u{1F389}\u{1F49E}\u270C\u2728\u{1F937}\u{1F631}\u{1F60C}\u{1F338}\u{1F64C}\u{1F60B}\u{1F497}\u{1F49A}\u{1F60F}\u{1F49B}\u{1F642}\u{1F493}\u{1F929}\u{1F604}\u{1F600}\u{1F5A4}\u{1F603}\u{1F4AF}\u{1F648}\u{1F447}\u{1F3B6}\u{1F612}\u{1F92D}\u2763\u{1F61C}\u{1F48B}\u{1F440}\u{1F62A}\u{1F611}\u{1F4A5}\u{1F64B}\u{1F61E}\u{1F629}\u{1F621}\u{1F92A}\u{1F44A}\u{1F973}\u{1F625}\u{1F924}\u{1F449}\u{1F483}\u{1F633}\u270B\u{1F61A}\u{1F61D}\u{1F634}\u{1F31F}\u{1F62C}\u{1F643}\u{1F340}\u{1F337}\u{1F63B}\u{1F613}\u2B50\u2705\u{1F97A}\u{1F308}\u{1F608}\u{1F918}\u{1F4A6}\u2714\u{1F623}\u{1F3C3}\u{1F490}\u2639\u{1F38A}\u{1F498}\u{1F620}\u261D\u{1F615}\u{1F33A}\u{1F382}\u{1F33B}\u{1F610}\u{1F595}\u{1F49D}\u{1F64A}\u{1F639}\u{1F5E3}\u{1F4AB}\u{1F480}\u{1F451}\u{1F3B5}\u{1F91E}\u{1F61B}\u{1F534}\u{1F624}\u{1F33C}\u{1F62B}\u26BD\u{1F919}\u2615\u{1F3C6}\u{1F92B}\u{1F448}\u{1F62E}\u{1F646}\u{1F37B}\u{1F343}\u{1F436}\u{1F481}\u{1F632}\u{1F33F}\u{1F9E1}\u{1F381}\u26A1\u{1F31E}\u{1F388}\u274C\u270A\u{1F44B}\u{1F630}\u{1F928}\u{1F636}\u{1F91D}\u{1F6B6}\u{1F4B0}\u{1F353}\u{1F4A2}\u{1F91F}\u{1F641}\u{1F6A8}\u{1F4A8}\u{1F92C}\u2708\u{1F380}\u{1F37A}\u{1F913}\u{1F619}\u{1F49F}\u{1F331}\u{1F616}\u{1F476}\u{1F974}\u25B6\u27A1\u2753\u{1F48E}\u{1F4B8}\u2B07\u{1F628}\u{1F31A}\u{1F98B}\u{1F637}\u{1F57A}\u26A0\u{1F645}\u{1F61F}\u{1F635}\u{1F44E}\u{1F932}\u{1F920}\u{1F927}\u{1F4CC}\u{1F535}\u{1F485}\u{1F9D0}\u{1F43E}\u{1F352}\u{1F617}\u{1F911}\u{1F30A}\u{1F92F}\u{1F437}\u260E\u{1F4A7}\u{1F62F}\u{1F486}\u{1F446}\u{1F3A4}\u{1F647}\u{1F351}\u2744\u{1F334}\u{1F4A3}\u{1F438}\u{1F48C}\u{1F4CD}\u{1F940}\u{1F922}\u{1F445}\u{1F4A1}\u{1F4A9}\u{1F450}\u{1F4F8}\u{1F47B}\u{1F910}\u{1F92E}\u{1F3BC}\u{1F975}\u{1F6A9}\u{1F34E}\u{1F34A}\u{1F47C}\u{1F48D}\u{1F4E3}\u{1F942}"),gye=N7.reduce((e,t,r)=>(e[r]=t,e),[]),yye=N7.reduce((e,t,r)=>(e[t.codePointAt(0)]=r,e),[]);_ye=pc({prefix:"\u{1F680}",name:"base256emoji",encode:bye,decode:wye})});var dD={};ne(dD,{sha256:()=>Sye,sha512:()=>Eye});var pD,Sye,Eye,q7=b(()=>{pD=L(require("crypto"),1);oP();Go();Sye=nP({name:"sha2-256",code:18,encode:e=>dr(pD.default.createHash("sha256").update(e).digest())}),Eye=nP({name:"sha2-512",code:19,encode:e=>dr(pD.default.createHash("sha512").update(e).digest())})});var fD={};ne(fD,{code:()=>vye,decode:()=>Dye,encode:()=>Pye,name:()=>xye});var xye,vye,Pye,Dye,j7=b(()=>{Go();xye="raw",vye=85,Pye=e=>dr(e),Dye=e=>dr(e)});var hD={};ne(hD,{code:()=>Cye,decode:()=>Fye,encode:()=>Tye,name:()=>kye});var Aye,Iye,kye,Cye,Tye,Fye,L7=b(()=>{Aye=new TextEncoder,Iye=new TextDecoder,kye="json",Cye=512,Tye=e=>Aye.encode(JSON.stringify(e)),Fye=e=>JSON.parse(Iye.decode(e))});var gp,W7,M7,mD=b(()=>{C7();T7();F7();O7();R7();C2();B7();I2();By();U7();q7();nD();j7();L7();iP();gp={...oD,...iD,...aD,...sD,...cD,...k2,...uD,...A2,...aP,...lD},W7={...dD,...rD},M7={raw:fD,json:hD}});var z7=E((z7e,$7)=>{"use strict";var G7="[a-fA-F\\d:]",Ui=e=>e&&e.includeBoundaries?`(?:(?<=\\s|^)(?=${G7})|(?<=${G7})(?=\\s|$))`:"",Nn="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",dt="[a-fA-F\\d]{1,4}",ob=`
(?:
(?:${dt}:){7}(?:${dt}|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8
(?:${dt}:){6}(?:${Nn}|:${dt}|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4
(?:${dt}:){5}(?::${Nn}|(?::${dt}){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4
(?:${dt}:){4}(?:(?::${dt}){0,1}:${Nn}|(?::${dt}){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4
(?:${dt}:){3}(?:(?::${dt}){0,2}:${Nn}|(?::${dt}){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4
(?:${dt}:){2}(?:(?::${dt}){0,3}:${Nn}|(?::${dt}){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4
(?:${dt}:){1}(?:(?::${dt}){0,4}:${Nn}|(?::${dt}){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4
(?::(?:(?::${dt}){0,5}:${Nn}|(?::${dt}){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4
)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1
`.replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),Oye=new RegExp(`(?:^${Nn}$)|(?:^${ob}$)`),Rye=new RegExp(`^${Nn}$`),Bye=new RegExp(`^${ob}$`),gD=e=>e&&e.exact?Oye:new RegExp(`(?:${Ui(e)}${Nn}${Ui(e)})|(?:${Ui(e)}${ob}${Ui(e)})`,"g");gD.v4=e=>e&&e.exact?Rye:new RegExp(`${Ui(e)}${Nn}${Ui(e)}`,"g");gD.v6=e=>e&&e.exact?Bye:new RegExp(`${Ui(e)}${ob}${Ui(e)}`,"g");$7.exports=gD});var K7=E((H7e,H7)=>{"use strict";var yD=z7(),Nc=e=>yD({exact:!0}).test(e);Nc.v4=e=>yD.v4({exact:!0}).test(e);Nc.v6=e=>yD.v6({exact:!0}).test(e);Nc.version=e=>Nc(e)?Nc.v4(e)?4:6:void 0;H7.exports=Nc});var V7=E(bD=>{"use strict";Object.defineProperty(bD,"__esModule",{value:!0});var Nye=Tn(),J7=lo(),Uye=Nye.from({prefix:"\0",name:"identity",encode:e=>J7.toString(e),decode:e=>J7.fromString(e)});bD.identity=Uye});var Z7=E(wD=>{"use strict";Object.defineProperty(wD,"__esModule",{value:!0});var qye=Tn(),jye=qye.rfc4648({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});wD.base2=jye});var Q7=E(_D=>{"use strict";Object.defineProperty(_D,"__esModule",{value:!0});var Lye=Tn(),Wye=Lye.rfc4648({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});_D.base8=Wye});var Y7=E(SD=>{"use strict";Object.defineProperty(SD,"__esModule",{value:!0});var Mye=Tn(),Gye=Mye.baseX({prefix:"9",name:"base10",alphabet:"0123456789"});SD.base10=Gye});var eq=E(ib=>{"use strict";Object.defineProperty(ib,"__esModule",{value:!0});var X7=Tn(),$ye=X7.rfc4648({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),zye=X7.rfc4648({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});ib.base16=$ye;ib.base16upper=zye});var rq=E(ab=>{"use strict";Object.defineProperty(ab,"__esModule",{value:!0});var tq=Tn(),Hye=tq.baseX({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Kye=tq.baseX({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});ab.base36=Hye;ab.base36upper=Kye});var oq=E(ED=>{"use strict";Object.defineProperty(ED,"__esModule",{value:!0});var Jye=Tn(),nq=Array.from("\u{1F680}\u{1FA90}\u2604\u{1F6F0}\u{1F30C}\u{1F311}\u{1F312}\u{1F313}\u{1F314}\u{1F315}\u{1F316}\u{1F317}\u{1F318}\u{1F30D}\u{1F30F}\u{1F30E}\u{1F409}\u2600\u{1F4BB}\u{1F5A5}\u{1F4BE}\u{1F4BF}\u{1F602}\u2764\u{1F60D}\u{1F923}\u{1F60A}\u{1F64F}\u{1F495}\u{1F62D}\u{1F618}\u{1F44D}\u{1F605}\u{1F44F}\u{1F601}\u{1F525}\u{1F970}\u{1F494}\u{1F496}\u{1F499}\u{1F622}\u{1F914}\u{1F606}\u{1F644}\u{1F4AA}\u{1F609}\u263A\u{1F44C}\u{1F917}\u{1F49C}\u{1F614}\u{1F60E}\u{1F607}\u{1F339}\u{1F926}\u{1F389}\u{1F49E}\u270C\u2728\u{1F937}\u{1F631}\u{1F60C}\u{1F338}\u{1F64C}\u{1F60B}\u{1F497}\u{1F49A}\u{1F60F}\u{1F49B}\u{1F642}\u{1F493}\u{1F929}\u{1F604}\u{1F600}\u{1F5A4}\u{1F603}\u{1F4AF}\u{1F648}\u{1F447}\u{1F3B6}\u{1F612}\u{1F92D}\u2763\u{1F61C}\u{1F48B}\u{1F440}\u{1F62A}\u{1F611}\u{1F4A5}\u{1F64B}\u{1F61E}\u{1F629}\u{1F621}\u{1F92A}\u{1F44A}\u{1F973}\u{1F625}\u{1F924}\u{1F449}\u{1F483}\u{1F633}\u270B\u{1F61A}\u{1F61D}\u{1F634}\u{1F31F}\u{1F62C}\u{1F643}\u{1F340}\u{1F337}\u{1F63B}\u{1F613}\u2B50\u2705\u{1F97A}\u{1F308}\u{1F608}\u{1F918}\u{1F4A6}\u2714\u{1F623}\u{1F3C3}\u{1F490}\u2639\u{1F38A}\u{1F498}\u{1F620}\u261D\u{1F615}\u{1F33A}\u{1F382}\u{1F33B}\u{1F610}\u{1F595}\u{1F49D}\u{1F64A}\u{1F639}\u{1F5E3}\u{1F4AB}\u{1F480}\u{1F451}\u{1F3B5}\u{1F91E}\u{1F61B}\u{1F534}\u{1F624}\u{1F33C}\u{1F62B}\u26BD\u{1F919}\u2615\u{1F3C6}\u{1F92B}\u{1F448}\u{1F62E}\u{1F646}\u{1F37B}\u{1F343}\u{1F436}\u{1F481}\u{1F632}\u{1F33F}\u{1F9E1}\u{1F381}\u26A1\u{1F31E}\u{1F388}\u274C\u270A\u{1F44B}\u{1F630}\u{1F928}\u{1F636}\u{1F91D}\u{1F6B6}\u{1F4B0}\u{1F353}\u{1F4A2}\u{1F91F}\u{1F641}\u{1F6A8}\u{1F4A8}\u{1F92C}\u2708\u{1F380}\u{1F37A}\u{1F913}\u{1F619}\u{1F49F}\u{1F331}\u{1F616}\u{1F476}\u{1F974}\u25B6\u27A1\u2753\u{1F48E}\u{1F4B8}\u2B07\u{1F628}\u{1F31A}\u{1F98B}\u{1F637}\u{1F57A}\u26A0\u{1F645}\u{1F61F}\u{1F635}\u{1F44E}\u{1F932}\u{1F920}\u{1F927}\u{1F4CC}\u{1F535}\u{1F485}\u{1F9D0}\u{1F43E}\u{1F352}\u{1F617}\u{1F911}\u{1F30A}\u{1F92F}\u{1F437}\u260E\u{1F4A7}\u{1F62F}\u{1F486}\u{1F446}\u{1F3A4}\u{1F647}\u{1F351}\u2744\u{1F334}\u{1F4A3}\u{1F438}\u{1F48C}\u{1F4CD}\u{1F940}\u{1F922}\u{1F445}\u{1F4A1}\u{1F4A9}\u{1F450}\u{1F4F8}\u{1F47B}\u{1F910}\u{1F92E}\u{1F3BC}\u{1F975}\u{1F6A9}\u{1F34E}\u{1F34A}\u{1F47C}\u{1F48D}\u{1F4E3}\u{1F942}"),Vye=nq.reduce((e,t,r)=>(e[r]=t,e),[]),Zye=nq.reduce((e,t,r)=>(e[t.codePointAt(0)]=r,e),[]);function Qye(e){return e.reduce((t,r)=>(t+=Vye[r],t),"")}function Yye(e){let t=[];for(let r of e){let n=Zye[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);t.push(n)}return new Uint8Array(t)}var Xye=Jye.from({prefix:"\u{1F680}",name:"base256emoji",encode:Qye,decode:Yye});ED.base256emoji=Xye});var ub=E(cb=>{"use strict";Object.defineProperty(cb,"__esModule",{value:!0});var iq=Qa(),ebe=({name:e,code:t,encode:r})=>new sb(e,t,r),sb=class{constructor(t,r,n){this.name=t,this.code=r,this.encode=n}digest(t){if(t instanceof Uint8Array){let r=this.encode(t);return r instanceof Uint8Array?iq.create(this.code,r):r.then(n=>iq.create(this.code,n))}else throw Error("Unknown type, must be binary type")}};cb.Hasher=sb;cb.from=ebe});var uq=E(lb=>{"use strict";Object.defineProperty(lb,"__esModule",{value:!0});var tbe=require("crypto"),aq=ub(),sq=lo();function rbe(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}var cq=rbe(tbe),nbe=aq.from({name:"sha2-256",code:18,encode:e=>sq.coerce(cq.default.createHash("sha256").update(e).digest())}),obe=aq.from({name:"sha2-512",code:19,encode:e=>sq.coerce(cq.default.createHash("sha512").update(e).digest())});lb.sha256=nbe;lb.sha512=obe});var dq=E(xD=>{"use strict";Object.defineProperty(xD,"__esModule",{value:!0});var ibe=lo(),abe=Qa(),lq=0,sbe="identity",pq=ibe.coerce,cbe=e=>abe.create(lq,pq(e)),ube={code:lq,name:sbe,encode:pq,digest:cbe};xD.identity=ube});var hq=E(Uc=>{"use strict";Object.defineProperty(Uc,"__esModule",{value:!0});var fq=lo(),lbe="raw",pbe=85,dbe=e=>fq.coerce(e),fbe=e=>fq.coerce(e);Uc.code=pbe;Uc.decode=fbe;Uc.encode=dbe;Uc.name=lbe});var mq=E(qc=>{"use strict";Object.defineProperty(qc,"__esModule",{value:!0});var hbe=new TextEncoder,mbe=new TextDecoder,gbe="json",ybe=512,bbe=e=>hbe.encode(JSON.stringify(e)),wbe=e=>JSON.parse(mbe.decode(e));qc.code=ybe;qc.decode=wbe;qc.encode=bbe;qc.name=gbe});var gq=E(as=>{"use strict";Object.defineProperty(as,"__esModule",{value:!0});var _be=Ya(),Sbe=ep(),Ebe=lo(),xbe=ub(),vbe=Qa();as.CID=_be.CID;as.varint=Sbe;as.bytes=Ebe;as.hasher=xbe;as.digest=vbe});var yq=E(go=>{"use strict";Object.defineProperty(go,"__esModule",{value:!0});var Pbe=V7(),Dbe=Z7(),Abe=Q7(),Ibe=Y7(),kbe=eq(),Cbe=Ly(),Tbe=rq(),Fbe=rp(),Obe=bP(),Rbe=oq(),Bbe=uq(),Nbe=dq(),Ube=hq(),qbe=mq();gq();var jbe=Ya(),Lbe=ub(),Wbe=Qa(),Mbe=ep(),Gbe=lo(),$be={...Pbe,...Dbe,...Abe,...Ibe,...kbe,...Cbe,...Tbe,...Fbe,...Obe,...Rbe},zbe={...Bbe,...Nbe},Hbe={raw:Ube,json:qbe};go.CID=jbe.CID;go.hasher=Lbe;go.digest=Wbe;go.varint=Mbe;go.bytes=Gbe;go.bases=$be;go.codecs=Hbe;go.hashes=zbe});var pb=E(vD=>{"use strict";Object.defineProperty(vD,"__esModule",{value:!0});function Kbe(e){return globalThis.Buffer!=null?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}vD.asUint8Array=Kbe});var PD=E(db=>{"use strict";Object.defineProperty(db,"__esModule",{value:!0});var bq=pb();function Jbe(e=0){return globalThis.Buffer!=null&&globalThis.Buffer.alloc!=null?bq.asUint8Array(globalThis.Buffer.alloc(e)):new Uint8Array(e)}function Vbe(e=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?bq.asUint8Array(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}db.alloc=Jbe;db.allocUnsafe=Vbe});var AD=E((uqe,Eq)=>{"use strict";var wq=yq(),Zbe=PD();function Sq(e,t,r,n){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:n}}}var _q=Sq("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>new TextEncoder().encode(e.substring(1))),DD=Sq("ascii","a",e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},e=>{e=e.substring(1);let t=Zbe.allocUnsafe(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}),Qbe={utf8:_q,"utf-8":_q,hex:wq.bases.base16,latin1:DD,ascii:DD,binary:DD,...wq.bases};Eq.exports=Qbe});var yp=E(ID=>{"use strict";Object.defineProperty(ID,"__esModule",{value:!0});var Ybe=AD();function Xbe(e,t="utf8"){let r=Ybe[t];if(!r)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8"):r.encoder.encode(e).substring(1)}ID.toString=Xbe});var Aq=E((pqe,Dq)=>{"use strict";var CD=K7(),{toString:xq}=yp(),ewe=CD,kD=CD.v4,vq=CD.v6,Pq=function(e,t,r){r=~~r;let n;if(kD(e))n=t||new Uint8Array(r+4),e.split(/\./g).map(function(o){n[r++]=parseInt(o,10)&255});else if(vq(e)){let o=e.split(":",8),i;for(i=0;i<o.length;i++){let a=kD(o[i]),s;a&&(s=Pq(o[i]),o[i]=xq(s.slice(0,2),"base16")),s&&++i<8&&o.splice(i,0,xq(s.slice(2,4),"base16"))}if(o[0]==="")for(;o.length<8;)o.unshift("0");else if(o[o.length-1]==="")for(;o.length<8;)o.push("0");else if(o.length<8){for(i=0;i<o.length&&o[i]!=="";i++);let a=[i,"1"];for(i=9-o.length;i>0;i--)a.push("0");o.splice.apply(o,a)}for(n=t||new Uint8Array(r+16),i=0;i<o.length;i++){let a=parseInt(o[i],16);n[r++]=a>>8&255,n[r++]=a&255}}if(!n)throw Error("Invalid ip address: "+e);return n},twe=function(e,t,r){t=~~t,r=r||e.length-t;let n=[],o,i=new DataView(e.buffer);if(r===4){for(let a=0;a<r;a++)n.push(e[t+a]);o=n.join(".")}else if(r===16){for(let a=0;a<r;a+=2)n.push(i.getUint16(t+a).toString(16));o=n.join(":"),o=o.replace(/(^|:)0(:0)*:0(:|$)/,"$1::$3"),o=o.replace(/:{3,4}/,"::")}return o};Dq.exports={isIP:ewe,isV4:kD,isV6:vq,toBytes:Pq,toString:twe}});var fb=E((dqe,kq)=>{"use strict";function mr(e){if(typeof e=="number"){if(mr.codes[e])return mr.codes[e];throw new Error("no protocol with code: "+e)}else if(typeof e=="string"){if(mr.names[e])return mr.names[e];throw new Error("no protocol with name: "+e)}throw new Error("invalid protocol id type: "+e)}var nn=-1;mr.lengthPrefixedVarSize=nn;mr.V=nn;mr.table=[[4,32,"ip4"],[6,16,"tcp"],[33,16,"dccp"],[41,128,"ip6"],[42,nn,"ip6zone"],[53,nn,"dns","resolvable"],[54,nn,"dns4","resolvable"],[55,nn,"dns6","resolvable"],[56,nn,"dnsaddr","resolvable"],[132,16,"sctp"],[273,16,"udp"],[275,0,"p2p-webrtc-star"],[276,0,"p2p-webrtc-direct"],[277,0,"p2p-stardust"],[290,0,"p2p-circuit"],[301,0,"udt"],[302,0,"utp"],[400,nn,"unix",!1,"path"],[421,nn,"ipfs"],[421,nn,"p2p"],[443,0,"https"],[444,96,"onion"],[445,296,"onion3"],[446,nn,"garlic64"],[460,0,"quic"],[477,0,"ws"],[478,0,"wss"],[479,0,"p2p-websocket-star"],[480,0,"http"],[777,nn,"memory"]];mr.names={};mr.codes={};mr.table.map(e=>{let t=Iq.apply(null,e);return mr.codes[t.code]=t,mr.names[t.name]=t,null});mr.object=Iq;function Iq(e,t,r,n,o){return{code:e,size:t,name:r,resolvable:!!n,path:!!o}}kq.exports=mr});var Fq=E((fqe,Tq)=>{Tq.exports=TD;var Cq=128,rwe=127,nwe=~rwe,owe=Math.pow(2,31);function TD(e,t,r){if(Number.MAX_SAFE_INTEGER&&e>Number.MAX_SAFE_INTEGER)throw TD.bytes=0,new RangeError("Could not encode varint");t=t||[],r=r||0;for(var n=r;e>=owe;)t[r++]=e&255|Cq,e/=128;for(;e&nwe;)t[r++]=e&255|Cq,e>>>=7;return t[r]=e|0,TD.bytes=r-n+1,t}});var Bq=E((hqe,Rq)=>{Rq.exports=FD;var iwe=128,Oq=127;function FD(e,n){var r=0,n=n||0,o=0,i=n,a,s=e.length;do{if(i>=s||o>49)throw FD.bytes=0,new RangeError("Could not decode varint");a=e[i++],r+=o<28?(a&Oq)<<o:(a&Oq)*Math.pow(2,o),o+=7}while(a>=iwe);return FD.bytes=i-n,r}});var Uq=E((mqe,Nq)=>{var awe=Math.pow(2,7),swe=Math.pow(2,14),cwe=Math.pow(2,21),uwe=Math.pow(2,28),lwe=Math.pow(2,35),pwe=Math.pow(2,42),dwe=Math.pow(2,49),fwe=Math.pow(2,56),hwe=Math.pow(2,63);Nq.exports=function(e){return e<awe?1:e<swe?2:e<cwe?3:e<uwe?4:e<lwe?5:e<pwe?6:e<dwe?7:e<fwe?8:e<hwe?9:10}});var qi=E((gqe,qq)=>{qq.exports={encode:Fq(),decode:Bq(),encodingLength:Uq()}});var jq=E(OD=>{"use strict";Object.defineProperty(OD,"__esModule",{value:!0});var mwe=AD(),gwe=pb();function ywe(e,t="utf8"){let r=mwe[t];if(!r)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?gwe.asUint8Array(globalThis.Buffer.from(e,"utf-8")):r.decoder.decode(`${r.prefix}${e}`)}OD.fromString=ywe});var BD=E(RD=>{"use strict";Object.defineProperty(RD,"__esModule",{value:!0});var bwe=PD(),wwe=pb();function _we(e,t){t||(t=e.reduce((o,i)=>o+i.length,0));let r=bwe.allocUnsafe(t),n=0;for(let o of e)r.set(o,n),n+=o.length;return wwe.asUint8Array(r)}RD.concat=_we});var Kq=E((wqe,Hq)=>{"use strict";var hb=Aq(),Mq=fb(),{CID:Swe}=Ya(),{base32:Gq}=Ly(),{base58btc:Ewe}=rp(),xwe=Qa(),jc=qi(),{toString:mb}=yp(),{fromString:$q}=jq(),{concat:gb}=BD();Hq.exports=bp;function bp(e,t){return t instanceof Uint8Array?bp.toString(e,t):bp.toBytes(e,t)}bp.toString=function(t,r){switch(Mq(t).code){case 4:case 41:return vwe(r);case 6:case 273:case 33:case 132:return zq(r).toString();case 53:case 54:case 55:case 56:case 400:case 777:return Dwe(r);case 421:return Iwe(r);case 444:return Wq(r);case 445:return Wq(r);default:return mb(r,"base16")}};bp.toBytes=function(t,r){switch(Mq(t).code){case 4:return Lq(r);case 41:return Lq(r);case 6:case 273:case 33:case 132:return ND(parseInt(r,10));case 53:case 54:case 55:case 56:case 400:case 777:return Pwe(r);case 421:return Awe(r);case 444:return kwe(r);case 445:return Cwe(r);default:return $q(r,"base16")}};function Lq(e){if(!hb.isIP(e))throw new Error("invalid ip address");return hb.toBytes(e)}function vwe(e){let t=hb.toString(e);if(!t||!hb.isIP(t))throw new Error("invalid ip address");return t}function ND(e){let t=new ArrayBuffer(2);return new DataView(t).setUint16(0,e),new Uint8Array(t)}function zq(e){return new DataView(e.buffer).getUint16(e.byteOffset)}function Pwe(e){let t=$q(e),r=Uint8Array.from(jc.encode(t.length));return gb([r,t],r.length+t.length)}function Dwe(e){let t=jc.decode(e);if(e=e.slice(jc.decode.bytes),e.length!==t)throw new Error("inconsistent lengths");return mb(e)}function Awe(e){let t;e[0]==="Q"||e[0]==="1"?t=xwe.decode(Ewe.decode(`z${e}`)).bytes:t=Swe.parse(e).multihash.bytes;let r=Uint8Array.from(jc.encode(t.length));return gb([r,t],r.length+t.length)}function Iwe(e){let t=jc.decode(e),r=e.slice(jc.decode.bytes);if(r.length!==t)throw new Error("inconsistent lengths");return mb(r,"base58btc")}function kwe(e){let t=e.split(":");if(t.length!==2)throw new Error("failed to parse onion addr: "+t+" does not contain a port number");if(t[0].length!==16)throw new Error("failed to parse onion addr: "+t[0]+" not a Tor onion address.");let r=Gq.decode("b"+t[0]),n=parseInt(t[1],10);if(n<1||n>65536)throw new Error("Port number is not in range(1, 65536)");let o=ND(n);return gb([r,o],r.length+o.length)}function Cwe(e){let t=e.split(":");if(t.length!==2)throw new Error("failed to parse onion addr: "+t+" does not contain a port number");if(t[0].length!==56)throw new Error("failed to parse onion addr: "+t[0]+" not a Tor onion3 address.");let r=Gq.decode("b"+t[0]),n=parseInt(t[1],10);if(n<1||n>65536)throw new Error("Port number is not in range(1, 65536)");let o=ND(n);return gb([r,o],r.length+o.length)}function Wq(e){let t=e.slice(0,e.length-2),r=e.slice(e.length-2),n=mb(t,"base32"),o=zq(r);return n+":"+o}});var ij=E((_qe,oj)=>{"use strict";var Vq=Kq(),UD=fb(),wp=qi(),{concat:Jq}=BD(),{toString:Twe}=yp();oj.exports={stringToStringTuples:Zq,stringTuplesToString:Qq,tuplesToStringTuples:Xq,stringTuplesToTuples:Yq,bytesToTuples:qD,tuplesToBytes:ej,bytesToString:Fwe,stringToBytes:rj,fromString:Owe,fromBytes:nj,validateBytes:jD,isValidBytes:Rwe,cleanPath:yb,ParseError:LD,protoFromTuple:_p,sizeForAddr:tj};function Zq(e){let t=[],r=e.split("/").slice(1);if(r.length===1&&r[0]==="")return[];for(let n=0;n<r.length;n++){let o=r[n],i=UD(o);if(i.size===0){t.push([o]);continue}if(n++,n>=r.length)throw LD("invalid address: "+e);if(i.path){t.push([o,yb(r.slice(n).join("/"))]);break}t.push([o,r[n]])}return t}function Qq(e){let t=[];return e.map(r=>{let n=_p(r);return t.push(n.name),r.length>1&&t.push(r[1]),null}),yb(t.join("/"))}function Yq(e){return e.map(t=>{Array.isArray(t)||(t=[t]);let r=_p(t);return t.length>1?[r.code,Vq.toBytes(r.code,t[1])]:[r.code]})}function Xq(e){return e.map(t=>{let r=_p(t);return t[1]?[r.code,Vq.toString(r.code,t[1])]:[r.code]})}function ej(e){return nj(Jq(e.map(t=>{let r=_p(t),n=Uint8Array.from(wp.encode(r.code));return t.length>1&&(n=Jq([n,t[1]])),n})))}function tj(e,t){return e.size>0?e.size/8:e.size===0?0:wp.decode(t)+wp.decode.bytes}function qD(e){let t=[],r=0;for(;r<e.length;){let n=wp.decode(e,r),o=wp.decode.bytes,i=UD(n),a=tj(i,e.slice(r+o));if(a===0){t.push([n]),r+=o;continue}let s=e.slice(r+o,r+o+a);if(r+=a+o,r>e.length)throw LD("Invalid address Uint8Array: "+Twe(e,"base16"));t.push([n,s])}return t}function Fwe(e){let t=qD(e),r=Xq(t);return Qq(r)}function rj(e){e=yb(e);let t=Zq(e),r=Yq(t);return ej(r)}function Owe(e){return rj(e)}function nj(e){let t=jD(e);if(t)throw t;return Uint8Array.from(e)}function jD(e){try{qD(e)}catch(t){return t}}function Rwe(e){return jD(e)===void 0}function yb(e){return"/"+e.trim().split("/").filter(t=>t).join("/")}function LD(e){return new Error("Error parsing address: "+e)}function _p(e){return UD(e[0])}});var or=E((Sqe,sj)=>{"use strict";function aj(e,t){for(let r in t)Object.defineProperty(e,r,{value:t[r],enumerable:!0,configurable:!0});return e}function Bwe(e,t,r){if(!e||typeof e=="string")throw new TypeError("Please pass an Error to err-code");r||(r={}),typeof t=="object"&&(r=t,t=""),t&&(r.code=t);try{return aj(e,r)}catch{r.message=e.message,r.stack=e.stack;let o=function(){};return o.prototype=Object.create(Object.getPrototypeOf(e)),aj(new o,r)}}sj.exports=Bwe});var cj=E(WD=>{"use strict";Object.defineProperty(WD,"__esModule",{value:!0});function Nwe(e,t){if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0}WD.equals=Nwe});var ir=E((xqe,pj)=>{"use strict";var Un=ij(),Lc=fb(),uj=qi(),{CID:Uwe}=Ya(),{base58btc:qwe}=rp(),jwe=or(),Lwe=Symbol.for("nodejs.util.inspect.custom"),{toString:bb}=yp(),{equals:Wwe}=cj(),MD=new Map,lj=Symbol.for("@multiformats/js-multiaddr/multiaddr"),Wc=class e{constructor(t){if(t==null&&(t=""),Object.defineProperty(this,lj,{value:!0}),t instanceof Uint8Array)this.bytes=Un.fromBytes(t);else if(typeof t=="string"){if(t.length>0&&t.charAt(0)!=="/")throw new Error(`multiaddr "${t}" must start with a "/"`);this.bytes=Un.fromString(t)}else if(e.isMultiaddr(t))this.bytes=Un.fromBytes(t.bytes);else throw new Error("addr must be a string, Buffer, or another Multiaddr")}toString(){return Un.bytesToString(this.bytes)}toJSON(){return this.toString()}toOptions(){let t={},r=this.toString().split("/");return t.family=r[1]==="ip4"?4:6,t.host=r[2],t.transport=r[3],t.port=parseInt(r[4]),t}protos(){return this.protoCodes().map(t=>Object.assign({},Lc(t)))}protoCodes(){let t=[],r=this.bytes,n=0;for(;n<r.length;){let o=uj.decode(r,n),i=uj.decode.bytes,a=Lc(o),s=Un.sizeForAddr(a,r.slice(n+i));n+=s+i,t.push(o)}return t}protoNames(){return this.protos().map(t=>t.name)}tuples(){return Un.bytesToTuples(this.bytes)}stringTuples(){let t=Un.bytesToTuples(this.bytes);return Un.tuplesToStringTuples(t)}encapsulate(t){return t=new e(t),new e(this.toString()+t.toString())}decapsulate(t){let r=t.toString(),n=this.toString(),o=n.lastIndexOf(r);if(o<0)throw new Error("Address "+this+" does not contain subaddress: "+t);return new e(n.slice(0,o))}decapsulateCode(t){let r=this.tuples();for(let n=r.length-1;n>=0;n--)if(r[n][0]===t)return new e(Un.tuplesToBytes(r.slice(0,n)));return this}getPeerId(){try{let r=this.stringTuples().filter(n=>n[0]===Lc.names.ipfs.code).pop();if(r&&r[1]){let n=r[1];return n[0]==="Q"||n[0]==="1"?bb(qwe.decode(`z${n}`),"base58btc"):bb(Uwe.parse(n).multihash.bytes,"base58btc")}return null}catch{return null}}getPath(){let t=null;try{t=this.stringTuples().filter(r=>!!Lc(r[0]).path)[0][1],t||(t=null)}catch{t=null}return t}equals(t){return Wwe(this.bytes,t.bytes)}async resolve(){let t=this.protos().find(o=>o.resolvable);if(!t)return[this];let r=MD.get(t.name);if(!r)throw jwe(new Error(`no available resolver for ${t.name}`),"ERR_NO_AVAILABLE_RESOLVER");return(await r(this)).map(o=>new e(o))}nodeAddress(){let t=this.protoCodes(),r=this.protoNames(),n=this.toString().split("/").slice(1);if(n.length<4)throw new Error('multiaddr must have a valid format: "/{ip4, ip6, dns4, dns6}/{address}/{tcp, udp}/{port}".');if(t[0]!==4&&t[0]!==41&&t[0]!==54&&t[0]!==55)throw new Error(`no protocol with name: "'${r[0]}'". Must have a valid family name: "{ip4, ip6, dns4, dns6}".`);if(n[2]!=="tcp"&&n[2]!=="udp")throw new Error(`no protocol with name: "'${r[1]}'". Must have a valid transport protocol: "{tcp, udp}".`);return{family:t[0]===41||t[0]===55?6:4,address:n[1],port:parseInt(n[3])}}isThinWaistAddress(t){let r=(t||this).protos();return!(r.length!==2||r[0].code!==4&&r[0].code!==41||r[1].code!==6&&r[1].code!==273)}static fromNodeAddress(t,r){if(!t)throw new Error("requires node address object");if(!r)throw new Error("requires transport protocol");let n;switch(t.family){case 4:n="ip4";break;case 6:n="ip6";break;default:throw Error(`Invalid addr family. Got '${t.family}' instead of 4 or 6`)}return new e("/"+[n,t.address,r,t.port].join("/"))}static isName(t){return e.isMultiaddr(t)?t.protos().some(r=>r.resolvable):!1}static isMultiaddr(t){return t instanceof e||!!(t&&t[lj])}[Lwe](){return"<Multiaddr "+bb(this.bytes,"base16")+" - "+Un.bytesToString(this.bytes)+">"}inspect(){return"<Multiaddr "+bb(this.bytes,"base16")+" - "+Un.bytesToString(this.bytes)+">"}};Wc.protocols=Lc;Wc.resolvers=MD;function Mwe(e){return new Wc(e)}pj.exports={Multiaddr:Wc,multiaddr:Mwe,protocols:Lc,resolvers:MD}});var fj=E((vqe,dj)=>{function Gwe(){return!!(typeof window<"u"&&typeof window.process=="object"&&window.process.type==="renderer"||typeof process<"u"&&typeof process.versions=="object"&&process.versions.electron||typeof navigator=="object"&&typeof navigator.userAgent=="string"&&navigator.userAgent.indexOf("Electron")>=0)}dj.exports=Gwe});var Ep=E((Pqe,hj)=>{"use strict";var $we=fj(),wb=typeof window=="object"&&typeof document=="object"&&document.nodeType===9,Sp=$we(),zwe=wb&&!Sp,Hwe=Sp&&!wb,Kwe=Sp&&wb,Jwe=typeof require=="function"&&typeof process<"u"&&typeof process.release<"u"&&process.release.name==="node"&&!Sp,Vwe=typeof importScripts=="function"&&typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,Zwe=typeof process<"u"&&typeof process.env<"u"&&process.env.NODE_ENV==="test",Qwe=typeof navigator<"u"&&navigator.product==="ReactNative";hj.exports={isTest:Zwe,isElectron:Sp,isElectronMain:Hwe,isElectronRenderer:Kwe,isNode:Jwe,isBrowser:zwe,isWebWorker:Vwe,isEnvWithDom:wb,isReactNative:Qwe}});function Te(e="",t="ms"){var r=null;e=(e+"").replace(/(\d)[,_](\d)/g,"$1$2");var n=e[0]==="-";return e.replace(Ywe,function(o,i,a){a=mj(a),a&&(r=(r||0)+Math.abs(parseFloat(i,10))*a)}),r&&r/(mj(t)||1)*(n?-1:1)}function mj(e){return Te[e]||Te[e.toLowerCase().replace(/s$/,"")]}var Ywe,gj,yj=b(()=>{Ywe=/(-?(?:\d+\.?\d*|\d*\.?\d+)(?:e[-+]?\d+)?)\s*([\p{L}]*)/uig;Te.nanosecond=Te.ns=1/1e6;Te.\u00B5s=Te.\u03BCs=Te.us=Te.microsecond=1/1e3;Te.millisecond=Te.ms=Te[""]=1;Te.second=Te.sec=Te.s=Te.ms*1e3;Te.minute=Te.min=Te.m=Te.s*60;Te.hour=Te.hr=Te.h=Te.m*60;Te.day=Te.d=Te.h*24;Te.week=Te.wk=Te.w=Te.d*7;Te.month=Te.b=Te.d*(365.25/12);Te.year=Te.yr=Te.y=Te.d*365.25;gj=Te});var wj=E((Aqe,bj)=>{var Mc=1e3,Gc=Mc*60,$c=Gc*60,ss=$c*24,Xwe=ss*7,e_e=ss*365.25;bj.exports=function(e,t){t=t||{};var r=typeof e;if(r==="string"&&e.length>0)return t_e(e);if(r==="number"&&isFinite(e))return t.long?n_e(e):r_e(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function t_e(e){if(e=String(e),!(e.length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){var r=parseFloat(t[1]),n=(t[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*e_e;case"weeks":case"week":case"w":return r*Xwe;case"days":case"day":case"d":return r*ss;case"hours":case"hour":case"hrs":case"hr":case"h":return r*$c;case"minutes":case"minute":case"mins":case"min":case"m":return r*Gc;case"seconds":case"second":case"secs":case"sec":case"s":return r*Mc;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function r_e(e){var t=Math.abs(e);return t>=ss?Math.round(e/ss)+"d":t>=$c?Math.round(e/$c)+"h":t>=Gc?Math.round(e/Gc)+"m":t>=Mc?Math.round(e/Mc)+"s":e+"ms"}function n_e(e){var t=Math.abs(e);return t>=ss?_b(e,t,ss,"day"):t>=$c?_b(e,t,$c,"hour"):t>=Gc?_b(e,t,Gc,"minute"):t>=Mc?_b(e,t,Mc,"second"):e+" ms"}function _b(e,t,r,n){var o=t>=r*1.5;return Math.round(e/r)+" "+n+(o?"s":"")}});var GD=E((Iqe,_j)=>{function o_e(e){r.debug=r,r.default=r,r.coerce=u,r.disable=i,r.enable=o,r.enabled=a,r.humanize=wj(),r.destroy=c,Object.keys(e).forEach(l=>{r[l]=e[l]}),r.names=[],r.skips=[],r.formatters={};function t(l){let d=0;for(let w=0;w<l.length;w++)d=(d<<5)-d+l.charCodeAt(w),d|=0;return r.colors[Math.abs(d)%r.colors.length]}r.selectColor=t;function r(l){let d,w=null,m,p;function f(...g){if(!f.enabled)return;let h=f,y=Number(new Date),_=y-(d||y);h.diff=_,h.prev=d,h.curr=y,d=y,g[0]=r.coerce(g[0]),typeof g[0]!="string"&&g.unshift("%O");let S=0;g[0]=g[0].replace(/%([a-zA-Z%])/g,(A,D)=>{if(A==="%%")return"%";S++;let P=r.formatters[D];if(typeof P=="function"){let U=g[S];A=P.call(h,U),g.splice(S,1),S--}return A}),r.formatArgs.call(h,g),(h.log||r.log).apply(h,g)}return f.namespace=l,f.useColors=r.useColors(),f.color=r.selectColor(l),f.extend=n,f.destroy=r.destroy,Object.defineProperty(f,"enabled",{enumerable:!0,configurable:!1,get:()=>w!==null?w:(m!==r.namespaces&&(m=r.namespaces,p=r.enabled(l)),p),set:g=>{w=g}}),typeof r.init=="function"&&r.init(f),f}function n(l,d){let w=r(this.namespace+(typeof d>"u"?":":d)+l);return w.log=this.log,w}function o(l){r.save(l),r.namespaces=l,r.names=[],r.skips=[];let d,w=(typeof l=="string"?l:"").split(/[\s,]+/),m=w.length;for(d=0;d<m;d++)w[d]&&(l=w[d].replace(/\*/g,".*?"),l[0]==="-"?r.skips.push(new RegExp("^"+l.slice(1)+"$")):r.names.push(new RegExp("^"+l+"$")))}function i(){let l=[...r.names.map(s),...r.skips.map(s).map(d=>"-"+d)].join(",");return r.enable(""),l}function a(l){if(l[l.length-1]==="*")return!0;let d,w;for(d=0,w=r.skips.length;d<w;d++)if(r.skips[d].test(l))return!1;for(d=0,w=r.names.length;d<w;d++)if(r.names[d].test(l))return!0;return!1}function s(l){return l.toString().substring(2,l.toString().length-2).replace(/\.\*\?$/,"*")}function u(l){return l instanceof Error?l.stack||l.message:l}function c(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}_j.exports=o_e});var Sj=E((Nr,Sb)=>{Nr.formatArgs=a_e;Nr.save=s_e;Nr.load=c_e;Nr.useColors=i_e;Nr.storage=u_e();Nr.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();Nr.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function i_e(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let e;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(e=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(e[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function a_e(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+Sb.exports.humanize(this.diff),!this.useColors)return;let t="color: "+this.color;e.splice(1,0,t,"color: inherit");let r=0,n=0;e[0].replace(/%[a-zA-Z%]/g,o=>{o!=="%%"&&(r++,o==="%c"&&(n=r))}),e.splice(n,0,t)}Nr.log=console.debug||console.log||(()=>{});function s_e(e){try{e?Nr.storage.setItem("debug",e):Nr.storage.removeItem("debug")}catch{}}function c_e(){let e;try{e=Nr.storage.getItem("debug")}catch{}return!e&&typeof process<"u"&&"env"in process&&(e=process.env.DEBUG),e}function u_e(){try{return localStorage}catch{}}Sb.exports=GD()(Nr);var{formatters:l_e}=Sb.exports;l_e.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}});var xj=E((kqe,Ej)=>{"use strict";Ej.exports=(e,t=process.argv)=>{let r=e.startsWith("-")?"":e.length===1?"-":"--",n=t.indexOf(r+e),o=t.indexOf("--");return n!==-1&&(o===-1||n<o)}});var Dj=E((Cqe,Pj)=>{"use strict";var p_e=require("os"),vj=require("tty"),on=xj(),{env:vt}=process,ji;on("no-color")||on("no-colors")||on("color=false")||on("color=never")?ji=0:(on("color")||on("colors")||on("color=true")||on("color=always"))&&(ji=1);"FORCE_COLOR"in vt&&(vt.FORCE_COLOR==="true"?ji=1:vt.FORCE_COLOR==="false"?ji=0:ji=vt.FORCE_COLOR.length===0?1:Math.min(parseInt(vt.FORCE_COLOR,10),3));function $D(e){return e===0?!1:{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}function zD(e,t){if(ji===0)return 0;if(on("color=16m")||on("color=full")||on("color=truecolor"))return 3;if(on("color=256"))return 2;if(e&&!t&&ji===void 0)return 0;let r=ji||0;if(vt.TERM==="dumb")return r;if(process.platform==="win32"){let n=p_e.release().split(".");return Number(n[0])>=10&&Number(n[2])>=10586?Number(n[2])>=14931?3:2:1}if("CI"in vt)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some(n=>n in vt)||vt.CI_NAME==="codeship"?1:r;if("TEAMCITY_VERSION"in vt)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(vt.TEAMCITY_VERSION)?1:0;if(vt.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in vt){let n=parseInt((vt.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(vt.TERM_PROGRAM){case"iTerm.app":return n>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(vt.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(vt.TERM)||"COLORTERM"in vt?1:r}function d_e(e){let t=zD(e,e&&e.isTTY);return $D(t)}Pj.exports={supportsColor:d_e,stdout:$D(zD(!0,vj.isatty(1))),stderr:$D(zD(!0,vj.isatty(2)))}});var Ij=E((Pt,xb)=>{var f_e=require("tty"),Eb=require("util");Pt.init=__e;Pt.log=y_e;Pt.formatArgs=m_e;Pt.save=b_e;Pt.load=w_e;Pt.useColors=h_e;Pt.destroy=Eb.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");Pt.colors=[6,2,3,4,5,1];try{let e=Dj();e&&(e.stderr||e).level>=2&&(Pt.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}Pt.inspectOpts=Object.keys(process.env).filter(e=>/^debug_/i.test(e)).reduce((e,t)=>{let r=t.substring(6).toLowerCase().replace(/_([a-z])/g,(o,i)=>i.toUpperCase()),n=process.env[t];return/^(yes|on|true|enabled)$/i.test(n)?n=!0:/^(no|off|false|disabled)$/i.test(n)?n=!1:n==="null"?n=null:n=Number(n),e[r]=n,e},{});function h_e(){return"colors"in Pt.inspectOpts?!!Pt.inspectOpts.colors:f_e.isatty(process.stderr.fd)}function m_e(e){let{namespace:t,useColors:r}=this;if(r){let n=this.color,o="\x1B[3"+(n<8?n:"8;5;"+n),i=`  ${o};1m${t} \x1B[0m`;e[0]=i+e[0].split(`
`).join(`
`+i),e.push(o+"m+"+xb.exports.humanize(this.diff)+"\x1B[0m")}else e[0]=g_e()+t+" "+e[0]}function g_e(){return Pt.inspectOpts.hideDate?"":new Date().toISOString()+" "}function y_e(...e){return process.stderr.write(Eb.formatWithOptions(Pt.inspectOpts,...e)+`
`)}function b_e(e){e?process.env.DEBUG=e:delete process.env.DEBUG}function w_e(){return process.env.DEBUG}function __e(e){e.inspectOpts={};let t=Object.keys(Pt.inspectOpts);for(let r=0;r<t.length;r++)e.inspectOpts[t[r]]=Pt.inspectOpts[t[r]]}xb.exports=GD()(Pt);var{formatters:Aj}=xb.exports;Aj.o=function(e){return this.inspectOpts.colors=this.useColors,Eb.inspect(e,this.inspectOpts).split(`
`).map(t=>t.trim()).join(" ")};Aj.O=function(e){return this.inspectOpts.colors=this.useColors,Eb.inspect(e,this.inspectOpts)}});var vb=E((Tqe,HD)=>{typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?HD.exports=Sj():HD.exports=Ij()});var Tj=E((Fqe,Cj)=>{"use strict";var{isElectronMain:S_e}=Ep(),kj="native-fetch";S_e&&(kj="electron-fetch");Cj.exports=require(kj)});var Oj=E((Oqe,Fj)=>{Fj.exports=function(t){if(t){if(typeof t[Symbol.iterator]=="function")return t[Symbol.iterator]();if(typeof t[Symbol.asyncIterator]=="function")return t[Symbol.asyncIterator]();if(typeof t.next=="function")return t}throw new Error("argument is not an iterator or iterable")}});var Bj=E((Bqe,Rj)=>{Rj.exports=class{constructor(t){if(!(t>0)||t-1&t)throw new Error("Max size for a FixedFIFO should be a power of two");this.buffer=new Array(t),this.mask=t-1,this.top=0,this.btm=0,this.next=null}clear(){this.top=this.btm=0,this.next=null,this.buffer.fill(void 0)}push(t){return this.buffer[this.top]!==void 0?!1:(this.buffer[this.top]=t,this.top=this.top+1&this.mask,!0)}shift(){let t=this.buffer[this.btm];if(t!==void 0)return this.buffer[this.btm]=void 0,this.btm=this.btm+1&this.mask,t}peek(){return this.buffer[this.btm]}isEmpty(){return this.buffer[this.btm]===void 0}}});var qj=E((Uqe,Uj)=>{var Nj=Bj();Uj.exports=class{constructor(t){this.hwm=t||16,this.head=new Nj(this.hwm),this.tail=this.head,this.length=0}clear(){this.head=this.tail,this.head.clear(),this.length=0}push(t){if(this.length++,!this.head.push(t)){let r=this.head;this.head=r.next=new Nj(2*this.head.buffer.length),this.head.push(t)}}shift(){this.length!==0&&this.length--;let t=this.tail.shift();if(t===void 0&&this.tail.next){let r=this.tail.next;return this.tail.next=null,this.tail=r,this.tail.shift()}return t}peek(){let t=this.tail.peek();return t===void 0&&this.tail.next?this.tail.next.peek():t}isEmpty(){return this.length===0}}});var KD=E((qqe,jj)=>{"use strict";var E_e=()=>{let e={};return e.promise=new Promise((t,r)=>{e.resolve=t,e.reject=r}),e};jj.exports=E_e});var Gj=E((Lqe,Mj)=>{var Lj=qj(),Wj=KD();Mj.exports=class{constructor(){this._buffer=new Lj,this._waitingConsumers=new Lj}push(t){let{promise:r,resolve:n}=Wj();return this._buffer.push({chunk:t,resolve:n}),this._consume(),r}_consume(){for(;!this._waitingConsumers.isEmpty()&&!this._buffer.isEmpty();){let t=this._waitingConsumers.shift(),r=this._buffer.shift();t.resolve(r.chunk),r.resolve()}}shift(){let{promise:t,resolve:r}=Wj();return this._waitingConsumers.push({resolve:r}),this._consume(),t}isEmpty(){return this._buffer.isEmpty()}}});var JD=E((Wqe,zj)=>{var{Readable:x_e,Writable:v_e,Duplex:P_e}=require("stream"),D_e=Oj(),A_e=Gj(),{Buffer:I_e}=require("buffer"),$j=I_e.alloc(0);zj.exports=function(t,r){r=r||{};let n=!1,o=new A_e;t={sink:t.sink,source:t.source?D_e(t.source):null};let i=P_e;t.source?t.sink||(i=x_e):i=v_e;let a;t.source&&(a={async read(c){if(!n){n=!0;try{for(;;){let{value:l,done:d}=await t.source.next(c);if(d)return this.push(null);if(!this.push(l))break}}catch(l){this.emit("error",l)}finally{n=!1}}}});let s;t.sink&&(s={write(c,l,d){o.push(c).then(()=>d(),d)},final(c){o.push($j).then(()=>c(),c)}}),Object.assign(r,a,s);let u=new i(r);return t.sink&&t.sink({[Symbol.asyncIterator](){return this},async next(){let c=await o.shift();return c===$j?{done:!0}:{value:c}},async throw(c){return u.destroy(c),{done:!0}},async return(){return u.destroy(),{done:!0}}}),u}});var Kj=E((Mqe,Hj)=>{var k_e=JD(),C_e=KD();Hj.exports=function(t,r){let{promise:n,resolve:o}=C_e(),i=async function*(){let a=await n;for await(let s of a)yield s}();return k_e({sink:a=>o(t(a)),source:i},r)}});var ZD=E((Gqe,zc)=>{"use strict";var T_e=Kj(),VD=JD();function Jj(e,t){return VD({source:e},t)}function F_e(e,t){return VD({sink:e},t)}zc.exports=Jj;zc.exports.readable=Jj;zc.exports.writable=F_e;zc.exports.transform=T_e;zc.exports.duplex=VD});var Zj=E(($qe,Vj)=>{"use strict";var{Request:O_e,Response:R_e,Headers:B_e,default:N_e,fetch:U_e}=Tj(),q_e=ZD(),{Buffer:Pb}=require("buffer"),j_e=N_e??U_e,L_e=(e,t={})=>j_e(e,W_e(t)),W_e=e=>{let{onUploadProgress:t,body:r}=e;if(t&&r){let n=M_e(r),o=new R_e(n),i=G_e(o.body,t);return{...e,body:q_e.readable(i)}}else return e},M_e=e=>e instanceof ArrayBuffer?Pb.from(e):ArrayBuffer.isView(e)?Pb.from(e.buffer,e.byteOffset,e.byteLength):typeof e=="string"?Pb.from(e):e,G_e=async function*(e,t){if(e==null)t({total:0,loaded:0,lengthComputable:!0});else if(Pb.isBuffer(e)){let r=e.byteLength,n=!0;yield e,t({total:r,loaded:r,lengthComputable:n})}else{let o=0;for await(let i of e)o+=i.byteLength,yield i,t({total:0,loaded:o,lengthComputable:!1})}};Vj.exports={fetch:L_e,Request:O_e,Headers:B_e}});var Qj=E(Db=>{"use strict";var QD=class extends Error{constructor(t="Request timed out"){super(t),this.name="TimeoutError"}};Db.TimeoutError=QD;var YD=class extends Error{constructor(t="The operation was aborted."){super(t),this.name="AbortError"}};Db.AbortError=YD;var XD=class extends Error{constructor(t){super(t.statusText),this.name="HTTPError",this.response=t}};Db.HTTPError=XD});var Xj=E((Hqe,Yj)=>{"use strict";Yj.exports=e=>{if(Object.prototype.toString.call(e)!=="[object Object]")return!1;let t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}});var tA=E((nL,oL)=>{"use strict";var Ab=Xj(),{hasOwnProperty:tL}=Object.prototype,{propertyIsEnumerable:$_e}=Object,Hc=(e,t,r)=>Object.defineProperty(e,t,{value:r,writable:!0,enumerable:!0,configurable:!0}),z_e=nL,eL={concatArrays:!1,ignoreUndefined:!1},Ib=e=>{let t=[];for(let r in e)tL.call(e,r)&&t.push(r);if(Object.getOwnPropertySymbols){let r=Object.getOwnPropertySymbols(e);for(let n of r)$_e.call(e,n)&&t.push(n)}return t};function Kc(e){return Array.isArray(e)?H_e(e):Ab(e)?K_e(e):e}function H_e(e){let t=e.slice(0,0);return Ib(e).forEach(r=>{Hc(t,r,Kc(e[r]))}),t}function K_e(e){let t=Object.getPrototypeOf(e)===null?Object.create(null):{};return Ib(e).forEach(r=>{Hc(t,r,Kc(e[r]))}),t}var rL=(e,t,r,n)=>(r.forEach(o=>{typeof t[o]>"u"&&n.ignoreUndefined||(o in e&&e[o]!==Object.getPrototypeOf(e)?Hc(e,o,eA(e[o],t[o],n)):Hc(e,o,Kc(t[o])))}),e),J_e=(e,t,r)=>{let n=e.slice(0,0),o=0;return[e,t].forEach(i=>{let a=[];for(let s=0;s<i.length;s++)tL.call(i,s)&&(a.push(String(s)),i===e?Hc(n,o++,i[s]):Hc(n,o++,Kc(i[s])));n=rL(n,i,Ib(i).filter(s=>!a.includes(s)),r)}),n};function eA(e,t,r){return r.concatArrays&&Array.isArray(e)&&Array.isArray(t)?J_e(e,t,r):!Ab(t)||!Ab(e)?Kc(t):rL(e,t,Ib(t),r)}oL.exports=function(...e){let t=eA(Kc(eL),this!==z_e&&this||{},eL),r={_:{}};for(let n of e)if(n!==void 0){if(!Ab(n))throw new TypeError("`"+n+"` is not an Option Object");r=eA(r,{_:n},t)}return r._}});var nA=E((Kqe,aL)=>{"use strict";var{URL:V_e,URLSearchParams:Z_e,format:Q_e}=require("url"),iL="http://localhost",rA=class extends V_e{constructor(t="",r=iL){super(t,r),this.path=this.pathname+this.search,this.auth=this.username&&this.password?this.username+":"+this.password:null,this.query=this.search&&this.search.startsWith("?")?this.search.slice(1):null}format(){return this.toString()}};aL.exports={URLWithLegacySupport:rA,URLSearchParams:Z_e,format:Q_e,defaultBase:iL}});var uL=E((Jqe,cL)=>{"use strict";var{URLWithLegacySupport:sL,format:Y_e}=nA();cL.exports=(e,t={},r={},n)=>{let o=t.protocol?t.protocol.replace(":",""):"http";o=(r[o]||n||o)+":";let i;try{i=new sL(e)}catch{i={}}let a=Object.assign({},t,{protocol:o||i.protocol,host:t.host||i.host});return new sL(e,Y_e(a)).toString()}});var pL=E((Vqe,lL)=>{"use strict";var{URLWithLegacySupport:X_e,format:e0e,URLSearchParams:t0e,defaultBase:r0e}=nA(),n0e=uL();lL.exports={URL:X_e,URLSearchParams:t0e,format:e0e,relative:n0e,defaultBase:r0e}});var iA=E((Zqe,oA)=>{function dL(e){let t=new globalThis.AbortController;function r(){t.abort();for(let n of e)!n||!n.removeEventListener||n.removeEventListener("abort",r)}for(let n of e)if(!(!n||!n.addEventListener)){if(n.aborted){r();break}n.addEventListener("abort",r)}return t.signal}oA.exports=dL;oA.exports.anySignal=dL});var cs=E((Qqe,fL)=>{"use strict";async function*o0e(e,t={}){let r=e.getReader();try{for(;;){let n=await r.read();if(n.done)return;yield n.value}}finally{t.preventCancel!==!0&&r.cancel(),r.releaseLock()}}fL.exports=o0e});var kb=E((Yqe,hL)=>{"use strict";var i0e=async e=>{let t=[];for await(let r of e)t.push(r);return t};hL.exports=i0e});var Cb=E((Xqe,_L)=>{"use strict";var{fetch:a0e,Request:s0e,Headers:c0e}=Zj(),{TimeoutError:aA,HTTPError:bL}=Qj(),mL=tA().bind({ignoreUndefined:!0}),{URL:gL,URLSearchParams:yL}=pL(),u0e=iA(),l0e=cs(),{isBrowser:p0e,isWebWorker:d0e}=Ep(),f0e=kb(),h0e=(e,t,r)=>{if(t===void 0)return e;let n=Date.now(),o=()=>Date.now()-n>=t;return new Promise((i,a)=>{let s=setTimeout(()=>{o()&&(a(new aA),r.abort())},t),u=c=>d=>{if(clearTimeout(s),o()){a(new aA);return}c(d)};e.then(u(i),u(a))})},m0e={throwHttpErrors:!0,credentials:"same-origin"},Ht=class{constructor(t={}){this.opts=mL(m0e,t)}async fetch(t,r={}){let n=mL(this.opts,r),o=new c0e(n.headers);if(typeof t!="string"&&!(t instanceof gL||t instanceof s0e))throw new TypeError("`resource` must be a string, URL, or Request");let i=new gL(t.toString(),n.base),{searchParams:a,transformSearchParams:s,json:u}=n;a&&(typeof s=="function"?i.search=s(new yL(n.searchParams)):i.search=new yL(n.searchParams)),u&&(n.body=JSON.stringify(n.json),o.set("content-type","application/json"));let c=new AbortController,l=u0e([c.signal,n.signal]);globalThis.ReadableStream!=null&&n.body instanceof globalThis.ReadableStream&&(p0e||d0e)&&(n.body=new Blob(await f0e(l0e(n.body))));let d=await h0e(a0e(i.toString(),{...n,signal:l,timeout:void 0,headers:o,duplex:"half"}),n.timeout,c);if(!d.ok&&n.throwHttpErrors)throw n.handleError&&await n.handleError(d),new bL(d);return d.iterator=async function*(){yield*wL(d.body)},d.ndjson=async function*(){for await(let w of g0e(d.iterator()))r.transform?yield r.transform(w):yield w},d}post(t,r={}){return this.fetch(t,{...r,method:"POST"})}get(t,r={}){return this.fetch(t,{...r,method:"GET"})}put(t,r={}){return this.fetch(t,{...r,method:"PUT"})}delete(t,r={}){return this.fetch(t,{...r,method:"DELETE"})}options(t,r={}){return this.fetch(t,{...r,method:"OPTIONS"})}},g0e=async function*(e){let t=new TextDecoder,r="";for await(let n of e){r+=t.decode(n,{stream:!0});let o=r.split(/\r?\n/);for(let i=0;i<o.length-1;i++){let a=o[i].trim();a.length>0&&(yield JSON.parse(a))}r=o[o.length-1]}r+=t.decode(),r=r.trim(),r.length!==0&&(yield JSON.parse(r))},wL=e=>{if(y0e(e))return e;if(w0e(e)){let t=e[Symbol.asyncIterator]();return{[Symbol.asyncIterator](){return{next:t.next.bind(t),return(r){return e.destroy(),typeof t.return=="function"?t.return():Promise.resolve({done:!0,value:r})}}}}}if(b0e(e)){let t=e.getReader();return async function*(){try{for(;;){let{done:r,value:n}=await t.read();if(r)return;n&&(yield n)}}finally{t.releaseLock()}}()}throw new TypeError("Body can't be converted to AsyncIterable")},y0e=e=>typeof e=="object"&&e!==null&&typeof e[Symbol.asyncIterator]=="function",b0e=e=>e&&typeof e.getReader=="function",w0e=e=>Object.prototype.hasOwnProperty.call(e,"readable")&&Object.prototype.hasOwnProperty.call(e,"writable");Ht.HTTPError=bL;Ht.TimeoutError=aA;Ht.streamToAsyncIterator=wL;Ht.post=(e,t)=>new Ht(t).post(e,t);Ht.get=(e,t)=>new Ht(t).get(e,t);Ht.put=(e,t)=>new Ht(t).put(e,t);Ht.delete=(e,t)=>new Ht(t).delete(e,t);Ht.options=(e,t)=>new Ht(t).options(e,t);_L.exports=Ht});var SL,Tb,sA=b(()=>{SL=L(tA(),1),Tb=SL.default});var xL=E((tje,EL)=>{var{Multiaddr:_0e}=ir(),Fb=(e,t)=>t,S0e=(e,t,r,n)=>{if(n&&n.assumeHttp===!1)return`tcp://${e}:${t}`;let o="tcp",i=`:${t}`;return r[r.length-1].protocol==="tcp"&&(o=t==="443"?"https":"http",i=t==="443"||t==="80"?"":i),`${o}://${e}${i}`},E0e={ip4:Fb,ip6:(e,t,r,n)=>n.length===1&&n[0].protocol==="ip6"?t:`[${t}]`,tcp:(e,t,r,n,o)=>n.some(i=>["http","https","ws","wss"].includes(i.protocol))?`${e}:${t}`:S0e(e,t,n,o),udp:(e,t)=>`udp://${e}:${t}`,dnsaddr:Fb,dns4:Fb,dns6:Fb,ipfs:(e,t)=>`${e}/ipfs/${t}`,p2p:(e,t)=>`${e}/p2p/${t}`,http:e=>`http://${e}`,https:e=>`https://${e}`,ws:e=>`ws://${e}`,wss:e=>`wss://${e}`,"p2p-websocket-star":e=>`${e}/p2p-websocket-star`,"p2p-webrtc-star":e=>`${e}/p2p-webrtc-star`,"p2p-webrtc-direct":e=>`${e}/p2p-webrtc-direct`};EL.exports=(e,t)=>{let r=new _0e(e),n=e.toString().split("/").slice(1);return r.tuples().map(o=>({protocol:n.shift(),content:o[1]?n.shift():null})).reduce((o,i,a,s)=>{let u=E0e[i.protocol];if(!u)throw new Error(`Unsupported protocol ${i.protocol}`);return u(o,i.content,a,s,t)},"")}});function cA(e){try{e=(0,PL.default)(new vL.Multiaddr(e))}catch{}return e=e.toString(),e}var vL,PL,DL=b(()=>{vL=L(ir(),1),PL=L(xL(),1)});var AL,IL,kL,CL=b(()=>{AL=L(require("http"),1),IL=L(require("https"),1),kL=e=>{if(!e)throw new Error("URL required");return e.protocol.startsWith("https")?IL.default.Agent:AL.default.Agent}});var uA,yo,OL,us,TL,x0e,v0e,P0e,D0e,A0e,I0e,k0e,FL,C0e,Li,cje,Ob=b(()=>{uA=L(ir(),1),yo=L(Ep(),1);yj();OL=L(vb(),1),us=L(Cb(),1);sA();DL();CL();TL=(0,OL.default)("ipfs-http-client:lib:error-handler"),x0e=Tb.bind({ignoreUndefined:!0}),v0e=yo.isBrowser||yo.isWebWorker?location.protocol:"http",P0e=yo.isBrowser||yo.isWebWorker?location.hostname:"localhost",D0e=yo.isBrowser||yo.isWebWorker?location.port:"5001",A0e=(e={})=>{let t,r={},n;if(typeof e=="string"||uA.Multiaddr.isMultiaddr(e))t=new URL(cA(e));else if(e instanceof URL)t=e;else if(typeof e.url=="string"||uA.Multiaddr.isMultiaddr(e.url))t=new URL(cA(e.url)),r=e;else if(e.url instanceof URL)t=e.url,r=e;else{r=e||{};let o=(r.protocol||v0e).replace(":",""),i=(r.host||P0e).split(":")[0],a=r.port||D0e;t=new URL(`${o}://${i}:${a}`)}if(r.apiPath?t.pathname=r.apiPath:(t.pathname==="/"||t.pathname===void 0)&&(t.pathname="api/v0"),yo.isNode){let o=kL(t);n=r.agent||new o({keepAlive:!0,maxSockets:6})}return{...r,host:t.host,protocol:t.protocol.replace(":",""),port:Number(t.port),apiPath:t.pathname,url:t,agent:n}},I0e=async e=>{let t;try{if((e.headers.get("Content-Type")||"").startsWith("application/json")){let n=await e.json();TL(n),t=n.Message||n.message}else t=await e.text()}catch(n){TL("Failed to parse error response",n),t=n.message}let r=new us.default.HTTPError(e);throw t&&(t.includes("deadline has elapsed")&&(r=new us.default.TimeoutError),t&&t.includes("context deadline exceeded")&&(r=new us.default.TimeoutError)),t&&t.includes("request timed out")&&(r=new us.default.TimeoutError),t&&(r.message=t),r},k0e=/[A-Z\u00C0-\u00D6\u00D8-\u00DE]/g,FL=e=>e.replace(k0e,function(t){return"-"+t.toLowerCase()}),C0e=e=>typeof e=="string"?gj(e):e,Li=class extends us.default{constructor(t={}){let r=A0e(t);super({timeout:C0e(r.timeout||0)||void 0,headers:r.headers,base:`${r.url}`,handleError:I0e,transformSearchParams:o=>{let i=new URLSearchParams;for(let[a,s]of o)s!=="undefined"&&s!=="null"&&a!=="signal"&&i.append(FL(a),s),a==="timeout"&&!isNaN(s)&&i.append(FL(a),s);return i},agent:r.agent}),delete this.get,delete this.put,delete this.delete,delete this.options;let n=this.fetch;this.fetch=(o,i={})=>(typeof o=="string"&&!o.startsWith("/")&&(o=`${r.url}/${o}`),n.call(this,o,x0e(i,{method:"POST"})))}},cje=us.default.HTTPError});var I,H=b(()=>{Ob();I=e=>t=>e(new Li(t),t)});function Rb(e){if(e!=null)return typeof e=="string"?e:e.toString(8).padStart(4,"0")}var lA=b(()=>{});function Bb(e){if(e==null)return;let t;if(e.secs!=null&&(t={secs:e.secs,nsecs:e.nsecs}),e.Seconds!=null&&(t={secs:e.Seconds,nsecs:e.FractionalNanoseconds}),Array.isArray(e)&&(t={secs:e[0],nsecs:e[1]}),e instanceof Date){let r=e.getTime(),n=Math.floor(r/1e3);t={secs:n,nsecs:(r-n*1e3)*1e3}}if(Object.prototype.hasOwnProperty.call(t,"secs")){if(t!=null&&t.nsecs!=null&&(t.nsecs<0||t.nsecs>999999999))throw(0,RL.default)(new Error("mtime-nsecs must be within the range [0,999999999]"),"ERR_INVALID_MTIME_NSECS");return t}}var RL,pA=b(()=>{RL=L(or(),1)});function C({arg:e,searchParams:t,hashAlg:r,mtime:n,mode:o,...i}={}){t&&(i={...i,...t}),r&&(i.hash=r),n!=null&&(n=Bb(n),i.mtime=n.secs,i.mtimeNsecs=n.nsecs),o!=null&&(i.mode=Rb(o)),i.timeout&&!isNaN(i.timeout)&&(i.timeout=`${i.timeout}ms`),e==null?e=[]:Array.isArray(e)||(e=[e]);let a=new URLSearchParams(i);return e.forEach(s=>a.append("arg",s)),a}var V=b(()=>{lA();pA()});var BL,NL=b(()=>{Ce();H();V();BL=I(e=>{async function t(r={}){return((await(await e.post("bitswap/wantlist",{signal:r.signal,searchParams:C(r),headers:r.headers})).json()).Keys||[]).map(o=>Q.parse(o["/"]))}return t})});var UL,qL=b(()=>{Ce();H();V();UL=I(e=>{async function t(r,n={}){return((await(await e.post("bitswap/wantlist",{signal:n.signal,searchParams:C({...n,peer:r.toString()}),headers:n.headers})).json()).Keys||[]).map(i=>Q.parse(i["/"]))}return t})});function T0e(e){return{provideBufLen:e.ProvideBufLen,wantlist:(e.Wantlist||[]).map(t=>Q.parse(t["/"])),peers:e.Peers||[],blocksReceived:BigInt(e.BlocksReceived),dataReceived:BigInt(e.DataReceived),blocksSent:BigInt(e.BlocksSent),dataSent:BigInt(e.DataSent),dupBlksReceived:BigInt(e.DupBlksReceived),dupDataReceived:BigInt(e.DupDataReceived)}}var Nb,dA=b(()=>{Ce();H();V();Nb=I(e=>{async function t(r={}){let n=await e.post("bitswap/stat",{searchParams:C(r),signal:r.signal,headers:r.headers});return T0e(await n.json())}return t})});var jL,LL=b(()=>{H();V();jL=I(e=>{async function t(r,n={}){return(await e.post("bitswap/unwant",{signal:n.signal,searchParams:C({arg:r.toString(),...n}),headers:n.headers})).json()}return t})});function WL(e){return{wantlist:BL(e),wantlistForPeer:UL(e),unwant:jL(e),stat:Nb(e)}}var ML=b(()=>{NL();qL();dA();LL()});var Ub,fA=b(()=>{H();V();Ub=I(e=>{async function t(r,n={}){let o=await e.post("block/get",{signal:n.signal,searchParams:C({arg:r.toString(),...n}),headers:n.headers});return new Uint8Array(await o.arrayBuffer())}return t})});function qb(e){return globalThis.Buffer!=null?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}var hA=b(()=>{});function GL(e=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?qb(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}var $L=b(()=>{hA()});function HL(e,t,r,n){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:n}}}var zL,mA,F0e,jb,gA=b(()=>{mD();$L();zL=HL("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>new TextEncoder().encode(e.substring(1))),mA=HL("ascii","a",e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},e=>{e=e.substring(1);let t=GL(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}),F0e={utf8:zL,"utf-8":zL,hex:gp.base16,latin1:mA,ascii:mA,binary:mA,...gp},jb=F0e});function bo(e,t="utf8"){let r=jb[t];if(!r)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?qb(globalThis.Buffer.from(e,"utf-8")):r.decoder.decode(`${r.prefix}${e}`)}var Jc=b(()=>{gA();hA()});var VL=E((Vje,JL)=>{"use strict";var KL=cs();function O0e(e){return typeof e.stream=="function"?KL(e.stream()):KL(new Response(e).body)}JL.exports=O0e});var Vc=E((Zje,ZL)=>{"use strict";function R0e(e){let[t,r]=e[Symbol.asyncIterator]?[e[Symbol.asyncIterator](),Symbol.asyncIterator]:[e[Symbol.iterator](),Symbol.iterator],n=[];return{peek:()=>t.next(),push:o=>{n.push(o)},next:()=>n.length?{done:!1,value:n.shift()}:t.next(),[r](){return this}}}ZL.exports=R0e});var yA=E((Qje,QL)=>{"use strict";var B0e=async function*(e,t){for await(let r of e)yield t(r)};QL.exports=B0e});function an(e){return ArrayBuffer.isView(e)||e instanceof ArrayBuffer}function Xo(e){return e.constructor&&(e.constructor.name==="Blob"||e.constructor.name==="File")&&typeof e.stream=="function"}function xp(e){return typeof e=="object"&&(e.path||e.content)}var ei,vp=b(()=>{ei=e=>e&&typeof e.getReader=="function"});async function*Lb(e){yield e}async function Wb(e){if(an(e))return Lb(bA(e));if(typeof e=="string"||e instanceof String)return Lb(bA(e.toString()));if(Xo(e))return(0,e9.default)(e);if(ei(e)&&(e=(0,XL.default)(e)),Symbol.iterator in e||Symbol.asyncIterator in e){let t=(0,t9.default)(e),{value:r,done:n}=await t.peek();if(n)return Lb(new Uint8Array(0));if(t.push(r),Number.isInteger(r))return Lb(Uint8Array.from(await(0,r9.default)(t)));if(an(r)||typeof r=="string"||r instanceof String)return(0,n9.default)(t,bA)}throw(0,YL.default)(new Error(`Unexpected input: ${e}`),"ERR_UNEXPECTED_INPUT")}function bA(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e instanceof ArrayBuffer?new Uint8Array(e):Array.isArray(e)?Uint8Array.from(e):bo(e.toString())}var YL,XL,e9,t9,r9,n9,wA=b(()=>{YL=L(or(),1);Jc();XL=L(cs(),1),e9=L(VL(),1),t9=L(Vc(),1),r9=L(kb(),1),n9=L(yA(),1);vp()});var _A=E((rLe,o9)=>{"use strict";o9.exports=N0e;function N0e(e,t){for(var r=new Array(arguments.length-1),n=0,o=2,i=!0;o<arguments.length;)r[n++]=arguments[o++];return new Promise(function(s,u){r[n]=function(l){if(i)if(i=!1,l)u(l);else{for(var d=new Array(arguments.length-1),w=0;w<d.length;)d[w++]=arguments[w];s.apply(null,d)}};try{e.apply(t||null,r)}catch(c){i&&(i=!1,u(c))}})}});var SA=E(s9=>{"use strict";var Mb=s9;Mb.length=function(t){var r=t.length;if(!r)return 0;for(var n=0;--r%4>1&&t.charAt(r)==="=";)++n;return Math.ceil(t.length*3)/4-n};var Zc=new Array(64),a9=new Array(123);for(qn=0;qn<64;)a9[Zc[qn]=qn<26?qn+65:qn<52?qn+71:qn<62?qn-4:qn-59|43]=qn++;var qn;Mb.encode=function(t,r,n){for(var o=null,i=[],a=0,s=0,u;r<n;){var c=t[r++];switch(s){case 0:i[a++]=Zc[c>>2],u=(c&3)<<4,s=1;break;case 1:i[a++]=Zc[u|c>>4],u=(c&15)<<2,s=2;break;case 2:i[a++]=Zc[u|c>>6],i[a++]=Zc[c&63],s=0;break}a>8191&&((o||(o=[])).push(String.fromCharCode.apply(String,i)),a=0)}return s&&(i[a++]=Zc[u],i[a++]=61,s===1&&(i[a++]=61)),o?(a&&o.push(String.fromCharCode.apply(String,i.slice(0,a))),o.join("")):String.fromCharCode.apply(String,i.slice(0,a))};var i9="invalid encoding";Mb.decode=function(t,r,n){for(var o=n,i=0,a,s=0;s<t.length;){var u=t.charCodeAt(s++);if(u===61&&i>1)break;if((u=a9[u])===void 0)throw Error(i9);switch(i){case 0:a=u,i=1;break;case 1:r[n++]=a<<2|(u&48)>>4,a=u,i=2;break;case 2:r[n++]=(a&15)<<4|(u&60)>>2,a=u,i=3;break;case 3:r[n++]=(a&3)<<6|u,i=0;break}}if(i===1)throw Error(i9);return n-o};Mb.test=function(t){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(t)}});var EA=E((oLe,c9)=>{"use strict";c9.exports=Gb;function Gb(){this._listeners={}}Gb.prototype.on=function(t,r,n){return(this._listeners[t]||(this._listeners[t]=[])).push({fn:r,ctx:n||this}),this};Gb.prototype.off=function(t,r){if(t===void 0)this._listeners={};else if(r===void 0)this._listeners[t]=[];else for(var n=this._listeners[t],o=0;o<n.length;)n[o].fn===r?n.splice(o,1):++o;return this};Gb.prototype.emit=function(t){var r=this._listeners[t];if(r){for(var n=[],o=1;o<arguments.length;)n.push(arguments[o++]);for(o=0;o<r.length;)r[o].fn.apply(r[o++].ctx,n)}return this}});var xA=E((iLe,h9)=>{"use strict";h9.exports=u9(u9);function u9(e){return typeof Float32Array<"u"?function(){var t=new Float32Array([-0]),r=new Uint8Array(t.buffer),n=r[3]===128;function o(u,c,l){t[0]=u,c[l]=r[0],c[l+1]=r[1],c[l+2]=r[2],c[l+3]=r[3]}function i(u,c,l){t[0]=u,c[l]=r[3],c[l+1]=r[2],c[l+2]=r[1],c[l+3]=r[0]}e.writeFloatLE=n?o:i,e.writeFloatBE=n?i:o;function a(u,c){return r[0]=u[c],r[1]=u[c+1],r[2]=u[c+2],r[3]=u[c+3],t[0]}function s(u,c){return r[3]=u[c],r[2]=u[c+1],r[1]=u[c+2],r[0]=u[c+3],t[0]}e.readFloatLE=n?a:s,e.readFloatBE=n?s:a}():function(){function t(n,o,i,a){var s=o<0?1:0;if(s&&(o=-o),o===0)n(1/o>0?0:2147483648,i,a);else if(isNaN(o))n(2143289344,i,a);else if(o>34028234663852886e22)n((s<<31|2139095040)>>>0,i,a);else if(o<11754943508222875e-54)n((s<<31|Math.round(o/1401298464324817e-60))>>>0,i,a);else{var u=Math.floor(Math.log(o)/Math.LN2),c=Math.round(o*Math.pow(2,-u)*8388608)&8388607;n((s<<31|u+127<<23|c)>>>0,i,a)}}e.writeFloatLE=t.bind(null,l9),e.writeFloatBE=t.bind(null,p9);function r(n,o,i){var a=n(o,i),s=(a>>31)*2+1,u=a>>>23&255,c=a&8388607;return u===255?c?NaN:s*(1/0):u===0?s*1401298464324817e-60*c:s*Math.pow(2,u-150)*(c+8388608)}e.readFloatLE=r.bind(null,d9),e.readFloatBE=r.bind(null,f9)}(),typeof Float64Array<"u"?function(){var t=new Float64Array([-0]),r=new Uint8Array(t.buffer),n=r[7]===128;function o(u,c,l){t[0]=u,c[l]=r[0],c[l+1]=r[1],c[l+2]=r[2],c[l+3]=r[3],c[l+4]=r[4],c[l+5]=r[5],c[l+6]=r[6],c[l+7]=r[7]}function i(u,c,l){t[0]=u,c[l]=r[7],c[l+1]=r[6],c[l+2]=r[5],c[l+3]=r[4],c[l+4]=r[3],c[l+5]=r[2],c[l+6]=r[1],c[l+7]=r[0]}e.writeDoubleLE=n?o:i,e.writeDoubleBE=n?i:o;function a(u,c){return r[0]=u[c],r[1]=u[c+1],r[2]=u[c+2],r[3]=u[c+3],r[4]=u[c+4],r[5]=u[c+5],r[6]=u[c+6],r[7]=u[c+7],t[0]}function s(u,c){return r[7]=u[c],r[6]=u[c+1],r[5]=u[c+2],r[4]=u[c+3],r[3]=u[c+4],r[2]=u[c+5],r[1]=u[c+6],r[0]=u[c+7],t[0]}e.readDoubleLE=n?a:s,e.readDoubleBE=n?s:a}():function(){function t(n,o,i,a,s,u){var c=a<0?1:0;if(c&&(a=-a),a===0)n(0,s,u+o),n(1/a>0?0:2147483648,s,u+i);else if(isNaN(a))n(0,s,u+o),n(2146959360,s,u+i);else if(a>17976931348623157e292)n(0,s,u+o),n((c<<31|2146435072)>>>0,s,u+i);else{var l;if(a<22250738585072014e-324)l=a/5e-324,n(l>>>0,s,u+o),n((c<<31|l/4294967296)>>>0,s,u+i);else{var d=Math.floor(Math.log(a)/Math.LN2);d===1024&&(d=1023),l=a*Math.pow(2,-d),n(l*4503599627370496>>>0,s,u+o),n((c<<31|d+1023<<20|l*1048576&1048575)>>>0,s,u+i)}}}e.writeDoubleLE=t.bind(null,l9,0,4),e.writeDoubleBE=t.bind(null,p9,4,0);function r(n,o,i,a,s){var u=n(a,s+o),c=n(a,s+i),l=(c>>31)*2+1,d=c>>>20&2047,w=4294967296*(c&1048575)+u;return d===2047?w?NaN:l*(1/0):d===0?l*5e-324*w:l*Math.pow(2,d-1075)*(w+4503599627370496)}e.readDoubleLE=r.bind(null,d9,0,4),e.readDoubleBE=r.bind(null,f9,4,0)}(),e}function l9(e,t,r){t[r]=e&255,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24}function p9(e,t,r){t[r]=e>>>24,t[r+1]=e>>>16&255,t[r+2]=e>>>8&255,t[r+3]=e&255}function d9(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function f9(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}});var vA=E((exports,module)=>{"use strict";module.exports=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}});var DA=E(m9=>{"use strict";var PA=m9;PA.length=function(t){for(var r=0,n=0,o=0;o<t.length;++o)n=t.charCodeAt(o),n<128?r+=1:n<2048?r+=2:(n&64512)===55296&&(t.charCodeAt(o+1)&64512)===56320?(++o,r+=4):r+=3;return r};PA.read=function(t,r,n){var o=n-r;if(o<1)return"";for(var i=null,a=[],s=0,u;r<n;)u=t[r++],u<128?a[s++]=u:u>191&&u<224?a[s++]=(u&31)<<6|t[r++]&63:u>239&&u<365?(u=((u&7)<<18|(t[r++]&63)<<12|(t[r++]&63)<<6|t[r++]&63)-65536,a[s++]=55296+(u>>10),a[s++]=56320+(u&1023)):a[s++]=(u&15)<<12|(t[r++]&63)<<6|t[r++]&63,s>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,a)),s=0);return i?(s&&i.push(String.fromCharCode.apply(String,a.slice(0,s))),i.join("")):String.fromCharCode.apply(String,a.slice(0,s))};PA.write=function(t,r,n){for(var o=n,i,a,s=0;s<t.length;++s)i=t.charCodeAt(s),i<128?r[n++]=i:i<2048?(r[n++]=i>>6|192,r[n++]=i&63|128):(i&64512)===55296&&((a=t.charCodeAt(s+1))&64512)===56320?(i=65536+((i&1023)<<10)+(a&1023),++s,r[n++]=i>>18|240,r[n++]=i>>12&63|128,r[n++]=i>>6&63|128,r[n++]=i&63|128):(r[n++]=i>>12|224,r[n++]=i>>6&63|128,r[n++]=i&63|128);return n-o}});var AA=E((sLe,g9)=>{"use strict";g9.exports=U0e;function U0e(e,t,r){var n=r||8192,o=n>>>1,i=null,a=n;return function(u){if(u<1||u>o)return e(u);a+u>n&&(i=e(n),a=0);var c=t.call(i,a,a+=u);return a&7&&(a=(a|7)+1),c}}});var b9=E((cLe,y9)=>{"use strict";y9.exports=Dt;var Pp=Mi();function Dt(e,t){this.lo=e>>>0,this.hi=t>>>0}var ls=Dt.zero=new Dt(0,0);ls.toNumber=function(){return 0};ls.zzEncode=ls.zzDecode=function(){return this};ls.length=function(){return 1};var q0e=Dt.zeroHash="\0\0\0\0\0\0\0\0";Dt.fromNumber=function(t){if(t===0)return ls;var r=t<0;r&&(t=-t);var n=t>>>0,o=(t-n)/4294967296>>>0;return r&&(o=~o>>>0,n=~n>>>0,++n>4294967295&&(n=0,++o>4294967295&&(o=0))),new Dt(n,o)};Dt.from=function(t){if(typeof t=="number")return Dt.fromNumber(t);if(Pp.isString(t))if(Pp.Long)t=Pp.Long.fromString(t);else return Dt.fromNumber(parseInt(t,10));return t.low||t.high?new Dt(t.low>>>0,t.high>>>0):ls};Dt.prototype.toNumber=function(t){if(!t&&this.hi>>>31){var r=~this.lo+1>>>0,n=~this.hi>>>0;return r||(n=n+1>>>0),-(r+n*4294967296)}return this.lo+this.hi*4294967296};Dt.prototype.toLong=function(t){return Pp.Long?new Pp.Long(this.lo|0,this.hi|0,!!t):{low:this.lo|0,high:this.hi|0,unsigned:!!t}};var Wi=String.prototype.charCodeAt;Dt.fromHash=function(t){return t===q0e?ls:new Dt((Wi.call(t,0)|Wi.call(t,1)<<8|Wi.call(t,2)<<16|Wi.call(t,3)<<24)>>>0,(Wi.call(t,4)|Wi.call(t,5)<<8|Wi.call(t,6)<<16|Wi.call(t,7)<<24)>>>0)};Dt.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)};Dt.prototype.zzEncode=function(){var t=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^t)>>>0,this.lo=(this.lo<<1^t)>>>0,this};Dt.prototype.zzDecode=function(){var t=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^t)>>>0,this.hi=(this.hi>>>1^t)>>>0,this};Dt.prototype.length=function(){var t=this.lo,r=(this.lo>>>28|this.hi<<4)>>>0,n=this.hi>>>24;return n===0?r===0?t<16384?t<128?1:2:t<2097152?3:4:r<16384?r<128?5:6:r<2097152?7:8:n<128?9:10}});var Mi=E(IA=>{"use strict";var he=IA;he.asPromise=_A();he.base64=SA();he.EventEmitter=EA();he.float=xA();he.inquire=vA();he.utf8=DA();he.pool=AA();he.LongBits=b9();he.isNode=!!(typeof global<"u"&&global&&global.process&&global.process.versions&&global.process.versions.node);he.global=he.isNode&&global||typeof window<"u"&&window||typeof self<"u"&&self||IA;he.emptyArray=Object.freeze?Object.freeze([]):[];he.emptyObject=Object.freeze?Object.freeze({}):{};he.isInteger=Number.isInteger||function(t){return typeof t=="number"&&isFinite(t)&&Math.floor(t)===t};he.isString=function(t){return typeof t=="string"||t instanceof String};he.isObject=function(t){return t&&typeof t=="object"};he.isset=he.isSet=function(t,r){var n=t[r];return n!=null&&t.hasOwnProperty(r)?typeof n!="object"||(Array.isArray(n)?n.length:Object.keys(n).length)>0:!1};he.Buffer=function(){try{var e=he.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null}catch{return null}}();he._Buffer_from=null;he._Buffer_allocUnsafe=null;he.newBuffer=function(t){return typeof t=="number"?he.Buffer?he._Buffer_allocUnsafe(t):new he.Array(t):he.Buffer?he._Buffer_from(t):typeof Uint8Array>"u"?t:new Uint8Array(t)};he.Array=typeof Uint8Array<"u"?Uint8Array:Array;he.Long=he.global.dcodeIO&&he.global.dcodeIO.Long||he.global.Long||he.inquire("long");he.key2Re=/^true|false|0|1$/;he.key32Re=/^-?(?:0|[1-9][0-9]*)$/;he.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/;he.longToHash=function(t){return t?he.LongBits.from(t).toHash():he.LongBits.zeroHash};he.longFromHash=function(t,r){var n=he.LongBits.fromHash(t);return he.Long?he.Long.fromBits(n.lo,n.hi,r):n.toNumber(!!r)};function w9(e,t,r){for(var n=Object.keys(t),o=0;o<n.length;++o)(e[n[o]]===void 0||!r)&&(e[n[o]]=t[n[o]]);return e}he.merge=w9;he.lcFirst=function(t){return t.charAt(0).toLowerCase()+t.substring(1)};function _9(e){function t(r,n){if(!(this instanceof t))return new t(r,n);Object.defineProperty(this,"message",{get:function(){return r}}),Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,"stack",{value:new Error().stack||""}),n&&w9(this,n)}return(t.prototype=Object.create(Error.prototype)).constructor=t,Object.defineProperty(t.prototype,"name",{get:function(){return e}}),t.prototype.toString=function(){return this.name+": "+this.message},t}he.newError=_9;he.ProtocolError=_9("ProtocolError");he.oneOfGetter=function(t){for(var r={},n=0;n<t.length;++n)r[t[n]]=1;return function(){for(var o=Object.keys(this),i=o.length-1;i>-1;--i)if(r[o[i]]===1&&this[o[i]]!==void 0&&this[o[i]]!==null)return o[i]}};he.oneOfSetter=function(t){return function(r){for(var n=0;n<t.length;++n)t[n]!==r&&delete this[t[n]]}};he.toJSONOptions={longs:String,enums:String,bytes:String,json:!0};he._configure=function(){var e=he.Buffer;if(!e){he._Buffer_from=he._Buffer_allocUnsafe=null;return}he._Buffer_from=e.from!==Uint8Array.from&&e.from||function(r,n){return new e(r,n)},he._Buffer_allocUnsafe=e.allocUnsafe||function(r){return new e(r)}}});var BA=E((lLe,v9)=>{"use strict";v9.exports=Ue;var sn=Mi(),kA,$b=sn.LongBits,S9=sn.base64,E9=sn.utf8;function Dp(e,t,r){this.fn=e,this.len=t,this.next=void 0,this.val=r}function TA(){}function j0e(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}function Ue(){this.len=0,this.head=new Dp(TA,0,0),this.tail=this.head,this.states=null}var x9=function(){return sn.Buffer?function(){return(Ue.create=function(){return new kA})()}:function(){return new Ue}};Ue.create=x9();Ue.alloc=function(t){return new sn.Array(t)};sn.Array!==Array&&(Ue.alloc=sn.pool(Ue.alloc,sn.Array.prototype.subarray));Ue.prototype._push=function(t,r,n){return this.tail=this.tail.next=new Dp(t,r,n),this.len+=r,this};function FA(e,t,r){t[r]=e&255}function L0e(e,t,r){for(;e>127;)t[r++]=e&127|128,e>>>=7;t[r]=e}function OA(e,t){this.len=e,this.next=void 0,this.val=t}OA.prototype=Object.create(Dp.prototype);OA.prototype.fn=L0e;Ue.prototype.uint32=function(t){return this.len+=(this.tail=this.tail.next=new OA((t=t>>>0)<128?1:t<16384?2:t<2097152?3:t<268435456?4:5,t)).len,this};Ue.prototype.int32=function(t){return t<0?this._push(RA,10,$b.fromNumber(t)):this.uint32(t)};Ue.prototype.sint32=function(t){return this.uint32((t<<1^t>>31)>>>0)};function RA(e,t,r){for(;e.hi;)t[r++]=e.lo&127|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;e.lo>127;)t[r++]=e.lo&127|128,e.lo=e.lo>>>7;t[r++]=e.lo}Ue.prototype.uint64=function(t){var r=$b.from(t);return this._push(RA,r.length(),r)};Ue.prototype.int64=Ue.prototype.uint64;Ue.prototype.sint64=function(t){var r=$b.from(t).zzEncode();return this._push(RA,r.length(),r)};Ue.prototype.bool=function(t){return this._push(FA,1,t?1:0)};function CA(e,t,r){t[r]=e&255,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24}Ue.prototype.fixed32=function(t){return this._push(CA,4,t>>>0)};Ue.prototype.sfixed32=Ue.prototype.fixed32;Ue.prototype.fixed64=function(t){var r=$b.from(t);return this._push(CA,4,r.lo)._push(CA,4,r.hi)};Ue.prototype.sfixed64=Ue.prototype.fixed64;Ue.prototype.float=function(t){return this._push(sn.float.writeFloatLE,4,t)};Ue.prototype.double=function(t){return this._push(sn.float.writeDoubleLE,8,t)};var W0e=sn.Array.prototype.set?function(t,r,n){r.set(t,n)}:function(t,r,n){for(var o=0;o<t.length;++o)r[n+o]=t[o]};Ue.prototype.bytes=function(t){var r=t.length>>>0;if(!r)return this._push(FA,1,0);if(sn.isString(t)){var n=Ue.alloc(r=S9.length(t));S9.decode(t,n,0),t=n}return this.uint32(r)._push(W0e,r,t)};Ue.prototype.string=function(t){var r=E9.length(t);return r?this.uint32(r)._push(E9.write,r,t):this._push(FA,1,0)};Ue.prototype.fork=function(){return this.states=new j0e(this),this.head=this.tail=new Dp(TA,0,0),this.len=0,this};Ue.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new Dp(TA,0,0),this.len=0),this};Ue.prototype.ldelim=function(){var t=this.head,r=this.tail,n=this.len;return this.reset().uint32(n),n&&(this.tail.next=t.next,this.tail=r,this.len+=n),this};Ue.prototype.finish=function(){for(var t=this.head.next,r=this.constructor.alloc(this.len),n=0;t;)t.fn(t.val,r,n),n+=t.len,t=t.next;return r};Ue._configure=function(e){kA=e,Ue.create=x9(),kA._configure()}});var A9=E((pLe,D9)=>{"use strict";D9.exports=wo;var P9=BA();(wo.prototype=Object.create(P9.prototype)).constructor=wo;var Gi=Mi();function wo(){P9.call(this)}wo._configure=function(){wo.alloc=Gi._Buffer_allocUnsafe,wo.writeBytesBuffer=Gi.Buffer&&Gi.Buffer.prototype instanceof Uint8Array&&Gi.Buffer.prototype.set.name==="set"?function(t,r,n){r.set(t,n)}:function(t,r,n){if(t.copy)t.copy(r,n,0,t.length);else for(var o=0;o<t.length;)r[n++]=t[o++]}};wo.prototype.bytes=function(t){Gi.isString(t)&&(t=Gi._Buffer_from(t,"base64"));var r=t.length>>>0;return this.uint32(r),r&&this._push(wo.writeBytesBuffer,r,t),this};function M0e(e,t,r){e.length<40?Gi.utf8.write(e,t,r):t.utf8Write?t.utf8Write(e,r):t.write(e,r)}wo.prototype.string=function(t){var r=Gi.Buffer.byteLength(t);return this.uint32(r),r&&this._push(M0e,r,t),this};wo._configure()});var qA=E((dLe,F9)=>{"use strict";F9.exports=at;var _o=Mi(),UA,C9=_o.LongBits,G0e=_o.utf8;function jn(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len)}function at(e){this.buf=e,this.pos=0,this.len=e.length}var I9=typeof Uint8Array<"u"?function(t){if(t instanceof Uint8Array||Array.isArray(t))return new at(t);throw Error("illegal buffer")}:function(t){if(Array.isArray(t))return new at(t);throw Error("illegal buffer")},T9=function(){return _o.Buffer?function(r){return(at.create=function(o){return _o.Buffer.isBuffer(o)?new UA(o):I9(o)})(r)}:I9};at.create=T9();at.prototype._slice=_o.Array.prototype.subarray||_o.Array.prototype.slice;at.prototype.uint32=function(){var t=4294967295;return function(){if(t=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(t=(t|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(t=(t|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(t=(t|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(t=(t|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return t;if((this.pos+=5)>this.len)throw this.pos=this.len,jn(this,10);return t}}();at.prototype.int32=function(){return this.uint32()|0};at.prototype.sint32=function(){var t=this.uint32();return t>>>1^-(t&1)|0};function NA(){var e=new C9(0,0),t=0;if(this.len-this.pos>4){for(;t<4;++t)if(e.lo=(e.lo|(this.buf[this.pos]&127)<<t*7)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(this.buf[this.pos]&127)<<28)>>>0,e.hi=(e.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return e;t=0}else{for(;t<3;++t){if(this.pos>=this.len)throw jn(this);if(e.lo=(e.lo|(this.buf[this.pos]&127)<<t*7)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(this.buf[this.pos++]&127)<<t*7)>>>0,e}if(this.len-this.pos>4){for(;t<5;++t)if(e.hi=(e.hi|(this.buf[this.pos]&127)<<t*7+3)>>>0,this.buf[this.pos++]<128)return e}else for(;t<5;++t){if(this.pos>=this.len)throw jn(this);if(e.hi=(e.hi|(this.buf[this.pos]&127)<<t*7+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}at.prototype.bool=function(){return this.uint32()!==0};function zb(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}at.prototype.fixed32=function(){if(this.pos+4>this.len)throw jn(this,4);return zb(this.buf,this.pos+=4)};at.prototype.sfixed32=function(){if(this.pos+4>this.len)throw jn(this,4);return zb(this.buf,this.pos+=4)|0};function k9(){if(this.pos+8>this.len)throw jn(this,8);return new C9(zb(this.buf,this.pos+=4),zb(this.buf,this.pos+=4))}at.prototype.float=function(){if(this.pos+4>this.len)throw jn(this,4);var t=_o.float.readFloatLE(this.buf,this.pos);return this.pos+=4,t};at.prototype.double=function(){if(this.pos+8>this.len)throw jn(this,4);var t=_o.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,t};at.prototype.bytes=function(){var t=this.uint32(),r=this.pos,n=this.pos+t;if(n>this.len)throw jn(this,t);return this.pos+=t,Array.isArray(this.buf)?this.buf.slice(r,n):r===n?new this.buf.constructor(0):this._slice.call(this.buf,r,n)};at.prototype.string=function(){var t=this.bytes();return G0e.read(t,0,t.length)};at.prototype.skip=function(t){if(typeof t=="number"){if(this.pos+t>this.len)throw jn(this,t);this.pos+=t}else do if(this.pos>=this.len)throw jn(this);while(this.buf[this.pos++]&128);return this};at.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(e=this.uint32()&7)!==4;)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this};at._configure=function(e){UA=e,at.create=T9(),UA._configure();var t=_o.Long?"toLong":"toNumber";_o.merge(at.prototype,{int64:function(){return NA.call(this)[t](!1)},uint64:function(){return NA.call(this)[t](!0)},sint64:function(){return NA.call(this).zzDecode()[t](!1)},fixed64:function(){return k9.call(this)[t](!0)},sfixed64:function(){return k9.call(this)[t](!1)}})}});var N9=E((fLe,B9)=>{"use strict";B9.exports=ps;var R9=qA();(ps.prototype=Object.create(R9.prototype)).constructor=ps;var O9=Mi();function ps(e){R9.call(this,e)}ps._configure=function(){O9.Buffer&&(ps.prototype._slice=O9.Buffer.prototype.slice)};ps.prototype.string=function(){var t=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+t,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+t,this.len))};ps._configure()});var q9=E((hLe,U9)=>{"use strict";U9.exports=Ap;var jA=Mi();(Ap.prototype=Object.create(jA.EventEmitter.prototype)).constructor=Ap;function Ap(e,t,r){if(typeof e!="function")throw TypeError("rpcImpl must be a function");jA.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=!!t,this.responseDelimited=!!r}Ap.prototype.rpcCall=function e(t,r,n,o,i){if(!o)throw TypeError("request must be specified");var a=this;if(!i)return jA.asPromise(e,a,t,r,n,o);if(!a.rpcImpl){setTimeout(function(){i(Error("already ended"))},0);return}try{return a.rpcImpl(t,r[a.requestDelimited?"encodeDelimited":"encode"](o).finish(),function(u,c){if(u)return a.emit("error",u,t),i(u);if(c===null){a.end(!0);return}if(!(c instanceof n))try{c=n[a.responseDelimited?"decodeDelimited":"decode"](c)}catch(l){return a.emit("error",l,t),i(l)}return a.emit("data",c,t),i(null,c)})}catch(s){a.emit("error",s,t),setTimeout(function(){i(s)},0);return}};Ap.prototype.end=function(t){return this.rpcImpl&&(t||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}});var L9=E(j9=>{"use strict";var $0e=j9;$0e.Service=q9()});var M9=E((gLe,W9)=>{"use strict";W9.exports={}});var z9=E($9=>{"use strict";var gr=$9;gr.build="minimal";gr.Writer=BA();gr.BufferWriter=A9();gr.Reader=qA();gr.BufferReader=N9();gr.util=Mi();gr.rpc=L9();gr.roots=M9();gr.configure=G9;function G9(){gr.util._configure(),gr.Writer._configure(gr.BufferWriter),gr.Reader._configure(gr.BufferReader)}G9()});var K9=E((bLe,H9)=>{"use strict";H9.exports=z9()});var ti,Qc,LA,we,Bt,z0e,wLe,_Le,J9=b(()=>{ti=L(K9(),1),Qc=ti.default.Reader,LA=ti.default.Writer,we=ti.default.util,Bt=ti.default.roots["ipfs-unixfs"]||(ti.default.roots["ipfs-unixfs"]={}),z0e=Bt.Data=(()=>{function e(t){if(this.blocksizes=[],t)for(var r=Object.keys(t),n=0;n<r.length;++n)t[r[n]]!=null&&(this[r[n]]=t[r[n]])}return e.prototype.Type=0,e.prototype.Data=we.newBuffer([]),e.prototype.filesize=we.Long?we.Long.fromBits(0,0,!0):0,e.prototype.blocksizes=we.emptyArray,e.prototype.hashType=we.Long?we.Long.fromBits(0,0,!0):0,e.prototype.fanout=we.Long?we.Long.fromBits(0,0,!0):0,e.prototype.mode=0,e.prototype.mtime=null,e.encode=function(r,n){if(n||(n=LA.create()),n.uint32(8).int32(r.Type),r.Data!=null&&Object.hasOwnProperty.call(r,"Data")&&n.uint32(18).bytes(r.Data),r.filesize!=null&&Object.hasOwnProperty.call(r,"filesize")&&n.uint32(24).uint64(r.filesize),r.blocksizes!=null&&r.blocksizes.length)for(var o=0;o<r.blocksizes.length;++o)n.uint32(32).uint64(r.blocksizes[o]);return r.hashType!=null&&Object.hasOwnProperty.call(r,"hashType")&&n.uint32(40).uint64(r.hashType),r.fanout!=null&&Object.hasOwnProperty.call(r,"fanout")&&n.uint32(48).uint64(r.fanout),r.mode!=null&&Object.hasOwnProperty.call(r,"mode")&&n.uint32(56).uint32(r.mode),r.mtime!=null&&Object.hasOwnProperty.call(r,"mtime")&&Bt.UnixTime.encode(r.mtime,n.uint32(66).fork()).ldelim(),n},e.decode=function(r,n){r instanceof Qc||(r=Qc.create(r));for(var o=n===void 0?r.len:r.pos+n,i=new Bt.Data;r.pos<o;){var a=r.uint32();switch(a>>>3){case 1:i.Type=r.int32();break;case 2:i.Data=r.bytes();break;case 3:i.filesize=r.uint64();break;case 4:if(i.blocksizes&&i.blocksizes.length||(i.blocksizes=[]),(a&7)===2)for(var s=r.uint32()+r.pos;r.pos<s;)i.blocksizes.push(r.uint64());else i.blocksizes.push(r.uint64());break;case 5:i.hashType=r.uint64();break;case 6:i.fanout=r.uint64();break;case 7:i.mode=r.uint32();break;case 8:i.mtime=Bt.UnixTime.decode(r,r.uint32());break;default:r.skipType(a&7);break}}if(!i.hasOwnProperty("Type"))throw we.ProtocolError("missing required 'Type'",{instance:i});return i},e.fromObject=function(r){if(r instanceof Bt.Data)return r;var n=new Bt.Data;switch(r.Type){case"Raw":case 0:n.Type=0;break;case"Directory":case 1:n.Type=1;break;case"File":case 2:n.Type=2;break;case"Metadata":case 3:n.Type=3;break;case"Symlink":case 4:n.Type=4;break;case"HAMTShard":case 5:n.Type=5;break}if(r.Data!=null&&(typeof r.Data=="string"?we.base64.decode(r.Data,n.Data=we.newBuffer(we.base64.length(r.Data)),0):r.Data.length&&(n.Data=r.Data)),r.filesize!=null&&(we.Long?(n.filesize=we.Long.fromValue(r.filesize)).unsigned=!0:typeof r.filesize=="string"?n.filesize=parseInt(r.filesize,10):typeof r.filesize=="number"?n.filesize=r.filesize:typeof r.filesize=="object"&&(n.filesize=new we.LongBits(r.filesize.low>>>0,r.filesize.high>>>0).toNumber(!0))),r.blocksizes){if(!Array.isArray(r.blocksizes))throw TypeError(".Data.blocksizes: array expected");n.blocksizes=[];for(var o=0;o<r.blocksizes.length;++o)we.Long?(n.blocksizes[o]=we.Long.fromValue(r.blocksizes[o])).unsigned=!0:typeof r.blocksizes[o]=="string"?n.blocksizes[o]=parseInt(r.blocksizes[o],10):typeof r.blocksizes[o]=="number"?n.blocksizes[o]=r.blocksizes[o]:typeof r.blocksizes[o]=="object"&&(n.blocksizes[o]=new we.LongBits(r.blocksizes[o].low>>>0,r.blocksizes[o].high>>>0).toNumber(!0))}if(r.hashType!=null&&(we.Long?(n.hashType=we.Long.fromValue(r.hashType)).unsigned=!0:typeof r.hashType=="string"?n.hashType=parseInt(r.hashType,10):typeof r.hashType=="number"?n.hashType=r.hashType:typeof r.hashType=="object"&&(n.hashType=new we.LongBits(r.hashType.low>>>0,r.hashType.high>>>0).toNumber(!0))),r.fanout!=null&&(we.Long?(n.fanout=we.Long.fromValue(r.fanout)).unsigned=!0:typeof r.fanout=="string"?n.fanout=parseInt(r.fanout,10):typeof r.fanout=="number"?n.fanout=r.fanout:typeof r.fanout=="object"&&(n.fanout=new we.LongBits(r.fanout.low>>>0,r.fanout.high>>>0).toNumber(!0))),r.mode!=null&&(n.mode=r.mode>>>0),r.mtime!=null){if(typeof r.mtime!="object")throw TypeError(".Data.mtime: object expected");n.mtime=Bt.UnixTime.fromObject(r.mtime)}return n},e.toObject=function(r,n){n||(n={});var o={};if((n.arrays||n.defaults)&&(o.blocksizes=[]),n.defaults){if(o.Type=n.enums===String?"Raw":0,n.bytes===String?o.Data="":(o.Data=[],n.bytes!==Array&&(o.Data=we.newBuffer(o.Data))),we.Long){var i=new we.Long(0,0,!0);o.filesize=n.longs===String?i.toString():n.longs===Number?i.toNumber():i}else o.filesize=n.longs===String?"0":0;if(we.Long){var i=new we.Long(0,0,!0);o.hashType=n.longs===String?i.toString():n.longs===Number?i.toNumber():i}else o.hashType=n.longs===String?"0":0;if(we.Long){var i=new we.Long(0,0,!0);o.fanout=n.longs===String?i.toString():n.longs===Number?i.toNumber():i}else o.fanout=n.longs===String?"0":0;o.mode=0,o.mtime=null}if(r.Type!=null&&r.hasOwnProperty("Type")&&(o.Type=n.enums===String?Bt.Data.DataType[r.Type]:r.Type),r.Data!=null&&r.hasOwnProperty("Data")&&(o.Data=n.bytes===String?we.base64.encode(r.Data,0,r.Data.length):n.bytes===Array?Array.prototype.slice.call(r.Data):r.Data),r.filesize!=null&&r.hasOwnProperty("filesize")&&(typeof r.filesize=="number"?o.filesize=n.longs===String?String(r.filesize):r.filesize:o.filesize=n.longs===String?we.Long.prototype.toString.call(r.filesize):n.longs===Number?new we.LongBits(r.filesize.low>>>0,r.filesize.high>>>0).toNumber(!0):r.filesize),r.blocksizes&&r.blocksizes.length){o.blocksizes=[];for(var a=0;a<r.blocksizes.length;++a)typeof r.blocksizes[a]=="number"?o.blocksizes[a]=n.longs===String?String(r.blocksizes[a]):r.blocksizes[a]:o.blocksizes[a]=n.longs===String?we.Long.prototype.toString.call(r.blocksizes[a]):n.longs===Number?new we.LongBits(r.blocksizes[a].low>>>0,r.blocksizes[a].high>>>0).toNumber(!0):r.blocksizes[a]}return r.hashType!=null&&r.hasOwnProperty("hashType")&&(typeof r.hashType=="number"?o.hashType=n.longs===String?String(r.hashType):r.hashType:o.hashType=n.longs===String?we.Long.prototype.toString.call(r.hashType):n.longs===Number?new we.LongBits(r.hashType.low>>>0,r.hashType.high>>>0).toNumber(!0):r.hashType),r.fanout!=null&&r.hasOwnProperty("fanout")&&(typeof r.fanout=="number"?o.fanout=n.longs===String?String(r.fanout):r.fanout:o.fanout=n.longs===String?we.Long.prototype.toString.call(r.fanout):n.longs===Number?new we.LongBits(r.fanout.low>>>0,r.fanout.high>>>0).toNumber(!0):r.fanout),r.mode!=null&&r.hasOwnProperty("mode")&&(o.mode=r.mode),r.mtime!=null&&r.hasOwnProperty("mtime")&&(o.mtime=Bt.UnixTime.toObject(r.mtime,n)),o},e.prototype.toJSON=function(){return this.constructor.toObject(this,ti.default.util.toJSONOptions)},e.DataType=function(){let t={},r=Object.create(t);return r[t[0]="Raw"]=0,r[t[1]="Directory"]=1,r[t[2]="File"]=2,r[t[3]="Metadata"]=3,r[t[4]="Symlink"]=4,r[t[5]="HAMTShard"]=5,r}(),e})(),wLe=Bt.UnixTime=(()=>{function e(t){if(t)for(var r=Object.keys(t),n=0;n<r.length;++n)t[r[n]]!=null&&(this[r[n]]=t[r[n]])}return e.prototype.Seconds=we.Long?we.Long.fromBits(0,0,!1):0,e.prototype.FractionalNanoseconds=0,e.encode=function(r,n){return n||(n=LA.create()),n.uint32(8).int64(r.Seconds),r.FractionalNanoseconds!=null&&Object.hasOwnProperty.call(r,"FractionalNanoseconds")&&n.uint32(21).fixed32(r.FractionalNanoseconds),n},e.decode=function(r,n){r instanceof Qc||(r=Qc.create(r));for(var o=n===void 0?r.len:r.pos+n,i=new Bt.UnixTime;r.pos<o;){var a=r.uint32();switch(a>>>3){case 1:i.Seconds=r.int64();break;case 2:i.FractionalNanoseconds=r.fixed32();break;default:r.skipType(a&7);break}}if(!i.hasOwnProperty("Seconds"))throw we.ProtocolError("missing required 'Seconds'",{instance:i});return i},e.fromObject=function(r){if(r instanceof Bt.UnixTime)return r;var n=new Bt.UnixTime;return r.Seconds!=null&&(we.Long?(n.Seconds=we.Long.fromValue(r.Seconds)).unsigned=!1:typeof r.Seconds=="string"?n.Seconds=parseInt(r.Seconds,10):typeof r.Seconds=="number"?n.Seconds=r.Seconds:typeof r.Seconds=="object"&&(n.Seconds=new we.LongBits(r.Seconds.low>>>0,r.Seconds.high>>>0).toNumber())),r.FractionalNanoseconds!=null&&(n.FractionalNanoseconds=r.FractionalNanoseconds>>>0),n},e.toObject=function(r,n){n||(n={});var o={};if(n.defaults){if(we.Long){var i=new we.Long(0,0,!1);o.Seconds=n.longs===String?i.toString():n.longs===Number?i.toNumber():i}else o.Seconds=n.longs===String?"0":0;o.FractionalNanoseconds=0}return r.Seconds!=null&&r.hasOwnProperty("Seconds")&&(typeof r.Seconds=="number"?o.Seconds=n.longs===String?String(r.Seconds):r.Seconds:o.Seconds=n.longs===String?we.Long.prototype.toString.call(r.Seconds):n.longs===Number?new we.LongBits(r.Seconds.low>>>0,r.Seconds.high>>>0).toNumber():r.Seconds),r.FractionalNanoseconds!=null&&r.hasOwnProperty("FractionalNanoseconds")&&(o.FractionalNanoseconds=r.FractionalNanoseconds),o},e.prototype.toJSON=function(){return this.constructor.toObject(this,ti.default.util.toJSONOptions)},e})(),_Le=Bt.Metadata=(()=>{function e(t){if(t)for(var r=Object.keys(t),n=0;n<r.length;++n)t[r[n]]!=null&&(this[r[n]]=t[r[n]])}return e.prototype.MimeType="",e.encode=function(r,n){return n||(n=LA.create()),r.MimeType!=null&&Object.hasOwnProperty.call(r,"MimeType")&&n.uint32(10).string(r.MimeType),n},e.decode=function(r,n){r instanceof Qc||(r=Qc.create(r));for(var o=n===void 0?r.len:r.pos+n,i=new Bt.Metadata;r.pos<o;){var a=r.uint32();switch(a>>>3){case 1:i.MimeType=r.string();break;default:r.skipType(a&7);break}}return i},e.fromObject=function(r){if(r instanceof Bt.Metadata)return r;var n=new Bt.Metadata;return r.MimeType!=null&&(n.MimeType=String(r.MimeType)),n},e.toObject=function(r,n){n||(n={});var o={};return n.defaults&&(o.MimeType=""),r.MimeType!=null&&r.hasOwnProperty("MimeType")&&(o.MimeType=r.MimeType),o},e.prototype.toJSON=function(){return this.constructor.toObject(this,ti.default.util.toJSONOptions)},e})()});function Hb(e){if(e!=null)return typeof e=="number"?e&4095:(e=e.toString(),e.substring(0,1)==="0"?parseInt(e,8)&4095:parseInt(e,10)&4095)}function Kb(e){if(e==null)return;let t;if(e.secs!=null&&(t={secs:e.secs,nsecs:e.nsecs}),e.Seconds!=null&&(t={secs:e.Seconds,nsecs:e.FractionalNanoseconds}),Array.isArray(e)&&(t={secs:e[0],nsecs:e[1]}),e instanceof Date){let r=e.getTime(),n=Math.floor(r/1e3);t={secs:n,nsecs:(r-n*1e3)*1e3}}if(Object.prototype.hasOwnProperty.call(t,"secs")){if(t!=null&&t.nsecs!=null&&(t.nsecs<0||t.nsecs>999999999))throw(0,V9.default)(new Error("mtime-nsecs must be within the range [0,999999999]"),"ERR_INVALID_MTIME_NSECS");return t}}var V9,SLe,ELe,WA=b(()=>{V9=L(or(),1);J9();SLe=parseInt("0644",8),ELe=parseInt("0755",8)});async function*Jb(e,t){if(typeof e=="string"||e instanceof String||an(e)||Xo(e)||e._readableState)throw(0,Ip.default)(new Error("Unexpected input: single item passed - if you are using ipfs.addAll, please use ipfs.add instead"),"ERR_UNEXPECTED_INPUT");if(ei(e)&&(e=(0,Z9.default)(e)),Symbol.iterator in e||Symbol.asyncIterator in e){let r=(0,Q9.default)(e),{value:n,done:o}=await r.peek();if(o){yield*[];return}if(r.push(n),Number.isInteger(n))throw(0,Ip.default)(new Error("Unexpected input: single item passed - if you are using ipfs.addAll, please use ipfs.add instead"),"ERR_UNEXPECTED_INPUT");if(n._readableState){yield*(0,GA.default)(r,i=>MA({content:i},t));return}if(an(n)){yield MA({content:r},t);return}if(xp(n)||n[Symbol.iterator]||n[Symbol.asyncIterator]||ei(n)||Xo(n)){yield*(0,GA.default)(r,i=>MA(i,t));return}}throw xp(e)?(0,Ip.default)(new Error("Unexpected input: single item passed - if you are using ipfs.addAll, please use ipfs.add instead"),"ERR_UNEXPECTED_INPUT"):(0,Ip.default)(new Error("Unexpected input: "+typeof e),"ERR_UNEXPECTED_INPUT")}async function MA(e,t){let{path:r,mode:n,mtime:o,content:i}=e,a={path:r||"",mode:Hb(n),mtime:Kb(o)};return i?a.content=await t(i):r||(a.content=await t(e)),a}var Ip,Z9,Q9,GA,$A=b(()=>{Ip=L(or(),1),Z9=L(cs(),1),Q9=L(Vc(),1),GA=L(yA(),1);vp();WA()});function Y9(e){return Jb(e,Wb)}var X9=b(()=>{wA();$A()});var eW,tW=b(()=>{eW="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"});var zA,K0e,ds,Yc,J0e,Vb,HA=b(()=>{zA=L(require("crypto"),1);tW();K0e=128,J0e=e=>{!ds||ds.length<e?(ds=Buffer.allocUnsafe(e*K0e),zA.default.randomFillSync(ds),Yc=0):Yc+e>ds.length&&(zA.default.randomFillSync(ds),Yc=0),Yc+=e},Vb=(e=21)=>{J0e(e-=0);let t="";for(let r=Yc-e;r<Yc;r++)t+=eW[ds[r]&63];return t}});function Zb(e){if(e!=null)return typeof e=="string"?e:e.toString(8).padStart(4,"0")}var KA=b(()=>{});async function iW(e,t,r={},n=`-----------------------------${Vb()}`){async function*o(u){try{let c=0;for await(let{content:l,path:d,mode:w,mtime:m}of u){let p="",f=l?"file":"dir";c>0&&(yield`\r
`,p=`-${c}`);let g=f+p,h=[];if(w!=null&&h.push(`mode=${Zb(w)}`),m!=null){let{secs:y,nsecs:_}=m;h.push(`mtime=${y}`),_!=null&&h.push(`mtime-nsecs=${_}`)}h.length&&(g=`${g}?${h.join("&")}`),yield`--${n}\r
`,yield`Content-Disposition: form-data; name="${g}"; filename="${encodeURIComponent(d||"")}"\r
`,yield`Content-Type: ${l?"application/octet-stream":"application/x-directory"}\r
`,yield`\r
`,l&&(yield*l),c++}}catch(c){Z0e(c),t.abort()}finally{yield`\r
--${n}--\r
`}}let i=(0,oW.default)(Y9(e)),{value:a,done:s}=await i.peek();return s||i.push(a),{parts:null,total:-1,headers:V0e(r,{"Content-Type":`multipart/form-data; boundary=${n}`}),body:(0,rW.default)(o(i))}}var rW,nW,oW,V0e,Z0e,aW=b(()=>{X9();HA();KA();sA();rW=L(ZD(),1),nW=L(vb(),1),oW=L(Vc(),1),V0e=Tb.bind({ignoreUndefined:!0}),Z0e=(0,nW.default)("ipfs:core-utils:multipart-request")});async function dW(e){if(an(e))return new Blob([e]);if(typeof e=="string"||e instanceof String)return new Blob([e.toString()]);if(Xo(e))return e;if(ei(e)&&(e=(0,lW.default)(e)),Symbol.iterator in e||Symbol.asyncIterator in e){let t=(0,uW.default)(e),{value:r,done:n}=await t.peek();if(n)return sW(t);if(t.push(r),Number.isInteger(r))return new Blob([Uint8Array.from(await(0,pW.default)(t))]);if(an(r)||typeof r=="string"||r instanceof String)return sW(t)}throw(0,cW.default)(new Error(`Unexpected input: ${e}`),"ERR_UNEXPECTED_INPUT")}async function sW(e){let t=[];for await(let r of e)t.push(r);return new Blob(t)}var cW,uW,lW,pW,fW=b(()=>{cW=L(or(),1),uW=L(Vc(),1),lW=L(cs(),1),pW=L(kb(),1);vp()});function hW(e){return Jb(e,dW,!0)}var mW=b(()=>{fW();$A()});async function gW(e,t,r={}){let n=[],o=new FormData,i=0,a=0;for await(let{content:s,path:u,mode:c,mtime:l}of hW(e)){let d="",w=s?"file":"dir";i>0&&(d=`-${i}`);let m=w+d,p=[];if(c!=null&&p.push(`mode=${Zb(c)}`),l!=null){let{secs:f,nsecs:g}=l;p.push(`mtime=${f}`),g!=null&&p.push(`mtime-nsecs=${g}`)}if(p.length&&(m=`${m}?${p.join("&")}`),s){o.set(m,s,u!=null?encodeURIComponent(u):void 0);let f=a+s.size;n.push({name:u,start:a,end:f}),a=f}else if(u!=null)o.set(m,new File([""],encodeURIComponent(u),{type:"application/x-directory"}));else throw new Error("path or content or both must be set");i++}return{total:a,parts:n,headers:r,body:o}}var yW=b(()=>{mW();KA()});async function ft(e,t,r={},n=`-----------------------------${Vb()}`){let o=iW;return bW.isElectronRenderer&&(o=gW),o(e,t,r,n)}var bW,Ln=b(()=>{bW=L(Ep(),1);aW();yW();HA()});function Q0e(e){return e.filter(Boolean)}function ht(...e){return(0,wW.anySignal)(Q0e(e))}var wW,Wn=b(()=>{wW=L(iA(),1)});var _W,SW=b(()=>{Ce();Ln();H();V();Wn();_W=I(e=>{async function t(r,n={}){let o=new AbortController,i=ht(o.signal,n.signal),a;try{a=await(await e.post("block/put",{signal:i,searchParams:C(n),...await ft([r],o,n.headers)})).json()}catch(s){if(n.format==="dag-pb")return t(r,{...n,format:"protobuf"});if(n.format==="dag-cbor")return t(r,{...n,format:"cbor"});throw s}return Q.parse(a.Key)}return t})});function Y0e(e){let t={cid:Q.parse(e.Hash)};return e.Error&&(t.error=new Error(e.Error)),t}var EW,xW=b(()=>{Ce();H();V();EW=I(e=>{async function*t(r,n={}){Array.isArray(r)||(r=[r]);let o=await e.post("block/rm",{signal:n.signal,searchParams:C({arg:r.map(i=>i.toString()),"stream-channels":!0,...n}),headers:n.headers});for await(let i of o.ndjson())yield Y0e(i)}return t})});var vW,PW=b(()=>{Ce();H();V();vW=I(e=>{async function t(r,n={}){let i=await(await e.post("block/stat",{signal:n.signal,searchParams:C({arg:r.toString(),...n}),headers:n.headers})).json();return{cid:Q.parse(i.Key),size:i.Size}}return t})});function DW(e){return{get:Ub(e),put:_W(e),rm:EW(e),stat:vW(e)}}var AW=b(()=>{fA();SW();xW();PW()});var IW,kW,CW=b(()=>{H();V();IW=L(ir(),1),kW=I(e=>{async function t(r,n={}){let o=await e.post("bootstrap/add",{signal:n.signal,searchParams:C({arg:r,...n}),headers:n.headers}),{Peers:i}=await o.json();return{Peers:i.map(a=>new IW.Multiaddr(a))}}return t})});var TW,FW,OW=b(()=>{H();V();TW=L(ir(),1),FW=I(e=>{async function t(r={}){let n=await e.post("bootstrap/rm",{signal:r.signal,searchParams:C({...r,all:!0}),headers:r.headers}),{Peers:o}=await n.json();return{Peers:o.map(i=>new TW.Multiaddr(i))}}return t})});var RW,BW,NW=b(()=>{H();V();RW=L(ir(),1),BW=I(e=>{async function t(r={}){let n=await e.post("bootstrap/list",{signal:r.signal,searchParams:C(r),headers:r.headers}),{Peers:o}=await n.json();return{Peers:o.map(i=>new RW.Multiaddr(i))}}return t})});var UW,qW,jW=b(()=>{H();V();UW=L(ir(),1),qW=I(e=>{async function t(r={}){let n=await e.post("bootstrap/add",{signal:r.signal,searchParams:C({...r,default:!0}),headers:r.headers}),{Peers:o}=await n.json();return{Peers:o.map(i=>new UW.Multiaddr(i))}}return t})});var LW,WW,MW=b(()=>{H();V();LW=L(ir(),1),WW=I(e=>{async function t(r,n={}){let o=await e.post("bootstrap/rm",{signal:n.signal,searchParams:C({arg:r,...n}),headers:n.headers}),{Peers:i}=await o.json();return{Peers:i.map(a=>new LW.Multiaddr(a))}}return t})});function GW(e){return{add:kW(e),clear:FW(e),list:BW(e),reset:qW(e),rm:WW(e)}}var $W=b(()=>{CW();OW();NW();jW();MW()});var zW,HW=b(()=>{H();V();zW=I(e=>{async function t(r,n={}){let i=await(await e.post("config/profile/apply",{signal:n.signal,searchParams:C({arg:r,...n}),headers:n.headers})).json();return{original:i.OldCfg,updated:i.NewCfg}}return t})});function Oe(e){if(e==null)return e;let t=/^[A-Z]+$/,r={};return Object.keys(e).reduce((n,o)=>(t.test(o)?n[o.toLowerCase()]=e[o]:t.test(o[0])?n[o[0].toLowerCase()+o.slice(1)]=e[o]:n[o]=e[o],n),r)}var wt=b(()=>{});var KW,JW=b(()=>{wt();H();V();KW=I(e=>{async function t(r={}){return(await(await e.post("config/profile/list",{signal:r.signal,searchParams:C(r),headers:r.headers})).json()).map(i=>Oe(i))}return t})});function VW(e){return{apply:zW(e),list:KW(e)}}var ZW=b(()=>{HW();JW()});var QW,YW=b(()=>{H();V();QW=I(e=>async(r,n={})=>{if(!r)throw new Error("key argument is required");return(await(await e.post("config",{signal:n.signal,searchParams:C({arg:r,...n}),headers:n.headers})).json()).Value})});var XW,eM=b(()=>{H();V();XW=I(e=>async(r={})=>await(await e.post("config/show",{signal:r.signal,searchParams:C({...r}),headers:r.headers})).json())});var tM,rM=b(()=>{Jc();Ln();H();V();Wn();tM=I(e=>async(r,n={})=>{let o=new AbortController,i=ht(o.signal,n.signal);await(await e.post("config/replace",{signal:i,searchParams:C(n),...await ft([bo(JSON.stringify(r))],o,n.headers)})).text()})});var nM,X0e,oM=b(()=>{H();V();nM=I(e=>async(r,n,o={})=>{if(typeof r!="string")throw new Error("Invalid key type");let i={...o,...X0e(r,n)};await(await e.post("config",{signal:o.signal,searchParams:C(i),headers:o.headers})).text()}),X0e=(e,t)=>{switch(typeof t){case"boolean":return{arg:[e,t.toString()],bool:!0};case"string":return{arg:[e,t]};default:return{arg:[e,JSON.stringify(t)],json:!0}}}});function iM(e){return{getAll:XW(e),get:QW(e),set:nM(e),replace:tM(e),profiles:VW(e)}}var aM=b(()=>{ZW();YW();eM();rM();oM()});var sM,cM=b(()=>{H();V();sM=I(e=>{async function*t(r,n={}){yield*(await e.post("dag/export",{signal:n.signal,searchParams:C({arg:r.toString()}),headers:n.headers})).iterator()}return t})});async function*VA(e,t,r,n,o){let i=async c=>{let l=await r.getCodec(c.code),d=await n(c,o);return l.decode(d)},a=t.split("/").filter(Boolean),s=await i(e),u=e;for(;a.length;){let c=a.shift();if(!c)throw(0,JA.default)(new Error(`Could not resolve path "${t}"`),"ERR_INVALID_PATH");if(Object.prototype.hasOwnProperty.call(s,c))s=s[c],yield{value:s,remainderPath:a.join("/")};else throw(0,JA.default)(new Error(`no link named "${c}" under ${u}`),"ERR_NO_LINK");let l=Q.asCID(s);l&&(u=l,s=await i(s))}yield{value:s,remainderPath:""}}var JA,uM=b(()=>{Ce();JA=L(or(),1)});var pM=E((SWe,lM)=>{"use strict";var e1e=async e=>{for await(let t of e)return t};lM.exports=e1e});var kp=E((EWe,dM)=>{"use strict";var t1e=async e=>{let t;for await(let r of e)t=r;return t};dM.exports=t1e});var fM,hM,mM,gM,yM=b(()=>{H();uM();fM=L(pM(),1),hM=L(kp(),1),mM=L(or(),1);fA();gM=(e,t)=>I((n,o)=>{let i=Ub(o);return async(s,u={})=>{if(u.path){let m=u.localResolve?await(0,fM.default)(VA(s,u.path,e,i,u)):await(0,hM.default)(VA(s,u.path,e,i,u));if(!m)throw(0,mM.default)(new Error("Not found"),"ERR_NOT_FOUND");return m}let c=await e.getCodec(s.code),l=await i(s,u);return{value:c.decode(l),remainderPath:""}}})(t)});var bM,wM=b(()=>{H();V();Wn();Ln();Ce();bM=I(e=>{async function*t(r,n={}){let o=new AbortController,i=ht(o.signal,n.signal),{headers:a,body:s}=await ft(r,o,n.headers),u=await e.post("dag/import",{signal:i,headers:a,body:s,searchParams:C({"pin-roots":n.pinRoots})});for await(let{Root:c}of u.ndjson())if(c!==void 0){let{Cid:{"/":l},PinErrorMsg:d}=c;yield{root:{cid:Q.parse(l),pinErrorMsg:d}}}}return t})});var Qb,ZA=b(()=>{Ce();H();Ln();V();Wn();Qb=(e,t)=>I(n=>async(i,a={})=>{let s={storeCodec:"dag-cbor",hashAlg:"sha2-256",...a},u;if(s.inputCodec){if(!(i instanceof Uint8Array))throw new Error("Can only inputCodec on raw bytes that can be decoded");u=i}else u=(await e.getCodec(s.storeCodec)).encode(i),s.inputCodec=s.storeCodec;let c=new AbortController,l=ht(c.signal,s.signal),w=await(await n.post("dag/put",{timeout:s.timeout,signal:l,searchParams:C(s),...await ft([u],c,s.headers)})).json();return Q.parse(w.Cid["/"])})(t)});var _M,SM=b(()=>{Ce();H();V();_M=I(e=>async(r,n={})=>{let i=await(await e.post("dag/resolve",{signal:n.signal,searchParams:C({arg:`${r}${n.path?`/${n.path}`.replace(/\/[/]+/g,"/"):""}`,...n}),headers:n.headers})).json();return{cid:Q.parse(i.Cid["/"]),remainderPath:i.RemPath}})});function EM(e,t){return{export:sM(t),get:gM(e,t),import:bM(t),put:Qb(e,t),resolve:_M(t)}}var xM=b(()=>{cM();yM();wM();ZA();SM()});var vM=b(()=>{});var Cp,cn,fs=b(()=>{Jc();vM();Cp=L(ir(),1),cn=e=>{if(e.Type===0)return{to:e.ID,name:"SENDING_QUERY",type:e.Type};if(e.Type===1)return{from:e.ID,name:"PEER_RESPONSE",type:e.Type,messageType:0,messageName:"PUT_VALUE",closer:(e.Responses||[]).map(({ID:t,Addrs:r})=>({id:t,multiaddrs:r.map(n=>new Cp.Multiaddr(n))})),providers:(e.Responses||[]).map(({ID:t,Addrs:r})=>({id:t,multiaddrs:r.map(n=>new Cp.Multiaddr(n))}))};if(e.Type===2){let t={id:e.ID,multiaddrs:[]};return e.Responses&&e.Responses.length&&(t={id:e.Responses[0].ID,multiaddrs:e.Responses[0].Addrs.map(r=>new Cp.Multiaddr(r))}),{from:e.ID,name:"FINAL_PEER",type:e.Type,peer:t}}if(e.Type===3)return{from:e.ID,name:"QUERY_ERROR",type:e.Type,error:new Error(e.Extra)};if(e.Type===4)return{from:e.ID,name:"PROVIDER",type:e.Type,providers:e.Responses.map(({ID:t,Addrs:r})=>({id:t,multiaddrs:r.map(n=>new Cp.Multiaddr(n))}))};if(e.Type===5)return{from:e.ID,name:"VALUE",type:e.Type,value:bo(e.Extra,"base64pad")};if(e.Type===6){let t=e.Responses.map(({ID:r})=>r);if(!t.length)throw new Error("No peer found");return{name:"ADDING_PEER",type:e.Type,peer:t[0]}}if(e.Type===7)return{name:"DIALING_PEER",type:e.Type,peer:e.ID};throw new Error("Unknown DHT event type")}});var PM,DM=b(()=>{H();V();fs();PM=I(e=>{async function*t(r,n={}){let o=await e.post("dht/findpeer",{signal:n.signal,searchParams:C({arg:r,...n}),headers:n.headers});for await(let i of o.ndjson())yield cn(i)}return t})});var AM,IM=b(()=>{H();V();fs();AM=I(e=>{async function*t(r,n={}){let o=await e.post("dht/findprovs",{signal:n.signal,searchParams:C({arg:r.toString(),...n}),headers:n.headers});for await(let i of o.ndjson())yield cn(i)}return t})});function Xc(e,t="utf8"){let r=jb[t];if(!r)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8"):r.encoder.encode(e).substring(1)}var Yb=b(()=>{gA()});var kM,CM=b(()=>{H();V();fs();Yb();kM=I(e=>{async function*t(r,n={}){let o=await e.post("dht/get",{signal:n.signal,searchParams:C({arg:r instanceof Uint8Array?Xc(r):r.toString(),...n}),headers:n.headers});for await(let i of o.ndjson())yield cn(i)}return t})});var TM,FM=b(()=>{H();V();fs();TM=I(e=>{async function*t(r,n={recursive:!1}){let o=Array.isArray(r)?r:[r],i=await e.post("dht/provide",{signal:n.signal,searchParams:C({arg:o.map(a=>a.toString()),...n}),headers:n.headers});for await(let a of i.ndjson())yield cn(a)}return t})});var OM,RM=b(()=>{H();V();Ln();Wn();Yb();fs();OM=I(e=>{async function*t(r,n,o={}){let i=new AbortController,a=ht(i.signal,o.signal),s=await e.post("dht/put",{signal:a,searchParams:C({arg:r instanceof Uint8Array?Xc(r):r.toString(),...o}),...await ft([n],i,o.headers)});for await(let u of s.ndjson())yield cn(u)}return t})});var BM,NM=b(()=>{H();V();fs();BM=I(e=>{async function*t(r,n={}){let o=await e.post("dht/query",{signal:n.signal,searchParams:C({arg:r.toString(),...n}),headers:n.headers});for await(let i of o.ndjson())yield cn(i)}return t})});function UM(e){return{findPeer:PM(e),findProvs:AM(e),get:kM(e),provide:TM(e),put:OM(e),query:BM(e)}}var qM=b(()=>{DM();IM();CM();FM();RM();NM()});var jM,LM=b(()=>{H();V();jM=I(e=>{async function t(r={}){return(await e.post("diag/cmds",{signal:r.signal,searchParams:C(r),headers:r.headers})).json()}return t})});var WM,MM=b(()=>{H();V();WM=I(e=>{async function t(r={}){return(await e.post("diag/net",{signal:r.signal,searchParams:C(r),headers:r.headers})).json()}return t})});var GM,$M=b(()=>{H();V();GM=I(e=>{async function t(r={}){return(await e.post("diag/sys",{signal:r.signal,searchParams:C(r),headers:r.headers})).json()}return t})});function zM(e){return{cmds:jM(e),net:WM(e),sys:GM(e)}}var HM=b(()=>{LM();MM();$M()});var KM,JM=b(()=>{H();V();KM=I(e=>{async function t(r,n,o={}){await(await e.post("files/chmod",{signal:o.signal,searchParams:C({arg:r,mode:n,...o}),headers:o.headers})).text()}return t})});var VM,ZM=b(()=>{Ce();H();V();VM=I(e=>{async function t(r,n,o={}){let i=Array.isArray(r)?r:[r];await(await e.post("files/cp",{signal:o.signal,searchParams:C({arg:i.concat(n).map(s=>Q.asCID(s)?`/ipfs/${s}`:s),...o}),headers:o.headers})).text()}return t})});var QM,YM=b(()=>{Ce();H();V();QM=I(e=>{async function t(r,n={}){if(!r||typeof r!="string")throw new Error("ipfs.files.flush requires a path");let i=await(await e.post("files/flush",{signal:n.signal,searchParams:C({arg:r,...n}),headers:n.headers})).json();return Q.parse(i.Cid)}return t})});function Tp(e){let t=Oe(e);return Object.prototype.hasOwnProperty.call(t,"mode")&&(t.mode=parseInt(t.mode,8)),Object.prototype.hasOwnProperty.call(t,"mtime")&&(t.mtime={secs:t.mtime,nsecs:t.mtimeNsecs||0},delete t.mtimeNsecs),t}var QA=b(()=>{wt()});function XM(e){return e.hash&&(e.cid=Q.parse(e.hash)),delete e.hash,e.type=e.type===1?"directory":"file",e}var eG,tG=b(()=>{Ce();QA();H();V();eG=I(e=>{async function*t(r,n={}){if(!r)throw new Error("ipfs.files.ls requires a path");let o=await e.post("files/ls",{signal:n.signal,searchParams:C({arg:Q.asCID(r)?`/ipfs/${r}`:r,long:!0,...n,stream:!0}),headers:n.headers});for await(let i of o.ndjson())if("Entries"in i)for(let a of i.Entries||[])yield XM(Tp(a));else yield XM(Tp(i))}return t})});var rG,nG=b(()=>{H();V();rG=I(e=>{async function t(r,n={}){await(await e.post("files/mkdir",{signal:n.signal,searchParams:C({arg:r,...n}),headers:n.headers})).text()}return t})});var oG,iG=b(()=>{H();V();oG=I(e=>{async function t(r,n,o={}){Array.isArray(r)||(r=[r]),await(await e.post("files/mv",{signal:o.signal,searchParams:C({arg:r.concat(n),...o}),headers:o.headers})).text()}return t})});var sG=E((wGe,aG)=>{aG.exports=e=>{if(e[Symbol.asyncIterator])return e;if(e.getReader)return async function*(){let t=e.getReader();try{for(;;){let{done:r,value:n}=await t.read();if(r)return;yield n}}finally{t.releaseLock()}}();throw new Error("unknown stream")}});var cG,uG,lG=b(()=>{H();V();cG=L(sG(),1),uG=I(e=>{async function*t(r,n={}){let o=await e.post("files/read",{signal:n.signal,searchParams:C({arg:r,count:n.length,...n}),headers:n.headers});yield*(0,cG.default)(o.body)}return t})});var pG,dG,fG=b(()=>{H();V();pG=L(Cb(),1),dG=I(e=>{async function t(r,n={}){let o=await e.post("files/rm",{signal:n.signal,searchParams:C({arg:r,...n}),headers:n.headers}),i=await o.text();if(i!==""){let a=new pG.default.HTTPError(o);throw a.message=i,a}}return t})});function l1e(e){return e.cid=Q.parse(e.hash),delete e.hash,e}var Xb,YA=b(()=>{Ce();QA();H();V();Xb=I(e=>{async function t(r,n={}){let i=await(await e.post("files/stat",{signal:n.signal,searchParams:C({arg:r,...n}),headers:n.headers})).json();return i.WithLocality=i.WithLocality||!1,l1e(Tp(i))}return t})});var hG,mG=b(()=>{H();V();hG=I(e=>{async function t(r,n={}){await(await e.post("files/touch",{signal:n.signal,searchParams:C({arg:r,...n}),headers:n.headers})).text()}return t})});var gG,yG=b(()=>{lA();pA();H();Ln();V();Wn();gG=I(e=>{async function t(r,n,o={}){let i=new AbortController,a=ht(i.signal,o.signal);await(await e.post("files/write",{signal:a,searchParams:C({arg:r,streamChannels:!0,count:o.length,...o}),...await ft([{content:n,path:"arg",mode:Rb(o.mode),mtime:Bb(o.mtime)}],i,o.headers)})).text()}return t})});function bG(e){return{chmod:KM(e),cp:VM(e),flush:QM(e),ls:eG(e),mkdir:rG(e),mv:oG(e),read:uG(e),rm:dG(e),stat:Xb(e),touch:hG(e),write:gG(e)}}var wG=b(()=>{JM();ZM();YM();tG();nG();iG();lG();fG();YA();mG();yG()});var _G,SG,EG=b(()=>{H();_G=L(or(),1),SG=I(e=>async(r,n,o={})=>{throw(0,_G.default)(new Error("Not implemented"),"ERR_NOT_IMPLEMENTED")})});var xG,vG=b(()=>{wt();H();V();xG=I(e=>{async function t(r,n={type:"rsa",size:2048}){let i=await(await e.post("key/gen",{signal:n.signal,searchParams:C({arg:r,...n}),headers:n.headers})).json();return Oe(i)}return t})});var PG,DG=b(()=>{wt();H();V();PG=I(e=>{async function t(r,n,o,i={}){let s=await(await e.post("key/import",{signal:i.signal,searchParams:C({arg:r,pem:n,password:o,...i}),headers:i.headers})).json();return Oe(s)}return t})});var AG,IG,kG=b(()=>{H();AG=L(or(),1),IG=I(e=>async(r,n={})=>{throw(0,AG.default)(new Error("Not implemented"),"ERR_NOT_IMPLEMENTED")})});var CG,TG=b(()=>{wt();H();V();CG=I(e=>{async function t(r={}){return((await(await e.post("key/list",{signal:r.signal,searchParams:C(r),headers:r.headers})).json()).Keys||[]).map(i=>Oe(i))}return t})});var FG,OG=b(()=>{wt();H();V();FG=I(e=>{async function t(r,n,o={}){let i=await e.post("key/rename",{signal:o.signal,searchParams:C({arg:[r,n],...o}),headers:o.headers});return Oe(await i.json())}return t})});var RG,BG=b(()=>{wt();H();V();RG=I(e=>{async function t(r,n={}){let i=await(await e.post("key/rm",{signal:n.signal,searchParams:C({arg:r,...n}),headers:n.headers})).json();return Oe(i.Keys[0])}return t})});function NG(e){return{export:SG(e),gen:xG(e),import:PG(e),info:IG(e),list:CG(e),rename:FG(e),rm:RG(e)}}var UG=b(()=>{EG();vG();DG();kG();TG();OG();BG()});var qG,jG=b(()=>{wt();H();V();qG=I(e=>{async function t(r,n,o={}){let i=await e.post("log/level",{signal:o.signal,searchParams:C({arg:[r,n],...o}),headers:o.headers});return Oe(await i.json())}return t})});var LG,WG=b(()=>{H();V();LG=I(e=>{async function t(r={}){return(await(await e.post("log/ls",{signal:r.signal,searchParams:C(r),headers:r.headers})).json()).Strings}return t})});var MG,GG=b(()=>{H();V();MG=I(e=>{async function*t(r={}){yield*(await e.post("log/tail",{signal:r.signal,searchParams:C(r),headers:r.headers})).ndjson()}return t})});function $G(e){return{level:qG(e),ls:LG(e),tail:MG(e)}}var zG=b(()=>{jG();WG();GG()});var HG,KG=b(()=>{wt();H();V();HG=I(e=>{async function t(r,n={}){let o=await e.post("name/publish",{signal:n.signal,searchParams:C({arg:`${r}`,...n}),headers:n.headers});return Oe(await o.json())}return t})});var JG,VG=b(()=>{H();V();JG=I(e=>{async function*t(r,n={}){let o=await e.post("name/resolve",{signal:n.signal,searchParams:C({arg:r,stream:!0,...n}),headers:n.headers});for await(let i of o.ndjson())yield i.Path}return t})});var ZG,QG=b(()=>{wt();H();V();ZG=I(e=>{async function t(r,n={}){let o=await e.post("name/pubsub/cancel",{signal:n.signal,searchParams:C({arg:r,...n}),headers:n.headers});return Oe(await o.json())}return t})});var YG,XG=b(()=>{wt();H();V();YG=I(e=>{async function t(r={}){let n=await e.post("name/pubsub/state",{signal:r.signal,searchParams:C(r),headers:r.headers});return Oe(await n.json())}return t})});var e$,t$=b(()=>{H();V();e$=I(e=>{async function t(r={}){return(await(await e.post("name/pubsub/subs",{signal:r.signal,searchParams:C(r),headers:r.headers})).json()).Strings||[]}return t})});function r$(e){return{cancel:ZG(e),state:YG(e),subs:e$(e)}}var n$=b(()=>{QG();XG();t$()});function o$(e){return{publish:HG(e),resolve:JG(e),pubsub:r$(e)}}var i$=b(()=>{KG();VG();n$()});var a$,s$=b(()=>{Ce();H();V();a$=I(e=>{async function t(r,n={}){let i=await(await e.post("object/data",{signal:n.signal,searchParams:C({arg:`${r instanceof Uint8Array?Q.decode(r):r}`,...n}),headers:n.headers})).arrayBuffer();return new Uint8Array(i,0,i.byteLength)}return t})});var c$,u$=b(()=>{Ce();H();V();Jc();c$=I(e=>{async function t(r,n={}){let i=await(await e.post("object/get",{signal:n.signal,searchParams:C({arg:`${r instanceof Uint8Array?Q.decode(r):r}`,dataEncoding:"base64",...n}),headers:n.headers})).json();return{Data:bo(i.Data,"base64pad"),Links:(i.Links||[]).map(a=>({Name:a.Name,Hash:Q.parse(a.Hash),Tsize:a.Size}))}}return t})});var l$,p$=b(()=>{Ce();H();V();l$=I(e=>{async function t(r,n={}){return((await(await e.post("object/links",{signal:n.signal,searchParams:C({arg:`${r instanceof Uint8Array?Q.decode(r):r}`,...n}),headers:n.headers})).json()).Links||[]).map(a=>({Name:a.Name,Tsize:a.Size,Hash:Q.parse(a.Hash)}))}return t})});var d$,f$=b(()=>{Ce();H();V();d$=I(e=>{async function t(r={}){let n=await e.post("object/new",{signal:r.signal,searchParams:C({arg:r.template,...r}),headers:r.headers}),{Hash:o}=await n.json();return Q.parse(o)}return t})});var h$,m$=b(()=>{H();ZA();h$=(e,t)=>I(n=>{let o=Qb(e,t);async function i(a,s={}){return o(a,{...s,storeCodec:"dag-pb",hashAlg:"sha2-256",version:1})}return i})(t)});var g$,y$=b(()=>{Ce();H();V();g$=I(e=>{async function t(r,n={}){let i=await(await e.post("object/stat",{signal:n.signal,searchParams:C({arg:`${r}`,...n}),headers:n.headers})).json();return{...i,Hash:Q.parse(i.Hash)}}return t})});var b$,w$=b(()=>{Ce();H();V();b$=I(e=>{async function t(r,n,o={}){let i=await e.post("object/patch/add-link",{signal:o.signal,searchParams:C({arg:[`${r}`,n.Name||n.name||"",(n.Hash||n.cid||"").toString()||null],...o}),headers:o.headers}),{Hash:a}=await i.json();return Q.parse(a)}return t})});var _$,S$=b(()=>{Ce();Ln();H();V();Wn();_$=I(e=>{async function t(r,n,o={}){let i=new AbortController,a=ht(i.signal,o.signal),s=await e.post("object/patch/append-data",{signal:a,searchParams:C({arg:`${r}`,...o}),...await ft([n],i,o.headers)}),{Hash:u}=await s.json();return Q.parse(u)}return t})});var E$,x$=b(()=>{Ce();H();V();E$=I(e=>{async function t(r,n,o={}){let i=await e.post("object/patch/rm-link",{signal:o.signal,searchParams:C({arg:[`${r}`,n.Name||n.name||null],...o}),headers:o.headers}),{Hash:a}=await i.json();return Q.parse(a)}return t})});var v$,P$=b(()=>{Ce();Ln();H();V();Wn();v$=I(e=>{async function t(r,n,o={}){let i=new AbortController,a=ht(i.signal,o.signal),s=await e.post("object/patch/set-data",{signal:a,searchParams:C({arg:[`${r}`],...o}),...await ft([n],i,o.headers)}),{Hash:u}=await s.json();return Q.parse(u)}return t})});function D$(e){return{addLink:b$(e),appendData:_$(e),rmLink:E$(e),setData:v$(e)}}var A$=b(()=>{w$();S$();x$();P$()});function I$(e,t){return{data:a$(t),get:c$(t),links:l$(t),new:d$(t),put:h$(e,t),stat:g$(t),patch:D$(t)}}var k$=b(()=>{s$();u$();p$();f$();m$();y$();A$()});async function*ew(e){if(e==null)throw(0,eu.default)(new Error(`Unexpected input: ${e}`),"ERR_UNEXPECTED_INPUT");let t=Q.asCID(e);if(t){yield Mn({cid:t});return}if(e instanceof String||typeof e=="string"){yield Mn({path:e});return}if(e.cid!=null||e.path!=null)return yield Mn(e);if(Symbol.iterator in e){let r=e[Symbol.iterator](),n=r.next();if(n.done)return r;if(Q.asCID(n.value)||n.value instanceof String||typeof n.value=="string"){yield Mn({cid:n.value});for(let o of r)yield Mn({cid:o});return}if(n.value.cid!=null||n.value.path!=null){yield Mn(n.value);for(let o of r)yield Mn(o);return}throw(0,eu.default)(new Error("Unexpected input: "+typeof e),"ERR_UNEXPECTED_INPUT")}if(Symbol.asyncIterator in e){let r=e[Symbol.asyncIterator](),n=await r.next();if(n.done)return r;if(Q.asCID(n.value)||n.value instanceof String||typeof n.value=="string"){yield Mn({cid:n.value});for await(let o of r)yield Mn({cid:o});return}if(n.value.cid!=null||n.value.path!=null){yield Mn(n.value);for await(let o of r)yield Mn(o);return}throw(0,eu.default)(new Error("Unexpected input: "+typeof e),"ERR_UNEXPECTED_INPUT")}throw(0,eu.default)(new Error("Unexpected input: "+typeof e),"ERR_UNEXPECTED_INPUT")}function Mn(e){let t=e.cid||`${e.path}`;if(!t)throw(0,eu.default)(new Error("Unexpected input: Please path either a CID or an IPFS path"),"ERR_UNEXPECTED_INPUT");let r={path:t,recursive:e.recursive!==!1};return e.metadata!=null&&(r.metadata=e.metadata),r}var eu,XA=b(()=>{eu=L(or(),1);Ce()});var tw,eI=b(()=>{Ce();H();XA();V();tw=I(e=>{async function*t(r,n={}){for await(let{path:o,recursive:i,metadata:a}of ew(r)){let s=await e.post("pin/add",{signal:n.signal,searchParams:C({...n,arg:o,recursive:i,metadata:a?JSON.stringify(a):void 0,stream:!0}),headers:n.headers});for await(let u of s.ndjson()){if(u.Pins){for(let c of u.Pins)yield Q.parse(c);continue}yield Q.parse(u)}}}return t})});function T$(e){let t=tw(e);return I(()=>{async function r(n,o={}){return(0,C$.default)(t([{path:n,...o}],o))}return r})(e)}var C$,F$=b(()=>{eI();C$=L(kp(),1);H()});function O$(e,t,r){let n={type:e,cid:Q.parse(t)};return r&&(n.metadata=r),n}var R$,B$=b(()=>{Ce();H();V();R$=I(e=>{async function*t(r={}){let n=[];r.paths&&(n=Array.isArray(r.paths)?r.paths:[r.paths]);let o=await e.post("pin/ls",{signal:r.signal,searchParams:C({...r,arg:n.map(i=>`${i}`),stream:!0}),headers:r.headers});for await(let i of o.ndjson()){if(i.Keys){for(let a of Object.keys(i.Keys))yield O$(i.Keys[a].Type,a,i.Keys[a].Metadata);return}yield O$(i.Type,i.Cid,i.Metadata)}}return t})});var rw,tI=b(()=>{Ce();H();XA();V();rw=I(e=>{async function*t(r,n={}){for await(let{path:o,recursive:i}of ew(r)){let a=new URLSearchParams(n.searchParams);a.append("arg",`${o}`),i!=null&&a.set("recursive",String(i));let s=await e.post("pin/rm",{signal:n.signal,headers:n.headers,searchParams:C({...n,arg:`${o}`,recursive:i})});for await(let u of s.ndjson()){if(u.Pins){yield*u.Pins.map(c=>Q.parse(c));continue}yield Q.parse(u)}}}return t})});var N$,U$,q$=b(()=>{tI();N$=L(kp(),1);H();U$=e=>{let t=rw(e);return I(()=>{async function r(n,o={}){return(0,N$.default)(t([{path:n,...o}],o))}return r})(e)}});var nw,j$,L$,tu,W$,Fp=b(()=>{Ce();V();nw=({Name:e,Status:t,Cid:r})=>({cid:Q.parse(r),name:e,status:t}),j$=e=>{if(typeof e=="string"&&e!=="")return e;throw new TypeError("service name must be passed")},L$=e=>{if(Q.asCID(e))return e.toString();throw new TypeError(`CID instance expected instead of ${typeof e}`)},tu=({service:e,cid:t,name:r,status:n,all:o})=>{let i=C({service:j$(e),name:r,force:o?!0:void 0});if(t)for(let a of t)i.append("cid",L$(a));if(n)for(let a of n)i.append("status",a);return i},W$=({cid:e,service:t,background:r,name:n,origins:o})=>{let i=C({arg:L$(e),service:j$(t),name:n,background:r?!0:void 0});if(o)for(let a of o)i.append("origin",a.toString());return i}});function M$(e){async function t(r,{timeout:n,signal:o,headers:i,...a}){let s=await e.post("pin/remote/add",{timeout:n,signal:o,headers:i,searchParams:W$({cid:r,...a})});return nw(await s.json())}return t}var G$=b(()=>{Fp()});function $$(e){async function*t({timeout:r,signal:n,headers:o,...i}){let a=await e.post("pin/remote/ls",{timeout:r,signal:n,headers:o,searchParams:tu(i)});for await(let s of a.ndjson())yield nw(s)}return t}var z$=b(()=>{Fp()});function H$(e){async function t({timeout:r,signal:n,headers:o,...i}){await e.post("pin/remote/rm",{timeout:r,signal:n,headers:o,searchParams:tu({...i,all:!1})})}return t}var K$=b(()=>{Fp()});function J$(e){async function t({timeout:r,signal:n,headers:o,...i}){await e.post("pin/remote/rm",{timeout:r,signal:n,headers:o,searchParams:tu({...i,all:!0})})}return t}var V$=b(()=>{Fp()});function Z$(e){let t=String(e);if(t==="undefined")throw Error("endpoint is required");return t[t.length-1]==="/"?t.slice(0,-1):t}function Q$(e){return{service:e.Service,endpoint:new URL(e.ApiEndpoint),...e.Stat&&{stat:p1e(e.Stat)}}}function p1e(e){switch(e.Status){case"valid":{let{Pinning:t,Pinned:r,Queued:n,Failed:o}=e.PinCount;return{status:"valid",pinCount:{queued:n,pinning:t,pinned:r,failed:o}}}case"invalid":return{status:"invalid"};default:return{status:e.Status}}}var rI=b(()=>{});function Y$(e){async function t(r,n){let{endpoint:o,key:i,headers:a,timeout:s,signal:u}=n;await e.post("pin/remote/service/add",{timeout:s,signal:u,searchParams:C({arg:[r,Z$(o),i]}),headers:a})}return t}var X$=b(()=>{V();rI()});function ez(e){async function t(r={}){let{stat:n,headers:o,timeout:i,signal:a}=r,s=await e.post("pin/remote/service/ls",{timeout:i,signal:a,headers:o,searchParams:n===!0?C({stat:n}):void 0}),{RemoteServices:u}=await s.json();return u.map(Q$)}return t}var tz=b(()=>{V();rI()});function rz(e){async function t(r,n={}){await e.post("pin/remote/service/rm",{signal:n.signal,headers:n.headers,searchParams:C({arg:r})})}return t}var nz=b(()=>{V()});function oz(e){let t=new Li(e);return{add:Y$(t),ls:ez(t),rm:rz(t)}}var iz=b(()=>{Ob();X$();tz();nz()});function az(e){let t=new Li(e);return{add:M$(t),ls:$$(t),rm:H$(t),rmAll:J$(t),service:oz(e)}}var sz=b(()=>{Ob();G$();z$();K$();V$();iz()});function cz(e){return{addAll:tw(e),add:T$(e),ls:R$(e),rmAll:rw(e),rm:U$(e),remote:az(e)}}var uz=b(()=>{eI();F$();B$();tI();q$();sz()});var ow,d1e,iw,ru,Op=b(()=>{Jc();Yb();By();ow=e=>Array.isArray(e)?e.map(d1e):e,d1e=e=>Xc(iw(e)),iw=e=>Ry.decode(e),ru=e=>Ry.encode(bo(e))});var lz,pz=b(()=>{H();V();Op();lz=I(e=>{async function t(r={}){let{Strings:n}=await(await e.post("pubsub/ls",{signal:r.signal,searchParams:C(r),headers:r.headers})).json();return ow(n)||[]}return t})});var dz,fz=b(()=>{H();V();Op();dz=I(e=>{async function t(r,n={}){let o=await e.post("pubsub/peers",{signal:n.signal,searchParams:C({arg:ru(r),...n}),headers:n.headers}),{Strings:i}=await o.json();return i||[]}return t})});var hz,mz=b(()=>{H();V();Ln();Wn();Op();hz=I(e=>{async function t(r,n,o={}){let i=C({arg:ru(r),...o}),a=new AbortController,s=ht(a.signal,o.signal);await(await e.post("pubsub/pub",{signal:s,searchParams:i,...await ft([n],a,o.headers)})).text()}return t})});async function h1e(e,{onMessage:t,onEnd:r,onError:n}){n=n||f1e;try{for await(let o of e.ndjson())try{if(!o.from)continue;t({from:o.from,data:iw(o.data),seqno:iw(o.seqno),topicIDs:ow(o.topicIDs)})}catch(i){i.message=`Failed to parse pubsub message: ${i.message}`,n(i,!1,o)}}catch(o){m1e(o)||n(o,!0)}finally{r()}}var gz,f1e,yz,m1e,bz=b(()=>{gz=L(vb(),1);H();V();Op();f1e=(0,gz.default)("ipfs-http-client:pubsub:subscribe"),yz=(e,t)=>I(r=>{async function n(o,i,a={}){a.signal=t.subscribe(o,i,a.signal);let s,u,c=new Promise((d,w)=>{s=d,u=w}),l=setTimeout(()=>s(),1e3);return r.post("pubsub/sub",{signal:a.signal,searchParams:C({arg:ru(o),...a}),headers:a.headers}).catch(d=>{t.unsubscribe(o,i),u(d)}).then(d=>{clearTimeout(l),d&&(h1e(d,{onMessage:i,onEnd:()=>t.unsubscribe(o,i),onError:a.onError}),s())}),c}return n})(e);m1e=e=>{switch(e.type){case"aborted":return!0;case"abort":return!0;default:return e.name==="AbortError"}}});var wz,_z=b(()=>{wz=(e,t)=>{async function r(n,o){t.unsubscribe(n,o)}return r}});var aw,Sz=b(()=>{aw=class{constructor(){this._subs=new Map}subscribe(t,r,n){let o=this._subs.get(t)||[];if(o.find(a=>a.handler===r))throw new Error(`Already subscribed to ${t} with this handler`);let i=new AbortController;return this._subs.set(t,[{handler:r,controller:i}].concat(o)),n&&n.addEventListener("abort",()=>this.unsubscribe(t,r)),i.signal}unsubscribe(t,r){let n=this._subs.get(t)||[],o;r?(this._subs.set(t,n.filter(i=>i.handler!==r)),o=n.filter(i=>i.handler===r)):(this._subs.set(t,[]),o=n),(this._subs.get(t)||[]).length||this._subs.delete(t),o.forEach(i=>i.controller.abort())}}});function Ez(e){let t=new aw;return{ls:lz(e),peers:dz(e),publish:hz(e),subscribe:yz(e,t),unsubscribe:wz(e,t)}}var xz=b(()=>{pz();fz();mz();bz();_z();Sz()});var vz,Pz=b(()=>{wt();H();V();vz=I(e=>{async function*t(r={}){yield*(await e.post("refs/local",{signal:r.signal,transform:Oe,searchParams:C(r),headers:r.headers})).ndjson()}return t})});var Dz,Az=b(()=>{Ce();wt();H();V();Pz();Dz=I((e,t)=>Object.assign(async function*(n,o={}){let i=Array.isArray(n)?n:[n];yield*(await e.post("refs",{signal:o.signal,searchParams:C({arg:i.map(s=>`${s instanceof Uint8Array?Q.decode(s):s}`),...o}),headers:o.headers,transform:Oe})).ndjson()},{local:vz(t)}))});var Iz,kz=b(()=>{Ce();H();V();Iz=I(e=>{async function*t(r={}){yield*(await e.post("repo/gc",{signal:r.signal,searchParams:C(r),headers:r.headers,transform:o=>({err:o.Error?new Error(o.Error):null,cid:(o.Key||{})["/"]?Q.parse(o.Key["/"]):null})})).ndjson()}return t})});var sw,nI=b(()=>{H();V();sw=I(e=>{async function t(r={}){let o=await(await e.post("repo/stat",{signal:r.signal,searchParams:C(r),headers:r.headers})).json();return{numObjects:BigInt(o.NumObjects),repoSize:BigInt(o.RepoSize),repoPath:o.RepoPath,version:o.Version,storageMax:BigInt(o.StorageMax)}}return t})});var Cz,Tz=b(()=>{H();V();Cz=I(e=>{async function t(r={}){return(await(await e.post("repo/version",{signal:r.signal,searchParams:C(r),headers:r.headers})).json()).Version}return t})});function Fz(e){return{gc:Iz(e),stat:sw(e),version:Cz(e)}}var Oz=b(()=>{kz();nI();Tz()});var Rz,Bz=b(()=>{H();V();Rz=I(e=>{async function*t(r={}){yield*(await e.post("stats/bw",{signal:r.signal,searchParams:C(r),headers:r.headers,transform:o=>({totalIn:BigInt(o.TotalIn),totalOut:BigInt(o.TotalOut),rateIn:parseFloat(o.RateIn),rateOut:parseFloat(o.RateOut)})})).ndjson()}return t})});function Nz(e){return{bitswap:Nb(e),repo:sw(e),bw:Rz(e)}}var Uz=b(()=>{dA();nI();Bz()});var qz,jz,Lz=b(()=>{qz=L(ir(),1);H();V();jz=I(e=>{async function t(r={}){let n=await e.post("swarm/addrs",{signal:r.signal,searchParams:C(r),headers:r.headers}),{Addrs:o}=await n.json();return Object.keys(o).map(i=>({id:i,addrs:(o[i]||[]).map(a=>new qz.Multiaddr(a))}))}return t})});var Wz,Mz=b(()=>{H();V();Wz=I(e=>{async function t(r,n={}){let o=await e.post("swarm/connect",{signal:n.signal,searchParams:C({arg:r,...n}),headers:n.headers}),{Strings:i}=await o.json();return i||[]}return t})});var Gz,$z=b(()=>{H();V();Gz=I(e=>{async function t(r,n={}){let o=await e.post("swarm/disconnect",{signal:n.signal,searchParams:C({arg:r,...n}),headers:n.headers}),{Strings:i}=await o.json();return i||[]}return t})});var zz,Hz,Kz=b(()=>{zz=L(ir(),1);H();V();Hz=I(e=>{async function t(r={}){let n=await e.post("swarm/addrs/local",{signal:r.signal,searchParams:C(r),headers:r.headers}),{Strings:o}=await n.json();return(o||[]).map(i=>new zz.Multiaddr(i))}return t})});var Jz,Vz,Zz=b(()=>{Jz=L(ir(),1);H();V();Vz=I(e=>{async function t(r={}){let n=await e.post("swarm/peers",{signal:r.signal,searchParams:C(r),headers:r.headers}),{Peers:o}=await n.json();return(o||[]).map(i=>({addr:new Jz.Multiaddr(i.Addr),peer:i.Peer,muxer:i.Muxer,latency:i.Latency,streams:i.Streams,direction:i.Direction==null?void 0:i.Direction===0?"inbound":"outbound"}))}return t})});function Qz(e){return{addrs:jz(e),connect:Wz(e),disconnect:Gz(e),localAddrs:Hz(e),peers:Vz(e)}}var Yz=b(()=>{Lz();Mz();$z();Kz();Zz()});function b1e({name:e,hash:t,size:r,mode:n,mtime:o,mtimeNsecs:i}){let a={path:e,cid:Q.parse(t),size:parseInt(r)};return n!=null&&(a.mode=parseInt(n,8)),o!=null&&(a.mtime={secs:o,nsecs:i||0}),a}var cw,g1e,y1e,oI=b(()=>{Ce();wt();H();Ln();V();Wn();cw=I(e=>{async function*t(r,n={}){let o=new AbortController,i=ht(o.signal,n.signal),{headers:a,body:s,total:u,parts:c}=await ft(r,o,n.headers),[l,d]=typeof n.progress=="function"?g1e(u,c,n.progress):[void 0,void 0],w=await e.post("add",{searchParams:C({"stream-channels":!0,...n,progress:!!l}),onUploadProgress:d,signal:i,headers:a,body:s});for await(let m of w.ndjson())m=Oe(m),m.hash!==void 0?yield b1e(m):l&&l(m.bytes||0,m.name)}return t}),g1e=(e,t,r)=>t?[void 0,y1e(e,t,r)]:[r,void 0],y1e=(e,t,r)=>{let n=0,o=t.length;return({loaded:i,total:a})=>{let s=Math.floor(i/a*e);for(;n<o;){let{start:u,end:c,name:l}=t[n];if(s<c){r(s-u,l);break}else r(c-u,l),n+=1}}}});async function*tH(e,t){if(e==null)throw(0,lw.default)(new Error(`Unexpected input: ${e}`),"ERR_UNEXPECTED_INPUT");if(typeof e=="string"||e instanceof String){yield uw(e.toString(),t);return}if(an(e)||Xo(e)){yield uw(e,t);return}if(ei(e)&&(e=(0,Xz.default)(e)),Symbol.iterator in e||Symbol.asyncIterator in e){let r=(0,eH.default)(e),{value:n,done:o}=await r.peek();if(o){yield{content:[]};return}if(r.push(n),Number.isInteger(n)||an(n)||typeof n=="string"||n instanceof String){yield uw(r,t);return}throw(0,lw.default)(new Error("Unexpected input: multiple items passed - if you are using ipfs.add, please use ipfs.addAll instead"),"ERR_UNEXPECTED_INPUT")}if(xp(e)){yield uw(e,t);return}throw(0,lw.default)(new Error('Unexpected input: cannot convert "'+typeof e+'" into ImportCandidate'),"ERR_UNEXPECTED_INPUT")}async function uw(e,t){let{path:r,mode:n,mtime:o,content:i}=e,a={path:r||"",mode:Hb(n),mtime:Kb(o)};return i?a.content=await t(i):r||(a.content=await t(e)),a}var lw,Xz,eH,rH=b(()=>{lw=L(or(),1),Xz=L(cs(),1),eH=L(Vc(),1);vp();WA()});function nH(e){return tH(e,Wb)}var oH=b(()=>{wA();rH()});function aH(e){let t=cw(e);return I(()=>{async function r(n,o={}){return await(0,iH.default)(t(nH(n),o))}return r})(e)}var iH,sH=b(()=>{oI();iH=L(kp(),1);H();oH()});var cH,uH=b(()=>{H();V();cH=I(e=>{async function*t(r,n={}){yield*(await e.post("cat",{signal:n.signal,searchParams:C({arg:r.toString(),...n}),headers:n.headers})).iterator()}return t})});var lH,pH=b(()=>{H();V();lH=I(e=>async(r={})=>(await e.post("commands",{signal:r.signal,searchParams:C(r),headers:r.headers})).json())});var dH,fH=b(()=>{H();V();dH=I(e=>async(r,n={})=>(await(await e.post("dns",{signal:n.signal,searchParams:C({arg:r,...n}),headers:n.headers})).json()).Path)});var hH,mH=b(()=>{H();hH=I(e=>()=>{let t=new URL(e.opts.base||"");return{host:t.hostname,port:t.port,protocol:t.protocol,pathname:t.pathname,"api-path":t.pathname}})});var gH,yH=b(()=>{Ce();H();V();gH=I(e=>{async function*t(r,n={}){let o={arg:`${r instanceof Uint8Array?Q.decode(r):r}`,...n};o.compressionLevel&&(o["compression-level"]=o.compressionLevel,delete o.compressionLevel),yield*(await e.post("get",{signal:n.signal,searchParams:C(o),headers:n.headers})).iterator()}return t})});var bH,pw,iI=b(()=>{wt();bH=L(ir(),1);H();V();pw=I(e=>{async function t(r={}){let o=await(await e.post("id",{signal:r.signal,searchParams:C({arg:r.peerId?r.peerId.toString():void 0,...r}),headers:r.headers})).json(),i={...Oe(o)};return i.addresses&&(i.addresses=i.addresses.map(a=>new bH.Multiaddr(a))),i}return t})});var wH,_H=b(()=>{iI();wH=e=>{let t=pw(e);async function r(n={}){let o=await t(n);return!!(o&&o.addresses&&o.addresses.length)}return r}});function w1e(e){switch(e.Type){case 1:case 5:return"dir";case 2:return"file";default:return"file"}}var SH,EH=b(()=>{Ce();H();V();YA();SH=I((e,t)=>{async function*r(n,o={}){let i=`${n instanceof Uint8Array?Q.decode(n):n}`;async function a(u){let c=u.Hash;if(c.includes("/")){let d=c.startsWith("/ipfs/")?c:`/ipfs/${c}`;c=(await Xb(t)(d)).cid}else c=Q.parse(c);let l={name:u.Name,path:i+(u.Name?`/${u.Name}`:""),size:u.Size,cid:c,type:w1e(u)};return u.Mode&&(l.mode=parseInt(u.Mode,8)),u.Mtime!==void 0&&u.Mtime!==null&&(l.mtime={secs:u.Mtime},u.MtimeNsecs!==void 0&&u.MtimeNsecs!==null&&(l.mtime.nsecs=u.MtimeNsecs)),l}let s=await e.post("ls",{signal:o.signal,searchParams:C({arg:i,...o}),headers:o.headers});for await(let u of s.ndjson()){if(u=u.Objects,!u)throw new Error("expected .Objects in results");if(u=u[0],!u)throw new Error("expected one array in results.Objects");let c=u.Links;if(!Array.isArray(c))throw new Error("expected one array in results.Objects[0].Links");if(!c.length){yield a(u);return}yield*c.map(a)}}return r})});var xH,vH=b(()=>{wt();H();V();xH=I(e=>{async function t(r={}){let n=await e.post("dns",{signal:r.signal,searchParams:C(r),headers:r.headers});return Oe(await n.json())}return t})});var PH,DH=b(()=>{wt();H();V();PH=I(e=>{async function*t(r,n={}){yield*(await e.post("ping",{signal:n.signal,searchParams:C({arg:`${r}`,...n}),headers:n.headers,transform:Oe})).ndjson()}return t})});var AH,IH=b(()=>{H();V();AH=I(e=>{async function t(r,n={}){let o=await e.post("resolve",{signal:n.signal,searchParams:C({arg:r,...n}),headers:n.headers}),{Path:i}=await o.json();return i}return t})});var kH,CH,TH=b(()=>{H();kH=L(or(),1),CH=I(e=>async(r={})=>{throw(0,kH.default)(new Error("Not implemented"),"ERR_NOT_IMPLEMENTED")})});var FH,OH=b(()=>{H();V();FH=I(e=>{async function t(r={}){await(await e.post("shutdown",{signal:r.signal,searchParams:C(r),headers:r.headers})).text()}return t})});var RH,BH=b(()=>{wt();H();V();RH=I(e=>{async function t(r={}){let n=await e.post("version",{signal:r.signal,searchParams:C(r),headers:r.headers});return{...Oe(await n.json()),"ipfs-http-client":"1.0.0"}}return t})});var UH=E((pZe,NH)=>{NH.exports=function(e,t){for(var r=[],n=0;n<e.length;n++){var o=t(e[n],n);_1e(o)?r.push.apply(r,o):r.push(o)}return r};var _1e=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"}});var MH=E((dZe,WH)=>{"use strict";WH.exports=jH;function jH(e,t,r){e instanceof RegExp&&(e=qH(e,r)),t instanceof RegExp&&(t=qH(t,r));var n=LH(e,t,r);return n&&{start:n[0],end:n[1],pre:r.slice(0,n[0]),body:r.slice(n[0]+e.length,n[1]),post:r.slice(n[1]+t.length)}}function qH(e,t){var r=t.match(e);return r?r[0]:null}jH.range=LH;function LH(e,t,r){var n,o,i,a,s,u=r.indexOf(e),c=r.indexOf(t,u+1),l=u;if(u>=0&&c>0){if(e===t)return[u,c];for(n=[],i=r.length;l>=0&&!s;)l==u?(n.push(l),u=r.indexOf(e,l+1)):n.length==1?s=[n.pop(),c]:(o=n.pop(),o<i&&(i=o,a=c),c=r.indexOf(t,l+1)),l=u<c&&u>=0?u:c;n.length&&(s=[i,a])}return s}});var ZH=E((fZe,VH)=>{var S1e=UH(),GH=MH();VH.exports=v1e;var $H="\0SLASH"+Math.random()+"\0",zH="\0OPEN"+Math.random()+"\0",sI="\0CLOSE"+Math.random()+"\0",HH="\0COMMA"+Math.random()+"\0",KH="\0PERIOD"+Math.random()+"\0";function aI(e){return parseInt(e,10)==e?parseInt(e,10):e.charCodeAt(0)}function E1e(e){return e.split("\\\\").join($H).split("\\{").join(zH).split("\\}").join(sI).split("\\,").join(HH).split("\\.").join(KH)}function x1e(e){return e.split($H).join("\\").split(zH).join("{").split(sI).join("}").split(HH).join(",").split(KH).join(".")}function JH(e){if(!e)return[""];var t=[],r=GH("{","}",e);if(!r)return e.split(",");var n=r.pre,o=r.body,i=r.post,a=n.split(",");a[a.length-1]+="{"+o+"}";var s=JH(i);return i.length&&(a[a.length-1]+=s.shift(),a.push.apply(a,s)),t.push.apply(t,a),t}function v1e(e){return e?(e.substr(0,2)==="{}"&&(e="\\{\\}"+e.substr(2)),nu(E1e(e),!0).map(x1e)):[]}function P1e(e){return"{"+e+"}"}function D1e(e){return/^-?0\d/.test(e)}function A1e(e,t){return e<=t}function I1e(e,t){return e>=t}function nu(e,t){var r=[],n=GH("{","}",e);if(!n||/\$$/.test(n.pre))return[e];var o=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(n.body),i=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(n.body),a=o||i,s=n.body.indexOf(",")>=0;if(!a&&!s)return n.post.match(/,.*\}/)?(e=n.pre+"{"+n.body+sI+n.post,nu(e)):[e];var u;if(a)u=n.body.split(/\.\./);else if(u=JH(n.body),u.length===1&&(u=nu(u[0],!1).map(P1e),u.length===1)){var l=n.post.length?nu(n.post,!1):[""];return l.map(function(O){return n.pre+u[0]+O})}var c=n.pre,l=n.post.length?nu(n.post,!1):[""],d;if(a){var w=aI(u[0]),m=aI(u[1]),p=Math.max(u[0].length,u[1].length),f=u.length==3?Math.abs(aI(u[2])):1,g=A1e,h=m<w;h&&(f*=-1,g=I1e);var y=u.some(D1e);d=[];for(var _=w;g(_,m);_+=f){var S;if(i)S=String.fromCharCode(_),S==="\\"&&(S="");else if(S=String(_),y){var x=p-S.length;if(x>0){var A=new Array(x+1).join("0");_<0?S="-"+A+S.slice(1):S=A+S}}d.push(S)}}else d=S1e(u,function(B){return nu(B,!1)});for(var D=0;D<d.length;D++)for(var P=0;P<l.length;P++){var U=c+d[D]+l[P];(!t||a||U)&&r.push(U)}return r}});var rK=E((hZe,tK)=>{tK.exports=Ur;Ur.Minimatch=Nt;var Rp=function(){try{return require("path")}catch{}}()||{sep:"/"};Ur.sep=Rp.sep;var lI=Ur.GLOBSTAR=Nt.GLOBSTAR={},k1e=ZH(),QH={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},cI="[^/]",uI=cI+"*?",C1e="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",T1e="(?:(?!(?:\\/|^)\\.).)*?",YH=F1e("().*{}+?[]^$\\!");function F1e(e){return e.split("").reduce(function(t,r){return t[r]=!0,t},{})}var XH=/\/+/;Ur.filter=O1e;function O1e(e,t){return t=t||{},function(r,n,o){return Ur(r,e,t)}}function $i(e,t){t=t||{};var r={};return Object.keys(e).forEach(function(n){r[n]=e[n]}),Object.keys(t).forEach(function(n){r[n]=t[n]}),r}Ur.defaults=function(e){if(!e||typeof e!="object"||!Object.keys(e).length)return Ur;var t=Ur,r=function(o,i,a){return t(o,i,$i(e,a))};return r.Minimatch=function(o,i){return new t.Minimatch(o,$i(e,i))},r.Minimatch.defaults=function(o){return t.defaults($i(e,o)).Minimatch},r.filter=function(o,i){return t.filter(o,$i(e,i))},r.defaults=function(o){return t.defaults($i(e,o))},r.makeRe=function(o,i){return t.makeRe(o,$i(e,i))},r.braceExpand=function(o,i){return t.braceExpand(o,$i(e,i))},r.match=function(n,o,i){return t.match(n,o,$i(e,i))},r};Nt.defaults=function(e){return Ur.defaults(e).Minimatch};function Ur(e,t,r){return fw(t),r||(r={}),!r.nocomment&&t.charAt(0)==="#"?!1:new Nt(t,r).match(e)}function Nt(e,t){if(!(this instanceof Nt))return new Nt(e,t);fw(e),t||(t={}),e=e.trim(),!t.allowWindowsEscape&&Rp.sep!=="/"&&(e=e.split(Rp.sep).join("/")),this.options=t,this.set=[],this.pattern=e,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.partial=!!t.partial,this.make()}Nt.prototype.debug=function(){};Nt.prototype.make=R1e;function R1e(){var e=this.pattern,t=this.options;if(!t.nocomment&&e.charAt(0)==="#"){this.comment=!0;return}if(!e){this.empty=!0;return}this.parseNegate();var r=this.globSet=this.braceExpand();t.debug&&(this.debug=function(){console.error.apply(console,arguments)}),this.debug(this.pattern,r),r=this.globParts=r.map(function(n){return n.split(XH)}),this.debug(this.pattern,r),r=r.map(function(n,o,i){return n.map(this.parse,this)},this),this.debug(this.pattern,r),r=r.filter(function(n){return n.indexOf(!1)===-1}),this.debug(this.pattern,r),this.set=r}Nt.prototype.parseNegate=B1e;function B1e(){var e=this.pattern,t=!1,r=this.options,n=0;if(!r.nonegate){for(var o=0,i=e.length;o<i&&e.charAt(o)==="!";o++)t=!t,n++;n&&(this.pattern=e.substr(n)),this.negate=t}}Ur.braceExpand=function(e,t){return eK(e,t)};Nt.prototype.braceExpand=eK;function eK(e,t){return t||(this instanceof Nt?t=this.options:t={}),e=typeof e>"u"?this.pattern:e,fw(e),t.nobrace||!/\{(?:(?!\{).)*\}/.test(e)?[e]:k1e(e)}var N1e=1024*64,fw=function(e){if(typeof e!="string")throw new TypeError("invalid pattern");if(e.length>N1e)throw new TypeError("pattern is too long")};Nt.prototype.parse=U1e;var dw={};function U1e(e,t){fw(e);var r=this.options;if(e==="**")if(r.noglobstar)e="*";else return lI;if(e==="")return"";var n="",o=!!r.nocase,i=!1,a=[],s=[],u,c=!1,l=-1,d=-1,w=e.charAt(0)==="."?"":r.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",m=this;function p(){if(u){switch(u){case"*":n+=uI,o=!0;break;case"?":n+=cI,o=!0;break;default:n+="\\"+u;break}m.debug("clearStateChar %j %j",u,n),u=!1}}for(var f=0,g=e.length,h;f<g&&(h=e.charAt(f));f++){if(this.debug("%s	%s %s %j",e,f,n,h),i&&YH[h]){n+="\\"+h,i=!1;continue}switch(h){case"/":return!1;case"\\":p(),i=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s	%s %s %j <-- stateChar",e,f,n,h),c){this.debug("  in class"),h==="!"&&f===d+1&&(h="^"),n+=h;continue}m.debug("call clearStateChar %j",u),p(),u=h,r.noext&&p();continue;case"(":if(c){n+="(";continue}if(!u){n+="\\(";continue}a.push({type:u,start:f-1,reStart:n.length,open:QH[u].open,close:QH[u].close}),n+=u==="!"?"(?:(?!(?:":"(?:",this.debug("plType %j %j",u,n),u=!1;continue;case")":if(c||!a.length){n+="\\)";continue}p(),o=!0;var y=a.pop();n+=y.close,y.type==="!"&&s.push(y),y.reEnd=n.length;continue;case"|":if(c||!a.length||i){n+="\\|",i=!1;continue}p(),n+="|";continue;case"[":if(p(),c){n+="\\"+h;continue}c=!0,d=f,l=n.length,n+=h;continue;case"]":if(f===d+1||!c){n+="\\"+h,i=!1;continue}var _=e.substring(d+1,f);try{RegExp("["+_+"]")}catch{var S=this.parse(_,dw);n=n.substr(0,l)+"\\["+S[0]+"\\]",o=o||S[1],c=!1;continue}o=!0,c=!1,n+=h;continue;default:p(),i?i=!1:YH[h]&&!(h==="^"&&c)&&(n+="\\"),n+=h}}for(c&&(_=e.substr(d+1),S=this.parse(_,dw),n=n.substr(0,l)+"\\["+S[0],o=o||S[1]),y=a.pop();y;y=a.pop()){var x=n.slice(y.reStart+y.open.length);this.debug("setting tail",n,y),x=x.replace(/((?:\\{2}){0,64})(\\?)\|/g,function(Ee,Pe,ve){return ve||(ve="\\"),Pe+Pe+ve+"|"}),this.debug(`tail=%j
   %s`,x,x,y,n);var A=y.type==="*"?uI:y.type==="?"?cI:"\\"+y.type;o=!0,n=n.slice(0,y.reStart)+A+"\\("+x}p(),i&&(n+="\\\\");var D=!1;switch(n.charAt(0)){case"[":case".":case"(":D=!0}for(var P=s.length-1;P>-1;P--){var U=s[P],B=n.slice(0,U.reStart),O=n.slice(U.reStart,U.reEnd-8),k=n.slice(U.reEnd-8,U.reEnd),R=n.slice(U.reEnd);k+=R;var q=B.split("(").length-1,ae=R;for(f=0;f<q;f++)ae=ae.replace(/\)[+*?]?/,"");R=ae;var de="";R===""&&t!==dw&&(de="$");var le=B+O+R+de+k;n=le}if(n!==""&&o&&(n="(?=.)"+n),D&&(n=w+n),t===dw)return[n,o];if(!o)return j1e(e);var te=r.nocase?"i":"";try{var pe=new RegExp("^"+n+"$",te)}catch{return new RegExp("$.")}return pe._glob=e,pe._src=n,pe}Ur.makeRe=function(e,t){return new Nt(e,t||{}).makeRe()};Nt.prototype.makeRe=q1e;function q1e(){if(this.regexp||this.regexp===!1)return this.regexp;var e=this.set;if(!e.length)return this.regexp=!1,this.regexp;var t=this.options,r=t.noglobstar?uI:t.dot?C1e:T1e,n=t.nocase?"i":"",o=e.map(function(i){return i.map(function(a){return a===lI?r:typeof a=="string"?L1e(a):a._src}).join("\\/")}).join("|");o="^(?:"+o+")$",this.negate&&(o="^(?!"+o+").*$");try{this.regexp=new RegExp(o,n)}catch{this.regexp=!1}return this.regexp}Ur.match=function(e,t,r){r=r||{};var n=new Nt(t,r);return e=e.filter(function(o){return n.match(o)}),n.options.nonull&&!e.length&&e.push(t),e};Nt.prototype.match=function(t,r){if(typeof r>"u"&&(r=this.partial),this.debug("match",t,this.pattern),this.comment)return!1;if(this.empty)return t==="";if(t==="/"&&r)return!0;var n=this.options;Rp.sep!=="/"&&(t=t.split(Rp.sep).join("/")),t=t.split(XH),this.debug(this.pattern,"split",t);var o=this.set;this.debug(this.pattern,"set",o);var i,a;for(a=t.length-1;a>=0&&(i=t[a],!i);a--);for(a=0;a<o.length;a++){var s=o[a],u=t;n.matchBase&&s.length===1&&(u=[i]);var c=this.matchOne(u,s,r);if(c)return n.flipNegate?!0:!this.negate}return n.flipNegate?!1:this.negate};Nt.prototype.matchOne=function(e,t,r){var n=this.options;this.debug("matchOne",{this:this,file:e,pattern:t}),this.debug("matchOne",e.length,t.length);for(var o=0,i=0,a=e.length,s=t.length;o<a&&i<s;o++,i++){this.debug("matchOne loop");var u=t[i],c=e[o];if(this.debug(t,u,c),u===!1)return!1;if(u===lI){this.debug("GLOBSTAR",[t,u,c]);var l=o,d=i+1;if(d===s){for(this.debug("** at the end");o<a;o++)if(e[o]==="."||e[o]===".."||!n.dot&&e[o].charAt(0)===".")return!1;return!0}for(;l<a;){var w=e[l];if(this.debug(`
globstar while`,e,l,t,d,w),this.matchOne(e.slice(l),t.slice(d),r))return this.debug("globstar found match!",l,a,w),!0;if(w==="."||w===".."||!n.dot&&w.charAt(0)==="."){this.debug("dot detected!",e,l,t,d);break}this.debug("globstar swallow a segment, and continue"),l++}return!!(r&&(this.debug(`
>>> no match, partial?`,e,l,t,d),l===a))}var m;if(typeof u=="string"?(m=c===u,this.debug("string match",u,c,m)):(m=c.match(u),this.debug("pattern match",u,c,m)),!m)return!1}if(o===a&&i===s)return!0;if(o===a)return r;if(i===s)return o===a-1&&e[o]==="";throw new Error("wtf?")};function j1e(e){return e.replace(/\\(.)/g,"$1")}function L1e(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}});var sK=E((mZe,aK)=>{"use strict";var nK=require("fs").promises,Bp=require("path"),oK=rK();async function*W1e(e,t,r={}){let n=Bp.resolve(e),o=Bp.relative(r.cwd||process.cwd(),e);if((await nK.stat(n)).isDirectory()){for await(let a of iK(n,"",t,r))yield a;return}oK(o,t,r)&&(yield r.absolute?n:o)}async function*iK(e,t,r,n){for await(let o of await nK.opendir(Bp.join(e,t))){let i=Bp.join(t,o.name),a=Bp.join(e,t,o.name),s=oK(i,r,n),u=o.isDirectory();u&&n.nodir&&(s=!1),s&&(yield n.absolute?a:i),u&&(yield*iK(e,i,r,n))}}aK.exports=W1e});var lK=E((gZe,uK)=>{"use strict";var M1e=require("fs").promises,G1e=require("fs"),$1e=sK(),cK=require("path"),z1e=or();uK.exports=async function*(t,r,n){if(n=n||{},typeof r!="string")throw z1e(new Error("Pattern must be a string"),"ERR_INVALID_PATH",{pattern:r});cK.isAbsolute(t)||(t=cK.resolve(process.cwd(),t));let o=Object.assign({},{nodir:!1,realpath:!1,absolute:!0,dot:!!n.hidden,follow:n.followSymlinks!=null?n.followSymlinks:!0});for await(let i of $1e(t,r,o)){let a=await M1e.stat(i),s=n.mode;n.preserveMode&&(s=a.mode);let u=n.mtime;n.preserveMtime&&(u=a.mtime),yield{path:H1e(i.replace(t,"")),content:a.isFile()?G1e.createReadStream(i):void 0,mode:s,mtime:u}}};var H1e=e=>e.replace(/\\/g,"/")});var dK=E((yZe,pK)=>{"use strict";var K1e=Cb(),J1e=(e,t)=>({path:decodeURIComponent(new URL(e).pathname.split("/").pop()||""),content:V1e(e,t)});async function*V1e(e,t){yield*(await new K1e().get(e,t)).iterator()}pK.exports=J1e});var hw={};ne(hw,{CID:()=>Q,create:()=>Q1e,globSource:()=>Y1e,multiaddr:()=>hK.Multiaddr,urlSource:()=>mK.default});function Q1e(e={}){let t={name:nb.name,code:nb.code,encode:c=>c,decode:c=>c},r=Object.values(gp);(e.ipld&&e.ipld.bases?e.ipld.bases:[]).forEach(c=>r.push(c));let n=new dy({bases:r,loadBase:e.ipld&&e.ipld.loadBase}),o=Object.values(M7);[B2,tP,dP,Z1e,t].concat(e.ipld&&e.ipld.codecs||[]).forEach(c=>o.push(c));let i=new fy({codecs:o,loadCodec:e.ipld&&e.ipld.loadCodec}),a=Object.values(W7);(e.ipld&&e.ipld.hashers?e.ipld.hashers:[]).forEach(c=>a.push(c));let s=new hy({hashers:a,loadHasher:e.ipld&&e.ipld.loadHasher});return{add:aH(e),addAll:cw(e),bitswap:WL(e),block:DW(e),bootstrap:GW(e),cat:cH(e),commands:lH(e),config:iM(e),dag:EM(i,e),dht:UM(e),diag:zM(e),dns:dH(e),files:bG(e),get:gH(e),getEndpointConfig:hH(e),id:pw(e),isOnline:wH(e),key:NG(e),log:$G(e),ls:SH(e),mount:xH(e),name:o$(e),object:I$(i,e),pin:cz(e),ping:PH(e),pubsub:Ez(e),refs:Dz(e),repo:Fz(e),resolve:AH(e),start:CH(e),stats:Nz(e),stop:FH(e),swarm:Qz(e),version:RH(e),bases:n,codecs:i,hashers:s}}var Z1e,fK,hK,mK,Y1e,mw=b(()=>{IB();kB();CB();iN();fU();wU();Z1e=L(A7(),1);nD();mD();ML();AW();$W();aM();xM();qM();HM();wG();UG();zG();i$();k$();uz();xz();Az();Oz();Uz();Yz();sH();oI();uH();pH();fH();mH();yH();iI();_H();EH();vH();DH();IH();TH();OH();BH();fK=L(lK(),1);Ce();hK=L(ir(),1),mK=L(dK(),1);Y1e=fK.default});var ar=b(()=>{});var pI,ou,iu,ri,Np,au,gw,oQe,yw,mt,gK,yK,zi=b(()=>{pI=BigInt(4),ou=254,iu=256,ri=4*ou/8,Np=4*iu/8,au=BigInt(ri),gw=BigInt(Np),oQe=Np/4,yw=ou/iu,mt=Np/4,gK=BigInt(mt),yK=2*mt+1});var X1e,dI,bK,bw=b(()=>{ar();zi();X1e=e=>{if(e instanceof Uint8Array){if(e.length>mt)return e.subarray(0,mt);if(e.length==mt)return e}let t=new Uint8Array(mt);return t.set([...e]),t},dI=()=>bK,bK=X1e(new Uint8Array(mt).fill(0));Object.freeze(bK.buffer)});var hs={};ne(hs,{coerce:()=>qr,empty:()=>wK,equals:()=>ww,fromHex:()=>rSe,fromString:()=>fI,isBinary:()=>nSe,toHex:()=>tSe,toString:()=>hI});function tSe(e){return e.reduce((t,r)=>t+r.toString(16).padStart(2,"0"),"")}function rSe(e){let t=e.match(/../g);return t!=null?new Uint8Array(t.map(r=>parseInt(r,16))):wK}function ww(e,t){if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0}function qr(e){if(e instanceof Uint8Array&&e.constructor.name==="Uint8Array")return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")}function nSe(e){return e instanceof ArrayBuffer||ArrayBuffer.isView(e)}function fI(e){return new TextEncoder().encode(e)}function hI(e){return new TextDecoder().decode(e)}var wK,So=b(()=>{wK=new Uint8Array(0)});var mI,gI,Sw,_w,_K=b(()=>{mI="sha2-256",gI=32,Sw=new Uint8Array([18,32]),_w=class{constructor(t){this.code=18,this.name=mI,this.bytes=t,this.size=32,this.digest=t.subarray(2)}}});var EK,oSe,yI=b(()=>{EK=L(require("node:crypto"),1);_K();oSe=e=>{let t=new Uint8Array(Sw.length+32);return t.set(Sw,0),t.set(EK.default.createHash("sha256").update(e).digest(),Sw.length),new _w(t)}});var Hi={};ne(Hi,{code:()=>aSe,digest:()=>oSe,name:()=>mI,size:()=>gI});var aSe,xK=b(()=>{ar();yI();yI();aSe=18});function vK(e){if(e===null)return"null";if(e===void 0)return"undefined";if(e===!0||e===!1)return"boolean";let t=typeof e;if(sSe.includes(t))return t;if(t==="function")return"Function";if(Array.isArray(e))return"Array";if(uSe(e))return"Buffer";let r=lSe(e);return r||"Object"}function uSe(e){return e&&e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer.call(null,e)}function lSe(e){let t=Object.prototype.toString.call(e).slice(8,-1);if(cSe.includes(t))return t}var sSe,cSe,PK=b(()=>{sSe=["string","number","bigint","symbol"],cSe=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","HTMLElement","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"]});var T,G,sr=b(()=>{T=class{constructor(t,r,n){this.major=t,this.majorEncoded=t<<5,this.name=r,this.terminal=n}toString(){return`Type[${this.major}].${this.name}`}compare(t){return this.major<t.major?-1:this.major>t.major?1:0}};T.uint=new T(0,"uint",!0);T.negint=new T(1,"negint",!0);T.bytes=new T(2,"bytes",!0);T.string=new T(3,"string",!0);T.array=new T(4,"array",!1);T.map=new T(5,"map",!1);T.tag=new T(6,"tag",!1);T.float=new T(7,"float",!0);T.false=new T(7,"false",!0);T.true=new T(7,"true",!0);T.null=new T(7,"null",!0);T.undefined=new T(7,"undefined",!0);T.break=new T(7,"break",!0);G=class{constructor(t,r,n){this.type=t,this.value=r,this.encodedLength=n,this.encodedBytes=void 0,this.byteValue=void 0}toString(){return`Token[${this.type}].${this.value}`}}});function Ew(e){return su&&globalThis.Buffer.isBuffer(e)}function Up(e){return e instanceof Uint8Array?Ew(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e:Uint8Array.from(e)}function FK(e,t){if(Ew(e)&&Ew(t))return e.compare(t);for(let r=0;r<e.length;r++)if(e[r]!==t[r])return e[r]<t[r]?-1:1;return 0}function DK(e){let t=[],r=0;for(let n=0;n<e.length;n++){let o=e.charCodeAt(n);o<128?t[r++]=o:o<2048?(t[r++]=o>>6|192,t[r++]=o&63|128):(o&64512)===55296&&n+1<e.length&&(e.charCodeAt(n+1)&64512)===56320?(o=65536+((o&1023)<<10)+(e.charCodeAt(++n)&1023),t[r++]=o>>18|240,t[r++]=o>>12&63|128,t[r++]=o>>6&63|128,t[r++]=o&63|128):(t[r++]=o>>12|224,t[r++]=o>>6&63|128,t[r++]=o&63|128)}return t}function AK(e,t,r){let n=[];for(;t<r;){let o=e[t],i=null,a=o>239?4:o>223?3:o>191?2:1;if(t+a<=r){let s,u,c,l;switch(a){case 1:o<128&&(i=o);break;case 2:s=e[t+1],(s&192)===128&&(l=(o&31)<<6|s&63,l>127&&(i=l));break;case 3:s=e[t+1],u=e[t+2],(s&192)===128&&(u&192)===128&&(l=(o&15)<<12|(s&63)<<6|u&63,l>2047&&(l<55296||l>57343)&&(i=l));break;case 4:s=e[t+1],u=e[t+2],c=e[t+3],(s&192)===128&&(u&192)===128&&(c&192)===128&&(l=(o&15)<<18|(s&63)<<12|(u&63)<<6|c&63,l>65535&&l<1114112&&(i=l))}}i===null?(i=65533,a=1):i>65535&&(i-=65536,n.push(i>>>10&1023|55296),i=56320|i&1023),n.push(i),t+=a}return bI(n)}function bI(e){let t=e.length;if(t<=IK)return String.fromCharCode.apply(String,e);let r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=IK));return r}var su,pSe,dSe,kK,xw,Eo,cu,CK,TK,IK,Ki=b(()=>{su=globalThis.process&&!globalThis.process.browser&&globalThis.Buffer&&typeof globalThis.Buffer.isBuffer=="function",pSe=new TextDecoder,dSe=new TextEncoder;kK=su?(e,t,r)=>r-t>64?globalThis.Buffer.from(e.subarray(t,r)).toString("utf8"):AK(e,t,r):(e,t,r)=>r-t>64?pSe.decode(e.subarray(t,r)):AK(e,t,r),xw=su?e=>e.length>64?globalThis.Buffer.from(e):DK(e):e=>e.length>64?dSe.encode(e):DK(e),Eo=e=>Uint8Array.from(e),cu=su?(e,t,r)=>Ew(e)?new Uint8Array(e.subarray(t,r)):e.slice(t,r):(e,t,r)=>e.slice(t,r),CK=su?(e,t)=>(e=e.map(r=>r instanceof Uint8Array?r:globalThis.Buffer.from(r)),Up(globalThis.Buffer.concat(e,t))):(e,t)=>{let r=new Uint8Array(t),n=0;for(let o of e)n+o.length>r.length&&(o=o.subarray(0,r.length-n)),r.set(o,n),n+=o.length;return r},TK=su?e=>globalThis.Buffer.allocUnsafe(e):e=>new Uint8Array(e);IK=4096});var fSe,qp,OK=b(()=>{Ki();fSe=256,qp=class{constructor(t=fSe){this.chunkSize=t,this.cursor=0,this.maxCursor=-1,this.chunks=[],this._initReuseChunk=null}reset(){this.cursor=0,this.maxCursor=-1,this.chunks.length&&(this.chunks=[]),this._initReuseChunk!==null&&(this.chunks.push(this._initReuseChunk),this.maxCursor=this._initReuseChunk.length-1)}push(t){let r=this.chunks[this.chunks.length-1];if(this.cursor+t.length<=this.maxCursor+1){let o=r.length-(this.maxCursor-this.cursor)-1;r.set(t,o)}else{if(r){let o=r.length-(this.maxCursor-this.cursor)-1;o<r.length&&(this.chunks[this.chunks.length-1]=r.subarray(0,o),this.maxCursor=this.cursor-1)}t.length<64&&t.length<this.chunkSize?(r=TK(this.chunkSize),this.chunks.push(r),this.maxCursor+=r.length,this._initReuseChunk===null&&(this._initReuseChunk=r),r.set(t,0)):(this.chunks.push(t),this.maxCursor+=t.length)}this.cursor+=t.length}toBytes(t=!1){let r;if(this.chunks.length===1){let n=this.chunks[0];t&&this.cursor>n.length/2?(r=this.cursor===n.length?n:n.subarray(0,this.cursor),this._initReuseChunk=null,this.chunks=[]):r=cu(n,0,this.cursor)}else r=CK(this.chunks,this.cursor);return t&&this.reset(),r}}});function oi(e,t,r){if(e.length-t<r)throw new Error(`${ue} not enough data for type`)}var ue,ni,jp,jr=b(()=>{ue="CBOR decode error:",ni="CBOR encode error:",jp=[];jp[23]=1;jp[24]=2;jp[25]=3;jp[26]=5;jp[27]=9});function Lr(e,t,r){oi(e,t,1);let n=e[t];if(r.strict===!0&&n<At[0])throw new Error(`${ue} integer encoded in more bytes than necessary (strict decode)`);return n}function Wr(e,t,r){oi(e,t,2);let n=e[t]<<8|e[t+1];if(r.strict===!0&&n<At[1])throw new Error(`${ue} integer encoded in more bytes than necessary (strict decode)`);return n}function Mr(e,t,r){oi(e,t,4);let n=e[t]*16777216+(e[t+1]<<16)+(e[t+2]<<8)+e[t+3];if(r.strict===!0&&n<At[2])throw new Error(`${ue} integer encoded in more bytes than necessary (strict decode)`);return n}function Gr(e,t,r){oi(e,t,8);let n=e[t]*16777216+(e[t+1]<<16)+(e[t+2]<<8)+e[t+3],o=e[t+4]*16777216+(e[t+5]<<16)+(e[t+6]<<8)+e[t+7],i=(BigInt(n)<<BigInt(32))+BigInt(o);if(r.strict===!0&&i<At[3])throw new Error(`${ue} integer encoded in more bytes than necessary (strict decode)`);if(i<=Number.MAX_SAFE_INTEGER)return Number(i);if(r.allowBigInt===!0)return i;throw new Error(`${ue} integers outside of the safe integer range are not supported`)}function RK(e,t,r,n){return new G(T.uint,Lr(e,t+1,n),2)}function BK(e,t,r,n){return new G(T.uint,Wr(e,t+1,n),3)}function NK(e,t,r,n){return new G(T.uint,Mr(e,t+1,n),5)}function UK(e,t,r,n){return new G(T.uint,Gr(e,t+1,n),9)}function un(e,t){return Ut(e,0,t.value)}function Ut(e,t,r){if(r<At[0]){let n=Number(r);e.push([t|n])}else if(r<At[1]){let n=Number(r);e.push([t|24,n])}else if(r<At[2]){let n=Number(r);e.push([t|25,n>>>8,n&255])}else if(r<At[3]){let n=Number(r);e.push([t|26,n>>>24&255,n>>>16&255,n>>>8&255,n&255])}else{let n=BigInt(r);if(n<At[4]){let o=[t|27,0,0,0,0,0,0,0],i=Number(n&BigInt(4294967295)),a=Number(n>>BigInt(32)&BigInt(4294967295));o[8]=i&255,i=i>>8,o[7]=i&255,i=i>>8,o[6]=i&255,i=i>>8,o[5]=i&255,o[4]=a&255,a=a>>8,o[3]=a&255,a=a>>8,o[2]=a&255,a=a>>8,o[1]=a&255,e.push(o)}else throw new Error(`${ue} encountered BigInt larger than allowable range`)}}var At,xo=b(()=>{sr();jr();At=[24,256,65536,4294967296,BigInt("18446744073709551616")];un.encodedSize=function(t){return Ut.encodedSize(t.value)};Ut.encodedSize=function(t){return t<At[0]?1:t<At[1]?2:t<At[2]?3:t<At[3]?5:9};un.compareTokens=function(t,r){return t.value<r.value?-1:t.value>r.value?1:0}});function qK(e,t,r,n){return new G(T.negint,-1-Lr(e,t+1,n),2)}function jK(e,t,r,n){return new G(T.negint,-1-Wr(e,t+1,n),3)}function LK(e,t,r,n){return new G(T.negint,-1-Mr(e,t+1,n),5)}function MK(e,t,r,n){let o=Gr(e,t+1,n);if(typeof o!="bigint"){let i=-1-o;if(i>=Number.MIN_SAFE_INTEGER)return new G(T.negint,i,9)}if(n.allowBigInt!==!0)throw new Error(`${ue} integers outside of the safe integer range are not supported`);return new G(T.negint,wI-BigInt(o),9)}function vw(e,t){let r=t.value,n=typeof r=="bigint"?r*wI-WK:r*-1-1;Ut(e,t.type.majorEncoded,n)}var wI,WK,_I=b(()=>{sr();xo();jr();wI=BigInt(-1),WK=BigInt(1);vw.encodedSize=function(t){let r=t.value,n=typeof r=="bigint"?r*wI-WK:r*-1-1;return n<At[0]?1:n<At[1]?2:n<At[2]?3:n<At[3]?5:9};vw.compareTokens=function(t,r){return t.value<r.value?1:t.value>r.value?-1:0}});function Lp(e,t,r,n){oi(e,t,r+n);let o=cu(e,t+r,t+r+n);return new G(T.bytes,o,r+n)}function GK(e,t,r,n){return Lp(e,t,1,r)}function $K(e,t,r,n){return Lp(e,t,2,Lr(e,t+1,n))}function zK(e,t,r,n){return Lp(e,t,3,Wr(e,t+1,n))}function HK(e,t,r,n){return Lp(e,t,5,Mr(e,t+1,n))}function KK(e,t,r,n){let o=Gr(e,t+1,n);if(typeof o=="bigint")throw new Error(`${ue} 64-bit integer bytes lengths not supported`);return Lp(e,t,9,o)}function Pw(e){return e.encodedBytes===void 0&&(e.encodedBytes=e.type===T.string?xw(e.value):e.value),e.encodedBytes}function uu(e,t){let r=Pw(t);Ut(e,t.type.majorEncoded,r.length),e.push(r)}function mSe(e,t){return e.length<t.length?-1:e.length>t.length?1:FK(e,t)}var Dw=b(()=>{sr();jr();xo();Ki();uu.encodedSize=function(t){let r=Pw(t);return Ut.encodedSize(r.length)+r.length};uu.compareTokens=function(t,r){return mSe(Pw(t),Pw(r))}});function Wp(e,t,r,n,o){let i=r+n;oi(e,t,i);let a=new G(T.string,kK(e,t+r,t+i),i);return o.retainStringBytes===!0&&(a.byteValue=cu(e,t+r,t+i)),a}function JK(e,t,r,n){return Wp(e,t,1,r,n)}function VK(e,t,r,n){return Wp(e,t,2,Lr(e,t+1,n),n)}function ZK(e,t,r,n){return Wp(e,t,3,Wr(e,t+1,n),n)}function QK(e,t,r,n){return Wp(e,t,5,Mr(e,t+1,n),n)}function YK(e,t,r,n){let o=Gr(e,t+1,n);if(typeof o=="bigint")throw new Error(`${ue} 64-bit integer string lengths not supported`);return Wp(e,t,9,o,n)}var XK,SI=b(()=>{sr();jr();xo();Dw();Ki();XK=uu});function lu(e,t,r,n){return new G(T.array,n,r)}function eJ(e,t,r,n){return lu(e,t,1,r)}function tJ(e,t,r,n){return lu(e,t,2,Lr(e,t+1,n))}function rJ(e,t,r,n){return lu(e,t,3,Wr(e,t+1,n))}function nJ(e,t,r,n){return lu(e,t,5,Mr(e,t+1,n))}function oJ(e,t,r,n){let o=Gr(e,t+1,n);if(typeof o=="bigint")throw new Error(`${ue} 64-bit integer array lengths not supported`);return lu(e,t,9,o)}function iJ(e,t,r,n){if(n.allowIndefinite===!1)throw new Error(`${ue} indefinite length items not allowed`);return lu(e,t,1,1/0)}function Aw(e,t){Ut(e,T.array.majorEncoded,t.value)}var EI=b(()=>{sr();xo();jr();Aw.compareTokens=un.compareTokens;Aw.encodedSize=function(t){return Ut.encodedSize(t.value)}});function pu(e,t,r,n){return new G(T.map,n,r)}function aJ(e,t,r,n){return pu(e,t,1,r)}function sJ(e,t,r,n){return pu(e,t,2,Lr(e,t+1,n))}function cJ(e,t,r,n){return pu(e,t,3,Wr(e,t+1,n))}function uJ(e,t,r,n){return pu(e,t,5,Mr(e,t+1,n))}function lJ(e,t,r,n){let o=Gr(e,t+1,n);if(typeof o=="bigint")throw new Error(`${ue} 64-bit integer map lengths not supported`);return pu(e,t,9,o)}function pJ(e,t,r,n){if(n.allowIndefinite===!1)throw new Error(`${ue} indefinite length items not allowed`);return pu(e,t,1,1/0)}function Iw(e,t){Ut(e,T.map.majorEncoded,t.value)}var xI=b(()=>{sr();xo();jr();Iw.compareTokens=un.compareTokens;Iw.encodedSize=function(t){return Ut.encodedSize(t.value)}});function dJ(e,t,r,n){return new G(T.tag,r,1)}function fJ(e,t,r,n){return new G(T.tag,Lr(e,t+1,n),2)}function hJ(e,t,r,n){return new G(T.tag,Wr(e,t+1,n),3)}function mJ(e,t,r,n){return new G(T.tag,Mr(e,t+1,n),5)}function gJ(e,t,r,n){return new G(T.tag,Gr(e,t+1,n),9)}function kw(e,t){Ut(e,T.tag.majorEncoded,t.value)}var vI=b(()=>{sr();xo();kw.compareTokens=un.compareTokens;kw.encodedSize=function(t){return Ut.encodedSize(t.value)}});function yJ(e,t,r,n){if(n.allowUndefined===!1)throw new Error(`${ue} undefined values are not supported`);return n.coerceUndefinedToNull===!0?new G(T.null,null,1):new G(T.undefined,void 0,1)}function bJ(e,t,r,n){if(n.allowIndefinite===!1)throw new Error(`${ue} indefinite length items not allowed`);return new G(T.break,void 0,1)}function PI(e,t,r){if(r){if(r.allowNaN===!1&&Number.isNaN(e))throw new Error(`${ue} NaN values are not supported`);if(r.allowInfinity===!1&&(e===1/0||e===-1/0))throw new Error(`${ue} Infinity values are not supported`)}return new G(T.float,e,t)}function wJ(e,t,r,n){return PI(DI(e,t+1),3,n)}function _J(e,t,r,n){return PI(AI(e,t+1),5,n)}function SJ(e,t,r,n){return PI(PJ(e,t+1),9,n)}function Cw(e,t,r){let n=t.value;if(n===!1)e.push([T.float.majorEncoded|SSe]);else if(n===!0)e.push([T.float.majorEncoded|ESe]);else if(n===null)e.push([T.float.majorEncoded|xSe]);else if(n===void 0)e.push([T.float.majorEncoded|vSe]);else{let o,i=!1;(!r||r.float64!==!0)&&(xJ(n),o=DI(Gn,1),n===o||Number.isNaN(n)?(Gn[0]=249,e.push(Gn.slice(0,3)),i=!0):(vJ(n),o=AI(Gn,1),n===o&&(Gn[0]=250,e.push(Gn.slice(0,5)),i=!0))),i||(PSe(n),o=PJ(Gn,1),Gn[0]=251,e.push(Gn.slice(0,9)))}}function xJ(e){if(e===1/0)ln.setUint16(0,31744,!1);else if(e===-1/0)ln.setUint16(0,64512,!1);else if(Number.isNaN(e))ln.setUint16(0,32256,!1);else{ln.setFloat32(0,e);let t=ln.getUint32(0),r=(t&2139095040)>>23,n=t&8388607;if(r===255)ln.setUint16(0,31744,!1);else if(r===0)ln.setUint16(0,(e&2147483648)>>16|n>>13,!1);else{let o=r-127;o<-24?ln.setUint16(0,0):o<-14?ln.setUint16(0,(t&2147483648)>>16|1<<24+o,!1):ln.setUint16(0,(t&2147483648)>>16|o+15<<10|n>>13,!1)}}}function DI(e,t){if(e.length-t<2)throw new Error(`${ue} not enough data for float16`);let r=(e[t]<<8)+e[t+1];if(r===31744)return 1/0;if(r===64512)return-1/0;if(r===32256)return NaN;let n=r>>10&31,o=r&1023,i;return n===0?i=o*2**-24:n!==31?i=(o+1024)*2**(n-25):i=o===0?1/0:NaN,r&32768?-i:i}function vJ(e){ln.setFloat32(0,e,!1)}function AI(e,t){if(e.length-t<4)throw new Error(`${ue} not enough data for float32`);let r=(e.byteOffset||0)+t;return new DataView(e.buffer,r,4).getFloat32(0,!1)}function PSe(e){ln.setFloat64(0,e,!1)}function PJ(e,t){if(e.length-t<8)throw new Error(`${ue} not enough data for float64`);let r=(e.byteOffset||0)+t;return new DataView(e.buffer,r,8).getFloat64(0,!1)}var SSe,ESe,xSe,vSe,EJ,ln,Gn,II=b(()=>{sr();jr();xo();SSe=20,ESe=21,xSe=22,vSe=23;Cw.encodedSize=function(t,r){let n=t.value;if(n===!1||n===!0||n===null||n===void 0)return 1;if(!r||r.float64!==!0){xJ(n);let o=DI(Gn,1);if(n===o||Number.isNaN(n))return 3;if(vJ(n),o=AI(Gn,1),n===o)return 5}return 9};EJ=new ArrayBuffer(9),ln=new DataView(EJ,1),Gn=new Uint8Array(EJ,0);Cw.compareTokens=un.compareTokens});function We(e,t,r){throw new Error(`${ue} encountered invalid minor (${r}) for major ${e[t]>>>5}`)}function Tw(e){return()=>{throw new Error(`${ue} ${e}`)}}function Fw(e){switch(e.type){case T.false:return Eo([244]);case T.true:return Eo([245]);case T.null:return Eo([246]);case T.bytes:return e.value.length?void 0:Eo([64]);case T.string:return e.value===""?Eo([96]):void 0;case T.array:return e.value===0?Eo([128]):void 0;case T.map:return e.value===0?Eo([160]):void 0;case T.uint:return e.value<24?Eo([Number(e.value)]):void 0;case T.negint:if(e.value>=-24)return Eo([31-Number(e.value)])}}var ee,$n,Ow=b(()=>{sr();xo();_I();Dw();SI();EI();xI();vI();II();jr();Ki();ee=[];for(let e=0;e<=23;e++)ee[e]=We;ee[24]=RK;ee[25]=BK;ee[26]=NK;ee[27]=UK;ee[28]=We;ee[29]=We;ee[30]=We;ee[31]=We;for(let e=32;e<=55;e++)ee[e]=We;ee[56]=qK;ee[57]=jK;ee[58]=LK;ee[59]=MK;ee[60]=We;ee[61]=We;ee[62]=We;ee[63]=We;for(let e=64;e<=87;e++)ee[e]=GK;ee[88]=$K;ee[89]=zK;ee[90]=HK;ee[91]=KK;ee[92]=We;ee[93]=We;ee[94]=We;ee[95]=Tw("indefinite length bytes/strings are not supported");for(let e=96;e<=119;e++)ee[e]=JK;ee[120]=VK;ee[121]=ZK;ee[122]=QK;ee[123]=YK;ee[124]=We;ee[125]=We;ee[126]=We;ee[127]=Tw("indefinite length bytes/strings are not supported");for(let e=128;e<=151;e++)ee[e]=eJ;ee[152]=tJ;ee[153]=rJ;ee[154]=nJ;ee[155]=oJ;ee[156]=We;ee[157]=We;ee[158]=We;ee[159]=iJ;for(let e=160;e<=183;e++)ee[e]=aJ;ee[184]=sJ;ee[185]=cJ;ee[186]=uJ;ee[187]=lJ;ee[188]=We;ee[189]=We;ee[190]=We;ee[191]=pJ;for(let e=192;e<=215;e++)ee[e]=dJ;ee[216]=fJ;ee[217]=hJ;ee[218]=mJ;ee[219]=gJ;ee[220]=We;ee[221]=We;ee[222]=We;ee[223]=We;for(let e=224;e<=243;e++)ee[e]=Tw("simple values are not supported");ee[244]=We;ee[245]=We;ee[246]=We;ee[247]=yJ;ee[248]=Tw("simple values are not supported");ee[249]=wJ;ee[250]=_J;ee[251]=SJ;ee[252]=We;ee[253]=We;ee[254]=We;ee[255]=bJ;$n=[];for(let e=0;e<24;e++)$n[e]=new G(T.uint,e,1);for(let e=-1;e>=-24;e--)$n[31-e]=new G(T.negint,e,1);$n[64]=new G(T.bytes,new Uint8Array(0),1);$n[96]=new G(T.string,"",1);$n[128]=new G(T.array,0,1);$n[160]=new G(T.map,0,1);$n[244]=new G(T.false,!1,1);$n[245]=new G(T.true,!0,1);$n[246]=new G(T.null,null,1)});function CI(){let e=[];return e[T.uint.major]=un,e[T.negint.major]=vw,e[T.bytes.major]=uu,e[T.string.major]=XK,e[T.array.major]=Aw,e[T.map.major]=Iw,e[T.tag.major]=kw,e[T.float.major]=Cw,e}function Mp(e,t={},r){let n=vK(e),o=t&&t.typeEncoders&&t.typeEncoders[n]||Vi[n];if(typeof o=="function"){let a=o(e,n,t,r);if(a!=null)return a}let i=Vi[n];if(!i)throw new Error(`${ni} unsupported type: ${n}`);return i(e,n,t,r)}function ISe(e,t){t.mapSorter&&e.sort(t.mapSorter)}function kSe(e,t){let r=Array.isArray(e[0])?e[0][0]:e[0],n=Array.isArray(t[0])?t[0][0]:t[0];if(r.type!==n.type)return r.type.compare(n.type);let o=r.type.major,i=DJ[o].compareTokens(r,n);return i===0&&console.warn("WARNING: complex key types used, CBOR key sorting guarantees are gone"),i}function AJ(e,t,r,n){if(Array.isArray(t))for(let o of t)AJ(e,o,r,n);else r[t.type.major](e,t,n)}function TI(e,t,r){let n=Mp(e,r);if(!Array.isArray(n)&&r.quickEncodeToken){let o=r.quickEncodeToken(n);if(o)return o;let i=t[n.type.major];if(i.encodedSize){let a=i.encodedSize(n,r),s=new qp(a);if(i(s,n,r),s.chunks.length!==1)throw new Error(`Unexpected error: pre-calculated length for ${n} was wrong`);return Up(s.chunks[0])}}return kI.reset(),AJ(kI,n,t,r),kI.toBytes(!0)}function FI(e,t){return t=Object.assign({},ASe,t),TI(e,DJ,t)}var ASe,DJ,kI,Rw,Ji,Vi,Bw=b(()=>{PK();sr();OK();jr();Ow();Ki();xo();_I();Dw();SI();EI();xI();vI();II();ASe={float64:!1,mapSorter:kSe,quickEncodeToken:Fw};DJ=CI(),kI=new qp,Rw=class e{constructor(t,r){this.obj=t,this.parent=r}includes(t){let r=this;do if(r.obj===t)return!0;while(r=r.parent);return!1}static createCheck(t,r){if(t&&t.includes(r))throw new Error(`${ni} object contains circular references`);return new e(r,t)}},Ji={null:new G(T.null,null),undefined:new G(T.undefined,void 0),true:new G(T.true,!0),false:new G(T.false,!1),emptyArray:new G(T.array,0),emptyMap:new G(T.map,0)},Vi={number(e,t,r,n){return!Number.isInteger(e)||!Number.isSafeInteger(e)?new G(T.float,e):e>=0?new G(T.uint,e):new G(T.negint,e)},bigint(e,t,r,n){return e>=BigInt(0)?new G(T.uint,e):new G(T.negint,e)},Uint8Array(e,t,r,n){return new G(T.bytes,e)},string(e,t,r,n){return new G(T.string,e)},boolean(e,t,r,n){return e?Ji.true:Ji.false},null(e,t,r,n){return Ji.null},undefined(e,t,r,n){return Ji.undefined},ArrayBuffer(e,t,r,n){return new G(T.bytes,new Uint8Array(e))},DataView(e,t,r,n){return new G(T.bytes,new Uint8Array(e.buffer,e.byteOffset,e.byteLength))},Array(e,t,r,n){if(!e.length)return r.addBreakTokens===!0?[Ji.emptyArray,new G(T.break)]:Ji.emptyArray;n=Rw.createCheck(n,e);let o=[],i=0;for(let a of e)o[i++]=Mp(a,r,n);return r.addBreakTokens?[new G(T.array,e.length),o,new G(T.break)]:[new G(T.array,e.length),o]},Object(e,t,r,n){let o=t!=="Object",i=o?e.keys():Object.keys(e),a=o?e.size:i.length;if(!a)return r.addBreakTokens===!0?[Ji.emptyMap,new G(T.break)]:Ji.emptyMap;n=Rw.createCheck(n,e);let s=[],u=0;for(let c of i)s[u++]=[Mp(c,r,n),Mp(o?e.get(c):e[c],r,n)];return ISe(s,r),r.addBreakTokens?[new G(T.map,a),s,new G(T.break)]:[new G(T.map,a),s]}};Vi.Map=Vi.Object;Vi.Buffer=Vi.Uint8Array;for(let e of"Uint8Clamped Uint16 Uint32 Int8 Int16 Int32 BigUint64 BigInt64 Float32 Float64".split(" "))Vi[`${e}Array`]=Vi.DataView});function TSe(e,t,r){let n=[];for(let o=0;o<e.value;o++){let i=du(t,r);if(i===Uw){if(e.value===1/0)break;throw new Error(`${ue} got unexpected break to lengthed array`)}if(i===Gp)throw new Error(`${ue} found array but not enough entries (got ${o}, expected ${e.value})`);n[o]=i}return n}function FSe(e,t,r){let n=r.useMaps===!0,o=n?void 0:{},i=n?new Map:void 0;for(let a=0;a<e.value;a++){let s=du(t,r);if(s===Uw){if(e.value===1/0)break;throw new Error(`${ue} got unexpected break to lengthed map`)}if(s===Gp)throw new Error(`${ue} found map but not enough entries (got ${a} [no key], expected ${e.value})`);if(n!==!0&&typeof s!="string")throw new Error(`${ue} non-string keys not supported (got ${typeof s})`);if(r.rejectDuplicateMapKeys===!0&&(n&&i.has(s)||!n&&s in o))throw new Error(`${ue} found repeat map key "${s}"`);let u=du(t,r);if(u===Gp)throw new Error(`${ue} found map but not enough entries (got ${a} [no value], expected ${e.value})`);n?i.set(s,u):o[s]=u}return n?i:o}function du(e,t){if(e.done())return Gp;let r=e.next();if(r.type===T.break)return Uw;if(r.type.terminal)return r.value;if(r.type===T.array)return TSe(r,e,t);if(r.type===T.map)return FSe(r,e,t);if(r.type===T.tag){if(t.tags&&typeof t.tags[r.value]=="function"){let n=du(e,t);return t.tags[r.value](n)}throw new Error(`${ue} tag not supported (${r.value})`)}throw new Error("unsupported")}function OI(e,t){if(!(e instanceof Uint8Array))throw new Error(`${ue} data to decode must be a Uint8Array`);t=Object.assign({},CSe,t);let r=t.tokenizer||new Nw(e,t),n=du(r,t);if(n===Gp)throw new Error(`${ue} did not find any content to decode`);if(n===Uw)throw new Error(`${ue} got unexpected break`);return[n,e.subarray(r.pos())]}function $p(e,t){let[r,n]=OI(e,t);if(n.length>0)throw new Error(`${ue} too many terminals, data makes no sense`);return r}var CSe,Nw,Gp,Uw,RI=b(()=>{jr();sr();Ow();CSe={strict:!1,allowIndefinite:!0,allowUndefined:!0,allowBigInt:!0},Nw=class{constructor(t,r={}){this._pos=0,this.data=t,this.options=r}pos(){return this._pos}done(){return this._pos>=this.data.length}next(){let t=this.data[this._pos],r=$n[t];if(r===void 0){let n=ee[t];if(!n)throw new Error(`${ue} no decoder for major type ${t>>>5} (byte 0x${t.toString(16).padStart(2,"0")})`);let o=t&31;r=n(this.data,this._pos,o,this.options)}return this._pos+=r.encodedLength,r}},Gp=Symbol.for("DONE"),Uw=Symbol.for("BREAK")});var qw=b(()=>{Bw();RI();sr()});function RSe(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var o=0;o<e.length;o++){var i=e.charAt(o),a=i.charCodeAt(0);if(r[a]!==255)throw new TypeError(i+" is ambiguous");r[a]=o}var s=e.length,u=e.charAt(0),c=Math.log(s)/Math.log(256),l=Math.log(256)/Math.log(s);function d(p){if(p instanceof Uint8Array||(ArrayBuffer.isView(p)?p=new Uint8Array(p.buffer,p.byteOffset,p.byteLength):Array.isArray(p)&&(p=Uint8Array.from(p))),!(p instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(p.length===0)return"";for(var f=0,g=0,h=0,y=p.length;h!==y&&p[h]===0;)h++,f++;for(var _=(y-h)*l+1>>>0,S=new Uint8Array(_);h!==y;){for(var x=p[h],A=0,D=_-1;(x!==0||A<g)&&D!==-1;D--,A++)x+=256*S[D]>>>0,S[D]=x%s>>>0,x=x/s>>>0;if(x!==0)throw new Error("Non-zero carry");g=A,h++}for(var P=_-g;P!==_&&S[P]===0;)P++;for(var U=u.repeat(f);P<_;++P)U+=e.charAt(S[P]);return U}function w(p){if(typeof p!="string")throw new TypeError("Expected String");if(p.length===0)return new Uint8Array;var f=0;if(p[f]!==" "){for(var g=0,h=0;p[f]===u;)g++,f++;for(var y=(p.length-f)*c+1>>>0,_=new Uint8Array(y);p[f];){var S=r[p.charCodeAt(f)];if(S===255)return;for(var x=0,A=y-1;(S!==0||x<h)&&A!==-1;A--,x++)S+=s*_[A]>>>0,_[A]=S%256>>>0,S=S/256>>>0;if(S!==0)throw new Error("Non-zero carry");h=x,f++}if(p[f]!==" "){for(var D=y-h;D!==y&&_[D]===0;)D++;for(var P=new Uint8Array(g+(y-D)),U=g;D!==y;)P[U++]=_[D++];return P}}}function m(p){var f=w(p);if(f)return f;throw new Error(`Non-${t} character`)}return{encode:d,decodeUnsafe:w,decode:m}}var BSe,NSe,IJ,kJ=b(()=>{BSe=RSe,NSe=BSe,IJ=NSe});function CJ(e,t){return new UI({...e.decoders??{[e.prefix]:e},...t.decoders??{[t.prefix]:t}})}function fu({name:e,prefix:t,encode:r,decode:n}){return new qI(e,t,r,n)}function Zi({name:e,prefix:t,alphabet:r}){let{encode:n,decode:o}=IJ(r,e);return fu({prefix:t,name:e,encode:n,decode:i=>qr(o(i))})}function USe(e,t,r,n){let o={};for(let l=0;l<t.length;++l)o[t[l]]=l;let i=e.length;for(;e[i-1]==="=";)--i;let a=new Uint8Array(i*r/8|0),s=0,u=0,c=0;for(let l=0;l<i;++l){let d=o[e[l]];if(d===void 0)throw new SyntaxError(`Non-${n} character`);u=u<<r|d,s+=r,s>=8&&(s-=8,a[c++]=255&u>>s)}if(s>=r||255&u<<8-s)throw new SyntaxError("Unexpected end of data");return a}function qSe(e,t,r){let n=t[t.length-1]==="=",o=(1<<r)-1,i="",a=0,s=0;for(let u=0;u<e.length;++u)for(s=s<<8|e[u],a+=8;a>r;)a-=r,i+=t[o&s>>a];if(a!==0&&(i+=t[o&s<<r-a]),n)for(;i.length*r&7;)i+="=";return i}function tt({name:e,prefix:t,bitsPerChar:r,alphabet:n}){return fu({prefix:t,name:e,encode(o){return qSe(o,n,r)},decode(o){return USe(o,n,r,e)}})}var BI,NI,UI,qI,zn=b(()=>{So();kJ();BI=class{name;prefix;baseEncode;constructor(t,r,n){this.name=t,this.prefix=r,this.baseEncode=n}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}},NI=class{name;prefix;baseDecode;prefixCodePoint;constructor(t,r,n){this.name=t,this.prefix=r;let o=r.codePointAt(0);if(o===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=o,this.baseDecode=n}decode(t){if(typeof t=="string"){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(t){return CJ(this,t)}},UI=class{decoders;constructor(t){this.decoders=t}or(t){return CJ(this,t)}decode(t){let r=t[0],n=this.decoders[r];if(n!=null)return n.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};qI=class{name;prefix;baseEncode;baseDecode;encoder;decoder;constructor(t,r,n,o){this.name=t,this.prefix=r,this.baseEncode=n,this.baseDecode=o,this.encoder=new BI(t,r,n),this.decoder=new NI(t,r,o)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}}});var jI={};ne(jI,{base32:()=>hu,base32hex:()=>MSe,base32hexpad:()=>$Se,base32hexpadupper:()=>zSe,base32hexupper:()=>GSe,base32pad:()=>LSe,base32padupper:()=>WSe,base32upper:()=>jSe,base32z:()=>HSe});var hu,jSe,LSe,WSe,MSe,GSe,$Se,zSe,HSe,LI=b(()=>{zn();hu=tt({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),jSe=tt({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),LSe=tt({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),WSe=tt({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),MSe=tt({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),GSe=tt({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),$Se=tt({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),zSe=tt({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),HSe=tt({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5})});var WI={};ne(WI,{base36:()=>zp,base36upper:()=>KSe});var zp,KSe,MI=b(()=>{zn();zp=Zi({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),KSe=Zi({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"})});var GI={};ne(GI,{base58btc:()=>pn,base58flickr:()=>JSe});var pn,JSe,jw=b(()=>{zn();pn=Zi({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),JSe=Zi({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"})});function OJ(e,t,r){t=t||[],r=r||0;for(var n=r;e>=YSe;)t[r++]=e&255|TJ,e/=128;for(;e&QSe;)t[r++]=e&255|TJ,e>>>=7;return t[r]=e|0,OJ.bytes=r-n+1,t}function $I(e,n){var r=0,n=n||0,o=0,i=n,a,s=e.length;do{if(i>=s)throw $I.bytes=0,new RangeError("Could not decode varint");a=e[i++],r+=o<28?(a&FJ)<<o:(a&FJ)*Math.pow(2,o),o+=7}while(a>=eEe);return $I.bytes=i-n,r}var VSe,TJ,ZSe,QSe,YSe,XSe,eEe,FJ,tEe,rEe,nEe,oEe,iEe,aEe,sEe,cEe,uEe,lEe,pEe,dEe,Hp,RJ=b(()=>{VSe=OJ,TJ=128,ZSe=127,QSe=~ZSe,YSe=Math.pow(2,31);XSe=$I,eEe=128,FJ=127;tEe=Math.pow(2,7),rEe=Math.pow(2,14),nEe=Math.pow(2,21),oEe=Math.pow(2,28),iEe=Math.pow(2,35),aEe=Math.pow(2,42),sEe=Math.pow(2,49),cEe=Math.pow(2,56),uEe=Math.pow(2,63),lEe=function(e){return e<tEe?1:e<rEe?2:e<nEe?3:e<oEe?4:e<iEe?5:e<aEe?6:e<sEe?7:e<cEe?8:e<uEe?9:10},pEe={encode:VSe,decode:XSe,encodingLength:lEe},dEe=pEe,Hp=dEe});var He={};ne(He,{decode:()=>mu,encodeTo:()=>gs,encodingLength:()=>ys});function mu(e,t=0){return[Hp.decode(e,t),Hp.decode.bytes]}function gs(e,t,r=0){return Hp.encode(e,t,r),t}function ys(e){return Hp.encodingLength(e)}var Lw=b(()=>{RJ()});function bs(e,t){let r=t.byteLength,n=ys(e),o=n+ys(r),i=new Uint8Array(o+r);return gs(e,i,0),gs(r,i,n),i.set(t,o),new gu(e,r,t,i)}function dn(e){let t=qr(e),[r,n]=mu(t),[o,i]=mu(t.subarray(n)),a=t.subarray(n+i);if(a.byteLength!==o)throw new Error("Incorrect length");return new gu(r,o,a,t)}function BJ(e,t){if(e===t)return!0;{let r=t;return e.code===r.code&&e.size===r.size&&r.bytes instanceof Uint8Array&&ww(e.bytes,r.bytes)}}var gu,ii=b(()=>{So();Lw();gu=class{code;size;digest;bytes;constructor(t,r,n,o){this.code=t,this.size=r,this.digest=n,this.bytes=o}}});var Ww=b(()=>{});function zI(e,t){let{bytes:r,version:n}=e;switch(n){case 0:return hEe(r,HI(e),t??pn.encoder);default:return mEe(r,HI(e),t??hu.encoder)}}function HI(e){let t=NJ.get(e);if(t==null){let r=new Map;return NJ.set(e,r),r}return t}function fEe(e,t){switch(e[0]){case"Q":{let r=t??pn;return[pn.prefix,r.decode(`${pn.prefix}${e}`)]}case pn.prefix:{let r=t??pn;return[pn.prefix,r.decode(e)]}case hu.prefix:{let r=t??hu;return[hu.prefix,r.decode(e)]}case zp.prefix:{let r=t??zp;return[zp.prefix,r.decode(e)]}default:{if(t==null)throw Error("To parse non base32, base36 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}}}function hEe(e,t,r){let{prefix:n}=r;if(n!==pn.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);let o=t.get(n);if(o==null){let i=r.encode(e).slice(1);return t.set(n,i),i}else return o}function mEe(e,t,r){let{prefix:n}=r,o=t.get(n);if(o==null){let i=r.encode(e);return t.set(n,i),i}else return o}function UJ(e,t,r){let n=ys(e),o=n+ys(t),i=new Uint8Array(o+r.byteLength);return gs(e,i,0),gs(t,i,n),i.set(r,o),i}var NJ,$e,Kp,gEe,yEe,vo=b(()=>{LI();MI();jw();So();ii();Lw();Ww();NJ=new WeakMap;$e=class e{code;version;multihash;bytes;"/";constructor(t,r,n,o){this.code=r,this.version=t,this.multihash=n,this.bytes=o,this["/"]=o}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{let{code:t,multihash:r}=this;if(t!==Kp)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(r.code!==gEe)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return e.createV0(r)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{let{code:t,digest:r}=this.multihash,n=bs(t,r);return e.createV1(this.code,n)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(t){return e.equals(this,t)}static equals(t,r){let n=r;return n!=null&&t.code===n.code&&t.version===n.version&&BJ(t.multihash,n.multihash)}toString(t){return zI(this,t)}toJSON(){return{"/":zI(this)}}link(){return this}[Symbol.toStringTag]="CID";[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(t){if(t==null)return null;let r=t;if(r instanceof e)return r;if(r["/"]!=null&&r["/"]===r.bytes||r.asCID===r){let{version:n,code:o,multihash:i,bytes:a}=r;return new e(n,o,i,a??UJ(n,o,i.bytes))}else if(r[yEe]===!0){let{version:n,multihash:o,code:i}=r,a=dn(o);return e.create(n,i,a)}else return null}static create(t,r,n){if(typeof r!="number")throw new Error("String codecs are no longer supported");if(!(n.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(t){case 0:{if(r!==Kp)throw new Error(`Version 0 CID must use dag-pb (code: ${Kp}) block encoding`);return new e(t,r,n,n.bytes)}case 1:{let o=UJ(t,r,n.bytes);return new e(t,r,n,o)}default:throw new Error("Invalid version")}}static createV0(t){return e.create(0,Kp,t)}static createV1(t,r){return e.create(1,t,r)}static decode(t){let[r,n]=e.decodeFirst(t);if(n.length!==0)throw new Error("Incorrect length");return r}static decodeFirst(t){let r=e.inspectBytes(t),n=r.size-r.multihashSize,o=qr(t.subarray(n,n+r.multihashSize));if(o.byteLength!==r.multihashSize)throw new Error("Incorrect length");let i=o.subarray(r.multihashSize-r.digestSize),a=new gu(r.multihashCode,r.digestSize,i,o);return[r.version===0?e.createV0(a):e.createV1(r.codec,a),t.subarray(r.size)]}static inspectBytes(t){let r=0,n=()=>{let[d,w]=mu(t.subarray(r));return r+=w,d},o=n(),i=Kp;if(o===18?(o=0,r=0):i=n(),o!==0&&o!==1)throw new RangeError(`Invalid CID version ${o}`);let a=r,s=n(),u=n(),c=r+u,l=c-a;return{version:o,codec:i,multihashCode:s,digestSize:u,multihashSize:l,size:c}}static parse(t,r){let[n,o]=fEe(t,r),i=e.decode(o);if(i.version===0&&t[0]!=="Q")throw Error("Version 0 CID string must not include multibase prefix");return HI(i).set(n,t),i}};Kp=112,gEe=18;yEe=Symbol.for("@ipld/js-cid/CID")});function bEe(e){return e instanceof ArrayBuffer?new Uint8Array(e,0,e.byteLength):e}function wEe(e){if(e.asCID!==e&&e["/"]!==e.bytes)return null;let t=$e.asCID(e);if(!t)return null;let r=new Uint8Array(t.bytes.byteLength+1);return r.set(t.bytes,1),[new G(T.tag,qJ),new G(T.bytes,r)]}function _Ee(){throw new Error("`undefined` is not supported by the IPLD Data Model and cannot be encoded")}function SEe(e){if(Number.isNaN(e))throw new Error("`NaN` is not supported by the IPLD Data Model and cannot be encoded");if(e===1/0||e===-1/0)throw new Error("`Infinity` and `-Infinity` is not supported by the IPLD Data Model and cannot be encoded");return null}function EEe(e){if(e[0]!==0)throw new Error("Invalid CID for CBOR tag 42; expected leading 0x00");return $e.decode(e.subarray(1))}var qJ,KI,DYe,Mw,AYe,JI,Po,Kt,Jt,$r=b(()=>{qw();vo();qJ=42;KI={float64:!0,typeEncoders:{Object:wEe,undefined:_Ee,number:SEe}},DYe={...KI,typeEncoders:{...KI.typeEncoders}};Mw={allowIndefinite:!1,coerceUndefinedToNull:!0,allowNaN:!1,allowInfinity:!1,allowBigInt:!0,strict:!0,useMaps:!1,rejectDuplicateMapKeys:!0,tags:[]};Mw.tags[qJ]=EEe;AYe={...Mw,tags:Mw.tags.slice()},JI="dag-cbor",Po=113,Kt=e=>FI(e,KI),Jt=e=>$p(bEe(e),Mw)});var jJ=b(()=>{ar();$r()});function LJ(e){return $e.create(0,vEe,e)}function bu(e,t){return $e.create(1,e,t)}var vEe,Gw=b(()=>{vo();Ww();vEe=112});var VI=b(()=>{ar();xK();jJ();Gw()});function PEe(e,t={}){let r=t.hasher||Hi,{digest:n}=r.digest(e);return DEe(n)}function DEe(e){return e[mt-1]&=63,e}var wu,Jp=b(()=>{ar();So();bw();VI();wu=(e,t,r)=>{let n=new Uint8Array(e.length+t.length);return n.set(e,0),n.set(t,e.length),PEe(n,r)}});var ZI,QI,AEe,GJ,$J=b(()=>{ar();bw();Jp();ZI=64,QI=class{constructor(){this.bytes=new Uint8Array(ZI*mt),this.bytes.set(dI(),0),this.node=dI(),this.length=mt}slice(t,r){for(;this.length<r;)this.node=wu(this.node,this.node),this.bytes.set(this.node,this.length),this.length+=mt;return this.bytes.subarray(t,r)}},AEe=new QI,GJ=e=>{if(e<0||e>=ZI)throw new Error(`Only levels between 0 and ${ZI-1} inclusive are available`);return AEe.slice(mt*e,mt*(e+1))}});var MYe,$w,zJ=b(()=>{ar();bw();Jp();Jp();MYe=2**32-1,$w=e=>{let t=e.length/mt,r=new Array(t);for(let n=0;n<t;n++){let o=n*mt,i=e.subarray(o,o+mt);r[n]=i}return r}});function HJ(e){let t=Math.max(e,yK),r=Math.floor(Math.log2(t)),n=Math.ceil(yw*2**(r+1));return t<=n?n:Math.ceil(yw*2**(r+2))}var kEe,zw,KJ=b(()=>{ar();zi();kEe=e=>HJ(e)/yw,zw=(e,t=new Uint8Array(kEe(e.length)))=>{let n=HJ(e.byteLength)/ri;for(let o=0;o<n;o++){let i=o*ri,a=o*Np;t.set(e.subarray(i,i+32),a),t[a+31]&=63;for(let s=32;s<64;s++)t[a+s]=e[i+s]<<2|e[i+s-1]>>6;t[a+63]&=63;for(let s=64;s<96;s++)t[a+s]=e[i+s]<<4|e[i+s-1]>>4;t[a+95]&=63;for(let s=96;s<127;s++)t[a+s]=e[i+s]<<6|e[i+s-1]>>2;t[a+127]=e[i+126]>>2}return t}});var CEe,Vp,Hw=b(()=>{ar();CEe=e=>{let t=0n;for(;e>>=1n;)t++;return Number(t)},Vp=e=>e<=1n?0:CEe(BigInt(e)-1n)+1});var JJ,Kw=b(()=>{ar();Hw();zi();JJ=e=>2n**BigInt(e-2)*au});var Jw={};ne(Jw,{fromPiece:()=>TEe,toExpanded:()=>QJ,toHeight:()=>OEe,toPadded:()=>ZJ,toPadding:()=>FEe,toWidth:()=>YJ});var TEe,FEe,ZJ,QJ,YJ,OEe,YI,XI=b(()=>{ar();zi();Hw();Kw();TEe=({height:e,padding:t})=>JJ(e)-t,FEe=e=>ZJ(e)-e,ZJ=e=>YI(e)*au,QJ=e=>YI(e)*gw,YJ=e=>YI(e)*pI,OEe=e=>Vp(YJ(e)),YI=e=>{let t=(e+au-1n)/au;return 2n**BigInt(Vp(t))}});var Vw,REe,Zp=b(()=>{ar();zi();Hw();Kw();XI();Vw=e=>REe(2n**BigInt(e)),REe=e=>e*gK});var XJ=b(()=>{XI();Kw();Zp();Zp()});function ws({name:e,code:t,encode:r}){return new e3(e,t,r)}var e3,Zw=b(()=>{ii();e3=class{name;code;encode;constructor(t,r,n){this.name=t,this.code=r,this.encode=n}digest(t){if(t instanceof Uint8Array){let r=this.encode(t);return r instanceof Uint8Array?bs(this.code,r):r.then(n=>bs(this.code,n))}else throw Error("Unknown type, must be binary type")}}});var tV=b(()=>{});var rV=b(()=>{});var nV=b(()=>{});var oV=b(()=>{});var iV=b(()=>{tV();rV();nV();Ww();oV()});var _u=b(()=>{So();vo();ii();Zw();Lw();iV()});var o3={};ne(o3,{HEIGHT_SIZE:()=>Xi,MAX_DIGEST_SIZE:()=>t3,MAX_HEIGHT:()=>sV,MAX_PAYLOAD_SIZE:()=>UEe,MAX_SIZE:()=>r3,ROOT_SIZE:()=>Yw,TAG_SIZE:()=>ai,code:()=>Yi,fromBytes:()=>n3,fromPiece:()=>qEe,height:()=>cV,name:()=>aV,padding:()=>uV,root:()=>lV,toBytes:()=>jEe});var aV,Yi,NEe,Xi,Yw,t3,ai,r3,sV,UEe,qEe,n3,jEe,cV,uV,lV,Qw,pV=b(()=>{_u();ar();zi();VI();Zp();aV="fr32-sha2-256-trunc254-padded-binary-tree",Yi=4113,NEe=9,Xi=1,Yw=Hi.size,t3=NEe+Xi+Hi.size,ai=He.encodingLength(Yi),r3=ai+He.encodingLength(t3)+t3,sV=255,UEe=Vw(sV)*BigInt(ou)/BigInt(iu),qEe=({padding:e,height:t,root:r})=>{let n=He.encodingLength(Number(e)),o=n+Xi+Yw,i=He.encodingLength(o),a=ai+i+o,s=0,u=new Uint8Array(a);return He.encodeTo(Yi,u,s),s+=ai,He.encodeTo(o,u,s),s+=i,He.encodeTo(Number(e),u,s),s+=n,u[s]=t,s+=Xi,u.set(r,s),new Qw(u)},n3=e=>new Qw(e),jEe=({digest:e})=>{let r=He.encodingLength(e.length)+ai;if(e.byteOffset>=r){let o=new Uint8Array(e.buffer,e.byteOffset-r,e.byteOffset+e.length),[i,a]=He.decode(o);if(i===Yi&&He.decode(o,a)[0]===e.length)return o}let n=new Uint8Array(e.length+r);return He.encodeTo(Yi,n),He.encodeTo(e.length,n,ai),n.set(e,r),n},cV=({digest:e})=>{let[,t]=He.decode(e);return e[t]},uV=({digest:e})=>{let[t]=He.decode(e);return BigInt(t)},lV=({digest:e})=>{let[,t]=He.decode(e);return e.subarray(t+Xi,t+Xi+Hi.size)},Qw=class{constructor(t){this.bytes=t;let[r]=He.decode(t);if(r!==Yi)throw new RangeError(`Expected multihash with code ${Yi}`);let n=ai,[o,i]=He.decode(t,n);n+=i;let a=t.subarray(n);if(a.length!==o)throw new RangeError(`Invalid multihash size expected ${n+o} bytes, got ${t.length} bytes`);this.digest=a}get name(){return aV}get code(){return Yi}get size(){return this.digest.length}get padding(){return uV(this)}get height(){return cV(this)}get root(){return lV(this)}}});var s3={};ne(s3,{Digest:()=>o3,MAX_HEIGHT:()=>fV,MAX_PAYLOAD_SIZE:()=>a3,code:()=>i3,create:()=>WEe,digest:()=>LEe,name:()=>dV});var dV,i3,fV,a3,LEe,WEe,Xw,MEe,GEe,hV,mV=b(()=>{ar();zi();$J();Jp();zJ();KJ();Zp();XJ();pV();_u();dV="fr32-sha2-256-trunc254-padded-binary-tree",i3=4113,fV=255,a3=Vw(fV)*BigInt(ou)/BigInt(iu),LEe=e=>{let t=new Xw;return t.write(e),t.digest()},WEe=()=>new Xw,Xw=class{constructor(){this.bytesWritten=0n,this.buffer=new Uint8Array(ri),this.offset=0,this.layers=[[]]}count(){return this.bytesWritten}digest(){let t=new Uint8Array(r3),r=this.digestInto(t,0,!0);return n3(t.subarray(0,r))}digestInto(t,r=0,n=!0){let{buffer:o,layers:i,offset:a,bytesWritten:s}=this,[u,...c]=i;(a>0||s===0n)&&(u=[...u,...$w(zw(o.fill(0,a)))]);let l=GEe([u,...c]),d=l.length-1,[w]=l[d],m=Number(Jw.toPadding(this.bytesWritten)),p=He.encodingLength(m),f=r;if(n){He.encodeTo(i3,t,f),f+=ai;let g=p+Xi+Yw,h=He.encodingLength(g);He.encodeTo(g,t,f),f+=h}return He.encodeTo(m,t,f),f+=p,t[f]=d,f+=1,t.set(w,f),f+=w.length,f-r}write(t){let{buffer:r,offset:n,layers:o}=this,i=o[0],{length:a}=t;if(a===0)return this;if(this.bytesWritten+BigInt(a)>a3)throw new RangeError(`Writing ${a} bytes exceeds max payload size of ${a3}`);if(n+a<r.length)return r.set(t,n),this.offset+=a,this.bytesWritten+=BigInt(a),this;{let s=r.length-n;r.set(t.subarray(0,s),n),i.push(...$w(zw(r)));let u=s;for(;u+ri<a;){let c=t.subarray(u,u+ri);i.push(...$w(zw(c))),u+=ri}return this.buffer.set(t.subarray(u),0),this.offset=a-u,this.bytesWritten+=BigInt(a),MEe(this.layers),this}}reset(){return this.offset=0,this.bytesWritten=0n,this.layers.length=1,this.layers[0].length=0,this}dispose(){this.reset()}get code(){return i3}get name(){return dV}},MEe=e=>hV(e,!1),GEe=e=>hV([...e],!0),hV=(e,t)=>{let r=0;for(;r<e.length;){let n=e[r+1],o=e[r];t&&o.length%2>0&&n&&o.push(GJ(r)),r+=1,n=n?t?[...n]:n:[];let i=0;for(;i+1<o.length;){let a=wu(o[i],o[i+1]);delete o[i],delete o[i+1],n.push(a),i+=2}n.length&&(e[r]=n),o.splice(0,i)}return e}});var c3=b(()=>{});var gV=b(()=>{});var $Ee,zEe,Do,ea,_s=b(()=>{$Ee=new TextEncoder,zEe=new TextDecoder,Do=e=>$Ee.encode(e),ea=e=>zEe.decode(e)});var u3=b(()=>{});function wV(e,t,r){t=t||[],r=r||0;for(var n=r;e>=VEe;)t[r++]=e&255|yV,e/=128;for(;e&JEe;)t[r++]=e&255|yV,e>>>=7;return t[r]=e|0,wV.bytes=r-n+1,t}function l3(e,n){var r=0,n=n||0,o=0,i=n,a,s=e.length;do{if(i>=s)throw l3.bytes=0,new RangeError("Could not decode varint");a=e[i++],r+=o<28?(a&bV)<<o:(a&bV)*Math.pow(2,o),o+=7}while(a>=QEe);return l3.bytes=i-n,r}var HEe,yV,KEe,JEe,VEe,ZEe,QEe,bV,YEe,XEe,exe,txe,rxe,nxe,oxe,ixe,axe,sxe,cxe,uxe,Yp,_V=b(()=>{HEe=wV,yV=128,KEe=127,JEe=~KEe,VEe=Math.pow(2,31);ZEe=l3,QEe=128,bV=127;YEe=Math.pow(2,7),XEe=Math.pow(2,14),exe=Math.pow(2,21),txe=Math.pow(2,28),rxe=Math.pow(2,35),nxe=Math.pow(2,42),oxe=Math.pow(2,49),ixe=Math.pow(2,56),axe=Math.pow(2,63),sxe=function(e){return e<YEe?1:e<XEe?2:e<exe?3:e<txe?4:e<rxe?5:e<nxe?6:e<oxe?7:e<ixe?8:e<axe?9:10},cxe={encode:HEe,decode:ZEe,encodingLength:sxe},uxe=cxe,Yp=uxe});var Ie={};ne(Ie,{decode:()=>Su,encodeTo:()=>Ss,encodingLength:()=>Es});var Su,Ss,Es,e_=b(()=>{_V();Su=(e,t=0)=>[Yp.decode(e,t),Yp.decode.bytes],Ss=(e,t,r=0)=>(Yp.encode(e,t,r),t),Es=e=>Yp.encodingLength(e)});var jXe,SV,fn,ta=b(()=>{jXe=new Uint8Array(0),SV=(e,t)=>{if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0},fn=e=>{if(e instanceof Uint8Array&&e.constructor.name==="Uint8Array")return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")}});var xs,xV,vV,Eu,Xp=b(()=>{ta();e_();xs=(e,t)=>{let r=t.byteLength,n=Es(e),o=n+Es(r),i=new Uint8Array(o+r);return Ss(e,i,0),Ss(r,i,n),i.set(t,o),new Eu(e,r,t,i)},xV=e=>{let t=fn(e),[r,n]=Su(t),[o,i]=Su(t.subarray(n)),a=t.subarray(n+i);if(a.byteLength!==o)throw new Error("Incorrect length");return new Eu(r,o,a,t)},vV=(e,t)=>{if(e===t)return!0;{let r=t;return e.code===r.code&&e.size===r.size&&r.bytes instanceof Uint8Array&&SV(e.bytes,r.bytes)}},Eu=class{constructor(t,r,n,o){this.code=t,this.size=r,this.digest=n,this.bytes=o}}});function lxe(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var o=0;o<e.length;o++){var i=e.charAt(o),a=i.charCodeAt(0);if(r[a]!==255)throw new TypeError(i+" is ambiguous");r[a]=o}var s=e.length,u=e.charAt(0),c=Math.log(s)/Math.log(256),l=Math.log(256)/Math.log(s);function d(p){if(p instanceof Uint8Array||(ArrayBuffer.isView(p)?p=new Uint8Array(p.buffer,p.byteOffset,p.byteLength):Array.isArray(p)&&(p=Uint8Array.from(p))),!(p instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(p.length===0)return"";for(var f=0,g=0,h=0,y=p.length;h!==y&&p[h]===0;)h++,f++;for(var _=(y-h)*l+1>>>0,S=new Uint8Array(_);h!==y;){for(var x=p[h],A=0,D=_-1;(x!==0||A<g)&&D!==-1;D--,A++)x+=256*S[D]>>>0,S[D]=x%s>>>0,x=x/s>>>0;if(x!==0)throw new Error("Non-zero carry");g=A,h++}for(var P=_-g;P!==_&&S[P]===0;)P++;for(var U=u.repeat(f);P<_;++P)U+=e.charAt(S[P]);return U}function w(p){if(typeof p!="string")throw new TypeError("Expected String");if(p.length===0)return new Uint8Array;var f=0;if(p[f]!==" "){for(var g=0,h=0;p[f]===u;)g++,f++;for(var y=(p.length-f)*c+1>>>0,_=new Uint8Array(y);p[f];){var S=r[p.charCodeAt(f)];if(S===255)return;for(var x=0,A=y-1;(S!==0||x<h)&&A!==-1;A--,x++)S+=s*_[A]>>>0,_[A]=S%256>>>0,S=S/256>>>0;if(S!==0)throw new Error("Non-zero carry");h=x,f++}if(p[f]!==" "){for(var D=y-h;D!==y&&_[D]===0;)D++;for(var P=new Uint8Array(g+(y-D)),U=g;D!==y;)P[U++]=_[D++];return P}}}function m(p){var f=w(p);if(f)return f;throw new Error(`Non-${t} character`)}return{encode:d,decodeUnsafe:w,decode:m}}var pxe,dxe,PV,DV=b(()=>{pxe=lxe,dxe=pxe,PV=dxe});var p3,d3,f3,AV,h3,IV,m3,fxe,hxe,cr,r_=b(()=>{DV();ta();p3=class{constructor(t,r,n){this.name=t,this.prefix=r,this.baseEncode=n}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}},d3=class{constructor(t,r,n){if(this.name=t,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(t){if(typeof t=="string"){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(t){return AV(this,t)}},f3=class{constructor(t){this.decoders=t}or(t){return AV(this,t)}decode(t){let r=t[0],n=this.decoders[r];if(n)return n.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}},AV=(e,t)=>new f3({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}}),h3=class{constructor(t,r,n,o){this.name=t,this.prefix=r,this.baseEncode=n,this.baseDecode=o,this.encoder=new p3(t,r,n),this.decoder=new d3(t,r,o)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}},IV=({name:e,prefix:t,encode:r,decode:n})=>new h3(e,t,r,n),m3=({prefix:e,name:t,alphabet:r})=>{let{encode:n,decode:o}=PV(r,t);return IV({prefix:e,name:t,encode:n,decode:i=>fn(o(i))})},fxe=(e,t,r,n)=>{let o={};for(let l=0;l<t.length;++l)o[t[l]]=l;let i=e.length;for(;e[i-1]==="=";)--i;let a=new Uint8Array(i*r/8|0),s=0,u=0,c=0;for(let l=0;l<i;++l){let d=o[e[l]];if(d===void 0)throw new SyntaxError(`Non-${n} character`);u=u<<r|d,s+=r,s>=8&&(s-=8,a[c++]=255&u>>s)}if(s>=r||255&u<<8-s)throw new SyntaxError("Unexpected end of data");return a},hxe=(e,t,r)=>{let n=t[t.length-1]==="=",o=(1<<r)-1,i="",a=0,s=0;for(let u=0;u<e.length;++u)for(s=s<<8|e[u],a+=8;a>r;)a-=r,i+=t[o&s>>a];if(a&&(i+=t[o&s<<r-a]),n)for(;i.length*r&7;)i+="=";return i},cr=({name:e,prefix:t,bitsPerChar:r,alphabet:n})=>IV({prefix:t,name:e,encode(o){return hxe(o,n,r)},decode(o){return fxe(o,n,r,e)}})});var It,HXe,vs=b(()=>{r_();It=m3({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),HXe=m3({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"})});var hn,VXe,ZXe,QXe,YXe,XXe,eet,tet,ret,n_=b(()=>{r_();hn=cr({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),VXe=cr({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),ZXe=cr({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),QXe=cr({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),YXe=cr({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),XXe=cr({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),eet=cr({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),tet=cr({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),ret=cr({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5})});var g3,kV,y3,Vt,mxe,gxe,yxe,ed,bxe,CV,wxe,o_=b(()=>{e_();Xp();vs();n_();ta();u3();g3=(e,t)=>{let{bytes:r,version:n}=e;switch(n){case 0:return gxe(r,y3(e),t||It.encoder);default:return yxe(r,y3(e),t||hn.encoder)}},kV=new WeakMap,y3=e=>{let t=kV.get(e);if(t==null){let r=new Map;return kV.set(e,r),r}return t},Vt=class e{constructor(t,r,n,o){this.code=r,this.version=t,this.multihash=n,this.bytes=o,this["/"]=o}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{let{code:t,multihash:r}=this;if(t!==ed)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(r.code!==bxe)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return e.createV0(r)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{let{code:t,digest:r}=this.multihash,n=xs(t,r);return e.createV1(this.code,n)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(t){return e.equals(this,t)}static equals(t,r){let n=r;return n&&t.code===n.code&&t.version===n.version&&vV(t.multihash,n.multihash)}toString(t){return g3(this,t)}toJSON(){return{"/":g3(this)}}link(){return this}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(t){if(t==null)return null;let r=t;if(r instanceof e)return r;if(r["/"]!=null&&r["/"]===r.bytes||r.asCID===r){let{version:n,code:o,multihash:i,bytes:a}=r;return new e(n,o,i,a||CV(n,o,i.bytes))}else if(r[wxe]===!0){let{version:n,multihash:o,code:i}=r,a=xV(o);return e.create(n,i,a)}else return null}static create(t,r,n){if(typeof r!="number")throw new Error("String codecs are no longer supported");if(!(n.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(t){case 0:{if(r!==ed)throw new Error(`Version 0 CID must use dag-pb (code: ${ed}) block encoding`);return new e(t,r,n,n.bytes)}case 1:{let o=CV(t,r,n.bytes);return new e(t,r,n,o)}default:throw new Error("Invalid version")}}static createV0(t){return e.create(0,ed,t)}static createV1(t,r){return e.create(1,t,r)}static decode(t){let[r,n]=e.decodeFirst(t);if(n.length)throw new Error("Incorrect length");return r}static decodeFirst(t){let r=e.inspectBytes(t),n=r.size-r.multihashSize,o=fn(t.subarray(n,n+r.multihashSize));if(o.byteLength!==r.multihashSize)throw new Error("Incorrect length");let i=o.subarray(r.multihashSize-r.digestSize),a=new Eu(r.multihashCode,r.digestSize,i,o);return[r.version===0?e.createV0(a):e.createV1(r.codec,a),t.subarray(r.size)]}static inspectBytes(t){let r=0,n=()=>{let[d,w]=Su(t.subarray(r));return r+=w,d},o=n(),i=ed;if(o===18?(o=0,r=0):i=n(),o!==0&&o!==1)throw new RangeError(`Invalid CID version ${o}`);let a=r,s=n(),u=n(),c=r+u,l=c-a;return{version:o,codec:i,multihashCode:s,digestSize:u,multihashSize:l,size:c}}static parse(t,r){let[n,o]=mxe(t,r),i=e.decode(o);if(i.version===0&&t[0]!=="Q")throw Error("Version 0 CID string must not include multibase prefix");return y3(i).set(n,t),i}},mxe=(e,t)=>{switch(e[0]){case"Q":{let r=t||It;return[It.prefix,r.decode(`${It.prefix}${e}`)]}case It.prefix:{let r=t||It;return[It.prefix,r.decode(e)]}case hn.prefix:{let r=t||hn;return[hn.prefix,r.decode(e)]}default:{if(t==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}}},gxe=(e,t,r)=>{let{prefix:n}=r;if(n!==It.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);let o=t.get(n);if(o==null){let i=r.encode(e).slice(1);return t.set(n,i),i}else return o},yxe=(e,t,r)=>{let{prefix:n}=r,o=t.get(n);if(o==null){let i=r.encode(e);return t.set(n,i),i}else return o},ed=112,bxe=18,CV=(e,t,r)=>{let n=Es(e),o=n+Es(t),i=new Uint8Array(o+r.byteLength);return Ss(e,i,0),Ss(t,i,n),i.set(r,o),i},wxe=Symbol.for("@ipld/js-cid/CID")});var _xe,b3,zr,Zt,td,rd=b(()=>{o_();u3();_xe=112,b3=e=>Vt.create(0,_xe,e),zr=(e,t)=>Vt.create(1,e,t),Zt=e=>{if(e==null)return!1;let t=e;return t["/"]!=null&&t["/"]===t.bytes||e.asCID===e},td=(e,t)=>Vt.parse(e,t)});var TV,Exe,FV,xxe,i_,w3=b(()=>{ta();Xp();TV=0,Exe="identity",FV=fn,xxe=e=>xs(TV,FV(e)),i_={code:TV,name:Exe,encode:FV,digest:xxe}});var S3,_3,E3=b(()=>{Xp();S3=({name:e,code:t,encode:r})=>new _3(e,t,r),_3=class{constructor(t,r,n){this.name=t,this.code=r,this.encode=n}digest(t){if(t instanceof Uint8Array){let r=this.encode(t);return r instanceof Uint8Array?xs(this.code,r):r.then(n=>xs(this.code,n))}else throw Error("Unknown type, must be binary type")}}});var OV=b(()=>{});var Ps=b(()=>{o_();e_();ta();E3();Xp();OV()});var RV,Pxe,BV,Dxe,Axe,Ixe,kxe,Cxe,Txe,Fxe,Oxe,Rxe,P3,x3,st,vu,D3,a_,NV,xu,v3,mn=b(()=>{vs();Ps();_s();RV="did:",Pxe=RV.length,BV="did:key:",Dxe=BV.length,Axe=237,Ixe=4613,kxe=4608,Cxe=4609,Txe=4610,Fxe=231,Oxe=234,Rxe=235,P3=3357,x3=Ie.encodingLength(P3),st=e=>{if(e.startsWith(RV))if(e.startsWith(BV)){let t=It.decode(e.slice(Dxe));return a_(t)}else{let t=Do(e.slice(Pxe)),r=new Uint8Array(t.byteLength+x3);return Ie.encodeTo(P3,r),r.set(t,x3),new xu(r)}else throw new RangeError(`Invalid DID "${e}", must start with 'did:'`)},vu=e=>e.did(),D3=e=>e instanceof xu?e:e instanceof Uint8Array?a_(e):st(typeof e=="string"?e:e.did()),a_=e=>{let[t]=Ie.decode(e),{buffer:r,byteOffset:n,byteLength:o}=e;switch(t){case kxe:if(e.length>35)throw new RangeError("Only p256-pub compressed is supported.");case Axe:case Ixe:case Cxe:case Txe:case Oxe:case Rxe:case Fxe:return new v3(r,n,o);case P3:return new xu(r,n,o);default:throw new RangeError(`Unsupported DID encoding, unknown multicode 0x${t.toString(16)}.`)}},NV=e=>st(e.did()),xu=class extends Uint8Array{did(){let t=new Uint8Array(this.buffer,this.byteOffset+x3);return`did:${ea(t)}`}toJSON(){return this.did()}},v3=class extends xu{did(){return`did:key:${It.encode(this)}`}}});var Pu,A3=b(()=>{ta();Pu=85});var I3,k3,Hr,vet,ra=b(()=>{r_();I3=cr({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),k3=cr({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Hr=cr({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),vet=cr({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6})});var Hn={};ne(Hn,{BLS12381G1:()=>T3,BLS12381G2:()=>F3,EIP191:()=>N3,ES256:()=>O3,ES256K:()=>C3,ES384:()=>R3,ES512:()=>B3,EdDSA:()=>Ds,NON_STANDARD:()=>Au,RS256:()=>nd,Signature:()=>Du,create:()=>Iu,createNamed:()=>U3,createNonStandard:()=>q3,decode:()=>ku,encode:()=>j3,format:()=>qxe,fromJSON:()=>Lxe,nameCode:()=>qV,parse:()=>jxe,toJSON:()=>jV,view:()=>s_});var Au,C3,T3,F3,Ds,O3,R3,B3,nd,N3,UV,qV,Du,Nxe,Uxe,Iu,U3,q3,s_,ku,j3,qxe,jxe,jV,Lxe,Kn=b(()=>{Ps();ra();_s();Au=53248,C3=53479,T3=53482,F3=53483,Ds=53485,O3=13636096,R3=13636097,B3=13636098,nd=13636101,N3=53649,UV=e=>{switch(e){case C3:return"ES256K";case T3:return"BLS12381G1";case F3:return"BLS12381G2";case Ds:return"EdDSA";case O3:return"ES256";case R3:return"ES384";case B3:return"ES512";case nd:return"RS256";case N3:return"EIP191";default:throw new RangeError(`Unknown signature algorithm code 0x${e.toString(16)}`)}},qV=e=>{switch(e){case"ES256K":return C3;case"BLS12381G1":return T3;case"BLS12381G2":return F3;case"EdDSA":return Ds;case"ES256":return O3;case"ES384":return R3;case"ES512":return B3;case"RS256":return nd;case"EIP191":return N3;default:return Au}},Du=class extends Uint8Array{get code(){let[t]=Ie.decode(this);return Object.defineProperties(this,{code:{value:t}}),t}get size(){let t=Uxe(this);return Object.defineProperties(this,{size:{value:t}}),t}get algorithm(){let t=Nxe(this);return Object.defineProperties(this,{algorithm:{value:t}}),t}get raw(){let{buffer:t,byteOffset:r,size:n,code:o}=this,i=Ie.encodingLength(o),a=Ie.encodingLength(n),s=new Uint8Array(t,r+i+a,n);return Object.defineProperties(this,{raw:{value:s}}),s}async verify(t,r){try{if(await t.verify(r,this)===!0)return{ok:{}};throw new Error("Invalid signature")}catch(n){return{error:n}}}toJSON(){return jV(this)}},Nxe=e=>{let{code:t,raw:r,buffer:n,byteOffset:o}=e;if(t===Au){let i=r.byteLength+Ie.encodingLength(t)+Ie.encodingLength(r.byteLength),a=new Uint8Array(n,o+i);return ea(a)}else return UV(t)},Uxe=e=>{let t=Ie.encodingLength(e.code),[r]=Ie.decode(new Uint8Array(e.buffer,e.byteOffset+t));return r},Iu=(e,t)=>{let r=UV(e),n=Ie.encodingLength(e),o=Ie.encodingLength(t.byteLength),i=new Du(n+o+t.byteLength);return Ie.encodeTo(e,i),Ie.encodeTo(t.byteLength,i,n),i.set(t,n+o),Object.defineProperties(i,{code:{value:e},size:{value:t.byteLength}}),i},U3=(e,t)=>{let r=qV(e);return r===Au?q3(e,t):Iu(r,t)},q3=(e,t)=>{let r=Au,n=Ie.encodingLength(r),o=Ie.encodingLength(t.byteLength),i=Do(e),a=new Du(n+o+t.byteLength+i.byteLength);return Ie.encodeTo(r,a),Ie.encodeTo(t.byteLength,a,n),a.set(t,n+o),a.set(i,n+o+t.byteLength),a},s_=e=>new Du(e.buffer,e.byteOffset,e.byteLength),ku=e=>{if(!(e instanceof Uint8Array))throw new TypeError(`Can only decode Uint8Array into a Signature, instead got ${JSON.stringify(e)}`);let t=s_(e),{code:r,algorithm:n,raw:o}=t;return t},j3=e=>ku(e),qxe=(e,t)=>(t||Hr).encode(e),jxe=(e,t)=>ku((t||Hr).decode(e)),jV=e=>({"/":{bytes:I3.baseEncode(e)}}),Lxe=e=>ku(I3.baseDecode(e["/"].bytes))});var od,GV,$V,zV,LV,Wxe,Mxe,Gxe,$xe,zxe,Hxe,HV,WV,KV,Kxe,Jxe,Vxe,Zxe,Qxe,Yxe,MV,Xxe,id,eve,ad,JV,gn,sd,c_=b(()=>{_s();rd();w3();mn();A3();Kn();od=e=>$V(e,{readPrincipal:Qxe,readProof:Jxe}),GV=e=>$V(e,{readPrincipal:Yxe,readProof:Vxe}),$V=(e,{readPrincipal:t,readProof:r})=>({iss:t(e.iss,"iss"),aud:t(e.aud,"aud"),att:Mxe(e.att,"att"),prf:WV(e.prf,r,"prf")||[],exp:Xxe(e.exp===1/0?null:e.exp,LV,"exp"),nbf:MV(e.nbf,LV,"nbf"),fct:WV(e.fct,Kxe,"fct")||[],nnc:MV(e.nnc,id,"nnc")}),zV=e=>{if(e instanceof Uint8Array)return ku(e);throw new TypeError(`Can only decode Uint8Array into a Signature, instead got ${JSON.stringify(e)}`)},LV=(e,t)=>Number.isInteger(e)?e:gn.throw(`Expected ${t} to be integer, instead got ${JSON.stringify(e)}`),Wxe=(e,t)=>KV(e,Gxe,t),Mxe=(e,t)=>HV(e,Wxe,t),Gxe=e=>({...e,can:$xe(e.can),with:zxe(e.with)}),$xe=e=>typeof e!="string"?gn.throw(`Capability has invalid 'can: ${JSON.stringify(e)}', value must be a string`):e.slice(1,-1).includes("/")?e.toLocaleLowerCase():e==="*"?e:gn.throw(`Capability has invalid 'can: "${e}"', value must have at least one path segment`),zxe=e=>typeof e!="string"?gn.throw(`Capability has invalid 'with: ${JSON.stringify(e)}', value must be a string`):Hxe(e)||gn.throw(`Capability has invalid 'with: "${e}"', value must be a valid URI string`),Hxe=e=>{try{return new URL(e),e}catch{return null}},HV=(e,t,r)=>Array.isArray(e)?e.map((n,o)=>t(n,`${r}[${o}]`)):gn.throw(`${r} must be an array`),WV=(e,t,r)=>e===void 0?e:HV(e,t,r),KV=(e,t,r)=>e!=null&&typeof e=="object"?t(e):gn.throw(`${r} must be of type object, instead got ${e}`),Kxe=(e,t)=>KV(e,Object,t),Jxe=(e,t)=>Zt(e)?e:sd(`Expected ${t} to be IPLD link, instead got ${JSON.stringify(e)}`),Vxe=(e,t)=>Zxe(id(e,t)),Zxe=e=>{try{return td(e)}catch{return zr(Pu,i_.digest(Do(e)))}},Qxe=(e,t)=>a_(eve(e,t)),Yxe=(e,t)=>st(id(e,t)),MV=(e,t,r="Field")=>e!==void 0?t(e,r):void 0,Xxe=(e,t,r)=>e===null?null:t(e,r),id=(e,t="Field")=>typeof e=="string"?e:sd(`${t} has invalid value ${e}`),eve=(e,t)=>e instanceof Uint8Array?e:sd(`Expected ${t} to be Uint8Array, instead got ${JSON.stringify(e)}`),ad=(e,t)=>/\d+\.\d+\.\d+/.test(e)?e:gn.throw(`Invalid version '${t}: ${JSON.stringify(e)}'`),JV=(e,t,r)=>e===t?t:gn.throw(`Expected ${r} to be a ${JSON.stringify(t)} instead got ${JSON.stringify(e)}`),gn=class extends TypeError{get name(){return"ParseError"}static throw(t){throw new this(t)}},sd=e=>gn.throw(e)});function rve(e,t){if(Array.isArray(e[0])||Array.isArray(t[0]))throw new Error(`${ni} complex map keys are not supported`);let r=e[0],n=t[0];if(r.type!==T.string||n.type!==T.string)throw new Error(`${ni} non-string map keys are not supported`);if(r<n)return-1;if(r>n)return 1;throw new Error(`${ni} unexpected duplicate map keys, this is not supported`)}function W3(e,t){return t=Object.assign({},nve,t),TI(e,new L3,t)}var L3,nve,VV=b(()=>{sr();Bw();jr();Ki();L3=class extends Array{constructor(){super(),this.inRecursive=[]}prefix(t){let r=this.inRecursive[this.inRecursive.length-1];r&&(r.type===T.array&&(r.elements++,r.elements!==1&&t.push([44])),r.type===T.map&&(r.elements++,r.elements!==1&&(r.elements%2===1?t.push([44]):t.push([58]))))}[T.uint.major](t,r){this.prefix(t);let n=String(r.value),o=[];for(let i=0;i<n.length;i++)o[i]=n.charCodeAt(i);t.push(o)}[T.negint.major](t,r){this[T.uint.major](t,r)}[T.bytes.major](t,r){throw new Error(`${ni} unsupported type: Uint8Array`)}[T.string.major](t,r){this.prefix(t);let n=xw(JSON.stringify(r.value));t.push(n.length>32?Up(n):n)}[T.array.major](t,r){this.prefix(t),this.inRecursive.push({type:T.array,elements:0}),t.push([91])}[T.map.major](t,r){this.prefix(t),this.inRecursive.push({type:T.map,elements:0}),t.push([123])}[T.tag.major](t,r){}[T.float.major](t,r){if(r.type.name==="break"){let a=this.inRecursive.pop();if(a){if(a.type===T.array)t.push([93]);else if(a.type===T.map)t.push([125]);else throw new Error("Unexpected recursive type; this should not happen!");return}throw new Error("Unexpected break; this should not happen!")}if(r.value===void 0)throw new Error(`${ni} unsupported type: undefined`);if(this.prefix(t),r.type.name==="true"){t.push([116,114,117,101]);return}else if(r.type.name==="false"){t.push([102,97,108,115,101]);return}else if(r.type.name==="null"){t.push([110,117,108,108]);return}let n=String(r.value),o=[],i=!1;for(let a=0;a<n.length;a++)o[a]=n.charCodeAt(a),!i&&(o[a]===46||o[a]===101||o[a]===69)&&(i=!0);i||(o.push(46),o.push(48)),t.push(o)}};nve={addBreakTokens:!0,mapSorter:rve}});function M3(e,t){return t=Object.assign({tokenizer:new Cu(e,t)},t),$p(e,t)}var Cu,ZV=b(()=>{RI();sr();Ki();jr();Cu=class{constructor(t,r={}){this._pos=0,this.data=t,this.options=r,this.modeStack=["value"],this.lastToken=""}pos(){return this._pos}done(){return this._pos>=this.data.length}ch(){return this.data[this._pos]}currentMode(){return this.modeStack[this.modeStack.length-1]}skipWhitespace(){let t=this.ch();for(;t===32||t===9||t===13||t===10;)t=this.data[++this._pos]}expect(t){if(this.data.length-this._pos<t.length)throw new Error(`${ue} unexpected end of input at position ${this._pos}`);for(let r=0;r<t.length;r++)if(this.data[this._pos++]!==t[r])throw new Error(`${ue} unexpected token at position ${this._pos}, expected to find '${String.fromCharCode(...t)}'`)}parseNumber(){let t=this._pos,r=!1,n=!1,o=s=>{for(;!this.done();){let u=this.ch();if(s.includes(u))this._pos++;else break}};if(this.ch()===45&&(r=!0,this._pos++),this.ch()===48)if(this._pos++,this.ch()===46)this._pos++,n=!0;else return new G(T.uint,0,this._pos-t);if(o([48,49,50,51,52,53,54,55,56,57]),r&&this._pos===t+1)throw new Error(`${ue} unexpected token at position ${this._pos}`);if(!this.done()&&this.ch()===46){if(n)throw new Error(`${ue} unexpected token at position ${this._pos}`);n=!0,this._pos++,o([48,49,50,51,52,53,54,55,56,57])}!this.done()&&(this.ch()===101||this.ch()===69)&&(n=!0,this._pos++,!this.done()&&(this.ch()===43||this.ch()===45)&&this._pos++,o([48,49,50,51,52,53,54,55,56,57]));let i=String.fromCharCode.apply(null,this.data.subarray(t,this._pos)),a=parseFloat(i);return n?new G(T.float,a,this._pos-t):this.options.allowBigInt!==!0||Number.isSafeInteger(a)?new G(a>=0?T.uint:T.negint,a,this._pos-t):new G(a>=0?T.uint:T.negint,BigInt(i),this._pos-t)}parseString(){if(this.ch()!==34)throw new Error(`${ue} unexpected character at position ${this._pos}; this shouldn't happen`);this._pos++;for(let i=this._pos,a=0;i<this.data.length&&a<65536;i++,a++){let s=this.data[i];if(s===92||s<32||s>=128)break;if(s===34){let u=String.fromCharCode.apply(null,this.data.subarray(this._pos,i));return this._pos=i+1,new G(T.string,u,a)}}let t=this._pos,r=[],n=()=>{if(this._pos+4>=this.data.length)throw new Error(`${ue} unexpected end of unicode escape sequence at position ${this._pos}`);let i=0;for(let a=0;a<4;a++){let s=this.ch();if(s>=48&&s<=57)s-=48;else if(s>=97&&s<=102)s=s-97+10;else if(s>=65&&s<=70)s=s-65+10;else throw new Error(`${ue} unexpected unicode escape character at position ${this._pos}`);i=i*16+s,this._pos++}return i},o=()=>{let i=this.ch(),a=null,s=i>239?4:i>223?3:i>191?2:1;if(this._pos+s>this.data.length)throw new Error(`${ue} unexpected unicode sequence at position ${this._pos}`);let u,c,l,d;switch(s){case 1:i<128&&(a=i);break;case 2:u=this.data[this._pos+1],(u&192)===128&&(d=(i&31)<<6|u&63,d>127&&(a=d));break;case 3:u=this.data[this._pos+1],c=this.data[this._pos+2],(u&192)===128&&(c&192)===128&&(d=(i&15)<<12|(u&63)<<6|c&63,d>2047&&(d<55296||d>57343)&&(a=d));break;case 4:u=this.data[this._pos+1],c=this.data[this._pos+2],l=this.data[this._pos+3],(u&192)===128&&(c&192)===128&&(l&192)===128&&(d=(i&15)<<18|(u&63)<<12|(c&63)<<6|l&63,d>65535&&d<1114112&&(a=d))}a===null?(a=65533,s=1):a>65535&&(a-=65536,r.push(a>>>10&1023|55296),a=56320|a&1023),r.push(a),this._pos+=s};for(;!this.done();){let i=this.ch(),a;switch(i){case 92:if(this._pos++,this.done())throw new Error(`${ue} unexpected string termination at position ${this._pos}`);switch(a=this.ch(),this._pos++,a){case 34:case 39:case 92:case 47:r.push(a);break;case 98:r.push(8);break;case 116:r.push(9);break;case 110:r.push(10);break;case 102:r.push(12);break;case 114:r.push(13);break;case 117:r.push(n());break;default:throw new Error(`${ue} unexpected string escape character at position ${this._pos}`)}break;case 34:return this._pos++,new G(T.string,bI(r),this._pos-t);default:if(i<32)throw new Error(`${ue} invalid control character at position ${this._pos}`);i<128?(r.push(i),this._pos++):o()}}throw new Error(`${ue} unexpected end of string at position ${this._pos}`)}parseValue(){switch(this.ch()){case 123:return this.modeStack.push("obj-start"),this._pos++,new G(T.map,1/0,1);case 91:return this.modeStack.push("array-start"),this._pos++,new G(T.array,1/0,1);case 34:return this.parseString();case 110:return this.expect([110,117,108,108]),new G(T.null,null,4);case 102:return this.expect([102,97,108,115,101]),new G(T.false,!1,5);case 116:return this.expect([116,114,117,101]),new G(T.true,!0,4);case 45:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.parseNumber();default:throw new Error(`${ue} unexpected character at position ${this._pos}`)}}next(){switch(this.skipWhitespace(),this.currentMode()){case"value":return this.modeStack.pop(),this.parseValue();case"array-value":{if(this.modeStack.pop(),this.ch()===93)return this._pos++,this.skipWhitespace(),new G(T.break,void 0,1);if(this.ch()!==44)throw new Error(`${ue} unexpected character at position ${this._pos}, was expecting array delimiter but found '${String.fromCharCode(this.ch())}'`);return this._pos++,this.modeStack.push("array-value"),this.skipWhitespace(),this.parseValue()}case"array-start":return this.modeStack.pop(),this.ch()===93?(this._pos++,this.skipWhitespace(),new G(T.break,void 0,1)):(this.modeStack.push("array-value"),this.skipWhitespace(),this.parseValue());case"obj-key":if(this.ch()===125)return this.modeStack.pop(),this._pos++,this.skipWhitespace(),new G(T.break,void 0,1);if(this.ch()!==44)throw new Error(`${ue} unexpected character at position ${this._pos}, was expecting object delimiter but found '${String.fromCharCode(this.ch())}'`);this._pos++,this.skipWhitespace();case"obj-start":{if(this.modeStack.pop(),this.ch()===125)return this._pos++,this.skipWhitespace(),new G(T.break,void 0,1);let t=this.parseString();if(this.skipWhitespace(),this.ch()!==58)throw new Error(`${ue} unexpected character at position ${this._pos}, was expecting key/value delimiter ':' but found '${String.fromCharCode(this.ch())}'`);return this._pos++,this.modeStack.push("obj-value"),t}case"obj-value":return this.modeStack.pop(),this.modeStack.push("obj-key"),this.skipWhitespace(),this.parseValue();default:throw new Error(`${ue} unexpected parse state at position ${this._pos}; this shouldn't happen`)}}}});var QV=b(()=>{VV();ZV()});var G3={};ne(G3,{base64:()=>u_,base64pad:()=>ive,base64url:()=>ave,base64urlpad:()=>sve});var u_,ive,ave,sve,$3=b(()=>{zn();u_=tt({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),ive=tt({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),ave=tt({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),sve=tt({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6})});function cve(e){return e instanceof ArrayBuffer?new Uint8Array(e,0,e.byteLength):e}function uve(e){if(e.asCID!==e&&e["/"]!==e.bytes)return null;let t=$e.asCID(e);if(!t)return null;let r=t.toString();return[new G(T.map,1/0,1),new G(T.string,"/",1),new G(T.string,r,r.length),new G(T.break,void 0,1)]}function l_(e){let t=u_.encode(e).slice(1);return[new G(T.map,1/0,1),new G(T.string,"/",1),new G(T.map,1/0,1),new G(T.string,"bytes",5),new G(T.string,t,t.length),new G(T.break,void 0,1),new G(T.break,void 0,1)]}function Jn(e){return l_(new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function lve(e){return l_(new Uint8Array(e))}function pve(){throw new Error("`undefined` is not supported by the IPLD Data Model and cannot be encoded")}function dve(e){if(Number.isNaN(e))throw new Error("`NaN` is not supported by the IPLD Data Model and cannot be encoded");if(e===1/0||e===-1/0)throw new Error("`Infinity` and `-Infinity` is not supported by the IPLD Data Model and cannot be encoded");return null}var fve,z3,H3,cd,K3,Het,Ket,p_=b(()=>{qw();QV();_u();$3();fve={typeEncoders:{Object:uve,Buffer:l_,Uint8Array:l_,Int8Array:Jn,Uint16Array:Jn,Int16Array:Jn,Uint32Array:Jn,Int32Array:Jn,Float32Array:Jn,Float64Array:Jn,Uint8ClampedArray:Jn,BigInt64Array:Jn,BigUint64Array:Jn,DataView:Jn,ArrayBuffer:lve,undefined:pve,number:dve}},z3=class extends Cu{constructor(t,r){super(t,r),this.tokenBuffer=[]}done(){return this.tokenBuffer.length===0&&super.done()}_next(){return this.tokenBuffer.length>0?this.tokenBuffer.pop():super.next()}next(){let t=this._next();if(t.type===T.map){let r=this._next();if(r.type===T.string&&r.value==="/"){let n=this._next();if(n.type===T.string){if(this._next().type!==T.break)throw new Error("Invalid encoded CID form");return this.tokenBuffer.push(n),new G(T.tag,42,0)}if(n.type===T.map){let o=this._next();if(o.type===T.string&&o.value==="bytes"){let i=this._next();if(i.type===T.string){for(let s=0;s<2;s++)if(this._next().type!==T.break)throw new Error("Invalid encoded Bytes form");let a=u_.decode(`m${i.value}`);return new G(T.bytes,a,i.value.length)}this.tokenBuffer.push(i)}this.tokenBuffer.push(o)}this.tokenBuffer.push(n)}this.tokenBuffer.push(r)}return t}},H3={allowIndefinite:!1,allowUndefined:!1,allowNaN:!1,allowInfinity:!1,allowBigInt:!0,strict:!0,useMaps:!1,rejectDuplicateMapKeys:!0,tags:[]};H3.tags[42]=$e.parse;cd=e=>W3(e,fve),K3=e=>{let t=cve(e),r=Object.assign(H3,{tokenizer:new z3(t,H3)});return M3(t,r)},Het=new TextDecoder,Ket=new TextEncoder});var J3,XV,eZ,tZ,hve,mve,gve,yve,V3=b(()=>{mn();p_();ra();Kn();J3=e=>{let t=eZ(e.v,e.s.algorithm),r=tZ(e),n=hve(e.s);return`${t}.${r}.${n}`},XV=(e,t,r)=>`${eZ(t,r)}.${tZ(e)}`,eZ=(e,t)=>Hr.baseEncode(mve(e,t)),tZ=e=>Hr.baseEncode(gve(e)),hve=e=>Hr.baseEncode(e.raw),mve=(e,t)=>cd({alg:t,ucv:e,typ:"JWT"}),gve=e=>cd({iss:vu(e.iss),aud:vu(e.aud),att:e.att,exp:e.exp,prf:e.prf.map(yve),...e.fct.length>0&&{fct:e.fct},...e.nnc&&{nnc:e.nnc},...e.nbf&&{nbf:e.nbf}}),yve=e=>e.toString()});var bve,Tu,Z3=b(()=>{mn();p_();_s();bve=e=>JSON.parse(ea(cd(e))),Tu=class{constructor(t){this.model=t}get version(){return this.model.v}get issuer(){return D3(this.model.iss)}get audience(){return D3(this.model.aud)}get capabilities(){return this.model.att}get expiration(){let{exp:t}=this.model;return t===null?1/0:t}get notBefore(){return this.model.nbf}get nonce(){return this.model.nnc}get facts(){return this.model.fct}get proofs(){return this.model.prf}get signature(){return this.model.s}get jwt(){return this.model.jwt}get s(){return this.model.s}get v(){return this.model.v}get iss(){return this.model.iss}get aud(){return this.model.aud}get att(){return this.model.att}get exp(){return this.model.exp}get nbf(){return this.model.nbf}get nnc(){return this.model.nnc}get fct(){return this.model.fct}get prf(){return this.model.prf}toJSON(){let{v:t,iss:r,aud:n,s:o,att:i,prf:a,exp:s,fct:u,nnc:c,nbf:l}=this.model;return{iss:r,aud:n,v:t,s:o,exp:s,...bve({att:i,prf:a,...u.length>0&&{fct:u}}),...c!=null&&{nnc:c},...l&&{nbf:l}}}}});var Q3,rZ,Y3,wve,nZ,d_,oZ=b(()=>{$r();c_();V3();Kn();Z3();Q3=Po,rZ=e=>new d_(e),Y3=e=>{let{fct:t,nnc:r,nbf:n,...o}=od(e);return Kt({...t.length>0&&{fct:t},...r!=null&&{nnc:r},...n&&{nbf:n},...o,v:ad(e.v,"v"),s:wve(e.s,"s")})},wve=(e,t)=>{try{return j3(e)}catch(r){throw new Error(`Expected signature ${t}, instead got ${JSON.stringify(e)}`,{cause:r})}},nZ=e=>{let t=Jt(e);return new d_({...od(t),v:ad(t.v,"v"),s:zV(t.s)})},d_=class extends Tu{get code(){return Q3}format(){return J3(this.model)}encode(){return Y3(this.model)}}});var X3,Sve,Eve,e8=b(()=>{p_();c_();ra();Kn();X3=e=>{let t=e.split("."),[r,n,o]=t.length===3?t:sd(`Can't parse UCAN: ${e}: Expected JWT format: 3 dot-separated base64url-encoded values.`),{ucv:i,alg:a}=Sve(r);return{...Eve(n),v:i,s:U3(a,Hr.baseDecode(o))}},Sve=e=>{let{ucv:t,alg:r,typ:n}=K3(Hr.baseDecode(e));return{typ:JV(n,"JWT","typ"),ucv:ad(t,"ucv"),alg:id(r,"alg")}},Eve=e=>{let t=K3(Hr.baseDecode(e));return GV(t)}});var iZ,r8,aZ,t8,sZ=b(()=>{_s();e8();A3();Z3();iZ=e=>{let t=ea(e);return new t8({...X3(t),jwt:t})},r8=({jwt:e})=>Do(e),aZ=({jwt:e})=>e,t8=class extends Tu{constructor(t){super(t),this.model=t}get code(){return Pu}format(){return aZ(this.model)}encode(){return r8(this.model)}}});var n8,ur,ptt,na=b(()=>{n8=L(require("crypto"),1);E3();ta();ur=S3({name:"sha2-256",code:18,encode:e=>fn(n8.default.createHash("sha256").update(e).digest())}),ptt=S3({name:"sha2-512",code:19,encode:e=>fn(n8.default.createHash("sha512").update(e).digest())})});var vve,Pve,cZ,uZ,lZ,Dve,Ave,f_=b(()=>{oZ();sZ();_s();c_();mn();e8();V3();na();rd();mn();gV();vve="0.9.1",Pve=ur,cZ=e=>{try{return nZ(e)}catch{return iZ(e)}},uZ=async(e,{hasher:t=Pve}={})=>{let[r,n]=e.jwt?[Pu,r8(e)]:[Q3,Y3(e)],o=await t.digest(n);return{bytes:n,cid:zr(r,o),data:e}},lZ=async({issuer:e,audience:t,capabilities:r,lifetimeInSeconds:n=30,expiration:o=Ave()+n,notBefore:i,facts:a=[],proofs:s=[],nonce:u})=>{let c=vve,l=od({iss:st(e.did()),aud:st(t.did()),att:r,fct:a,exp:o,nbf:i,prf:s,nnc:u}),d=Dve(l,c,e.signatureAlgorithm);return rZ({...l,v:c,s:await e.sign(d)})},Dve=(e,t,r)=>Do(XV(e,t,r)),Ave=()=>Math.floor(Date.now()/1e3)});var As=b(()=>{rd();n_();vs()});var Vn={};ne(Vn,{code:()=>Po,contentType:()=>kve,decode:()=>Jt,encode:()=>Is,link:()=>pZ,name:()=>JI,write:()=>i8});var kve,h_,Is,pZ,i8,Fu=b(()=>{$r();$r();na();rd();kve="application/vnd.ipld.dag-cbor",h_=(e,t)=>{if(t.has(e))throw new TypeError("Can not encode circular structure");if(e===void 0&&t.size===0||e===null||typeof e=="symbol"&&t.size===0)return null;if(Zt(e)||ArrayBuffer.isView(e))return e;if(Array.isArray(e)){t.add(e);let r=[];for(let n of e)r.push(n===void 0||typeof n=="symbol"?null:h_(n,t));return r}if(typeof e.toJSON=="function"){t.add(e);let r=e.toJSON();return h_(r,t)}if(typeof e=="object"){t.add(e);let r={};for(let[n,o]of Object.entries(e))o!==void 0&&typeof o!="symbol"&&(r[n]=h_(o,new Set(t)));return r}return e},Is=e=>Kt(h_(e,new Set)),pZ=async(e,{hasher:t=ur}={})=>zr(Po,await t.digest(e)),i8=async(e,t)=>{let r=Is(e);return{cid:await pZ(r,t),bytes:r}}});var ci,dZ,Cve,oa,ui,m_,Tve,Ou,Bu=b(()=>{As();na();Fu();w3();ci=function*(e){e&&typeof e=="object"&&"iterateIPLDBlocks"in e&&typeof e.iterateIPLDBlocks=="function"&&(yield*e.iterateIPLDBlocks())},dZ=(e=[])=>{let t=new Map;return Ou(e,t),t},Cve=i_.code,oa=(e,t,r)=>{if(e.multihash.code===Cve)return{cid:e,bytes:e.multihash.digest};let n=t.get(`${e}`);return n||(r===void 0?ui(e):r)},ui=e=>{throw new Error(`Block for the ${e} is not found`)},m_=async(e,t,r={})=>{let n=r.codec||Vn,o=r.hasher||ur,i=n.encode(e),a=await o.digest(i),s=zr(n.code,a);return t.set(s.toString(),{bytes:i,cid:s}),{bytes:i,cid:s,data:e}},Tve=({cid:e,bytes:t},r)=>(r.set(e.toString(),{bytes:t,cid:e}),{bytes:t,cid:e}),Ou=(e,t)=>{for(let r of e)Tve(r,t)}});function Ao(e,t){if(!e.length)throw new Error("Unexpected end of data");let r=ia.default.decode(e);return t.seek(ia.default.decode.bytes),r}function y_(e){let t=new DataView(e.buffer,e.byteOffset,e.byteLength),r=0;return{version:2,characteristics:[t.getBigUint64(r,!0),t.getBigUint64(r+=8,!0)],dataOffset:Number(t.getBigUint64(r+=8,!0)),dataSize:Number(t.getBigUint64(r+=8,!0)),indexOffset:Number(t.getBigUint64(r+=8,!0))}}function b_(e){ia.default.decode(e);let t=ia.default.decode.bytes,r=ia.default.decode(e.subarray(ia.default.decode.bytes)),n=ia.default.decode.bytes;return t+n+r}var ia,aa,g_,a8=b(()=>{ia=L(qi(),1),aa={SHA2_256:18,LENGTH:32,DAG_PB:112},g_=40});var sa,ud,ld,w_,s8=b(()=>{sa={Null:e=>e===null?e:void 0,Int:e=>Number.isInteger(e)?e:void 0,Float:e=>typeof e=="number"&&Number.isFinite(e)?e:void 0,String:e=>typeof e=="string"?e:void 0,Bool:e=>typeof e=="boolean"?e:void 0,Bytes:e=>e instanceof Uint8Array?e:void 0,Link:e=>e!==null&&typeof e=="object"&&e.asCID===e?e:void 0,List:e=>Array.isArray(e)?e:void 0,Map:e=>e!==null&&typeof e=="object"&&e.asCID!==e&&!Array.isArray(e)&&!(e instanceof Uint8Array)?e:void 0},ud={"CarV1HeaderOrV2Pragma > roots (anon) > valueType (anon)":sa.Link,"CarV1HeaderOrV2Pragma > roots (anon)":e=>{if(sa.List(e)!==void 0){for(let t=0;t<e.length;t++){let r=e[t];if(r=ud["CarV1HeaderOrV2Pragma > roots (anon) > valueType (anon)"](r),r===void 0)return;if(r!==e[t]){let n=e.slice(0,t);for(let o=t;o<e.length;o++){let i=e[o];if(i=ud["CarV1HeaderOrV2Pragma > roots (anon) > valueType (anon)"](i),i===void 0)return;n.push(i)}return n}}return e}},Int:sa.Int,CarV1HeaderOrV2Pragma:e=>{if(sa.Map(e)===void 0)return;let t=Object.entries(e),r=e,n=1;for(let o=0;o<t.length;o++){let[i,a]=t[o];switch(i){case"roots":{let s=ud["CarV1HeaderOrV2Pragma > roots (anon)"](e[i]);if(s===void 0)return;if(s!==a||r!==e){if(r===e){r={};for(let u=0;u<o;u++)r[t[u][0]]=t[u][1]}r.roots=s}}break;case"version":{n--;let s=ud.Int(e[i]);if(s===void 0)return;if(s!==a||r!==e){if(r===e){r={};for(let u=0;u<o;u++)r[t[u][0]]=t[u][1]}r.version=s}}break;default:return}}if(!(n>0))return r}},ld={"CarV1HeaderOrV2Pragma > roots (anon) > valueType (anon)":sa.Link,"CarV1HeaderOrV2Pragma > roots (anon)":e=>{if(sa.List(e)!==void 0){for(let t=0;t<e.length;t++){let r=e[t];if(r=ld["CarV1HeaderOrV2Pragma > roots (anon) > valueType (anon)"](r),r===void 0)return;if(r!==e[t]){let n=e.slice(0,t);for(let o=t;o<e.length;o++){let i=e[o];if(i=ld["CarV1HeaderOrV2Pragma > roots (anon) > valueType (anon)"](i),i===void 0)return;n.push(i)}return n}}return e}},Int:sa.Int,CarV1HeaderOrV2Pragma:e=>{if(sa.Map(e)===void 0)return;let t=Object.entries(e),r=e,n=1;for(let o=0;o<t.length;o++){let[i,a]=t[o];switch(i){case"roots":{let s=ld["CarV1HeaderOrV2Pragma > roots (anon)"](a);if(s===void 0)return;if(s!==a||r!==e){if(r===e){r={};for(let u=0;u<o;u++)r[t[u][0]]=t[u][1]}r.roots=s}}break;case"version":{n--;let s=ld.Int(a);if(s===void 0)return;if(s!==a||r!==e){if(r===e){r={};for(let u=0;u<o;u++)r[t[u][0]]=t[u][1]}r.version=s}}break;default:return}}if(!(n>0))return r}},w_={toTyped:ud.CarV1HeaderOrV2Pragma,toRepresentation:ld.CarV1HeaderOrV2Pragma}});function fZ(e,t){let r=Ao(e.upTo(8),e);if(r===0)throw new Error("Invalid CAR header (zero length)");let n=e.exactly(r,!0),o=Jt(n);if(w_.toTyped(o)===void 0)throw new Error("Invalid CAR header format");if(o.version!==1&&o.version!==2||t!==void 0&&o.version!==t)throw new Error(`Invalid CAR version: ${o.version}${t!==void 0?` (expected ${t})`:""}`);if(o.version===1){if(!Array.isArray(o.roots))throw new Error("Invalid CAR header format");return o}if(o.roots!==void 0)throw new Error("Invalid CAR header format");let i=y_(e.exactly(g_,!0));e.seek(i.dataOffset-e.pos);let a=fZ(e,1);return Object.assign(a,i)}function Fve(e){let t=e.exactly(2,!1);if(t[0]===aa.SHA2_256&&t[1]===aa.LENGTH){let a=e.exactly(34,!0),s=dn(a);return $e.create(0,aa.DAG_PB,s)}let r=Ao(e.upTo(8),e);if(r!==1)throw new Error(`Unexpected CID version (${r})`);let n=Ao(e.upTo(8),e),o=e.exactly(b_(e.upTo(8)),!0),i=dn(o);return $e.create(r,n,i)}function Ove(e){let t=e.pos,r=Ao(e.upTo(8),e);if(r===0)throw new Error("Invalid CAR section (zero length)");r+=e.pos-t;let n=Fve(e),o=r-Number(e.pos-t);return{cid:n,length:r,blockLength:o}}function hZ(e){let t=Rve(e),r=fZ(t);if(r.version===2){let o=t.pos-r.dataOffset;t=Bve(t,r.dataSize-o)}let n=[];for(;t.upTo(8).length>0;){let{cid:o,blockLength:i}=Ove(t);n.push({cid:o,bytes:t.exactly(i,!0)})}return{header:r,blocks:n}}function Rve(e){let t=0;return{upTo(r){return e.subarray(t,t+Math.min(r,e.length-t))},exactly(r,n=!1){if(r>e.length-t)throw new Error("Unexpected end of data");let o=e.subarray(t,t+r);return n&&(t+=r),o},seek(r){t+=r},get pos(){return t}}}function Bve(e,t){let r=0;return{upTo(n){let o=e.upTo(n);return o.length+r>t&&(o=o.subarray(0,t-r)),o},exactly(n,o=!1){let i=e.exactly(n,o);if(i.length+r>t)throw new Error("Unexpected end of data");return o&&(r+=n),i},seek(n){r+=n,e.seek(n)},get pos(){return e.pos}}}var mZ=b(()=>{$r();vo();ii();a8();s8()});var __,gZ=b(()=>{mZ();__=class e{constructor(t,r){this._header=t,this._blocks=r,this._cids=void 0}get version(){return this._header.version}getRoots(){return this._header.roots}has(t){return this._blocks.some(r=>r.cid.equals(t))}get(t){return this._blocks.find(r=>r.cid.equals(t))}blocks(){return this._blocks}cids(){return this._cids||(this._cids=this._blocks.map(t=>t.cid)),this._cids}static fromBytes(t){if(!(t instanceof Uint8Array))throw new TypeError("fromBytes() requires a Uint8Array");let{header:r,blocks:n}=hZ(t);return new e(r,n)}}});var yZ,Uve,pd,c8=b(()=>{yZ=L(require("fs"),1);gZ();Uve=yZ.default.readSync,pd=class extends __{static readRaw(t,r){let{cid:n,blockLength:o,blockOffset:i}=r,a=new Uint8Array(o),s;if(typeof t=="number")s=Uve(t,a,0,o,i);else throw new TypeError("Bad fd");if(s!==o)throw new Error(`Failed to read entire block (${s} instead of ${o})`);return{cid:n,bytes:a}}}});function u8(e,t=qve,r=jve){if(Array.isArray(e)){let n=0;for(let o of e)n+=u8(o,t,r);return n}else{let n=t[e.type.major];if(n.encodedSize===void 0||typeof n.encodedSize!="function")throw new Error(`Encoder for ${e.type.name} does not have an encodedSize()`);return n.encodedSize(e,r)}}var qve,jve,bZ=b(()=>{Bw();Ow();qve=CI(),jve={float64:!1,quickEncodeToken:Fw}});var dd,p8,Lve,d8,Wve,Mve,_Z,l8,wZ,Gve,$ve,zve,S_,SZ,f8=b(()=>{$r();qw();bZ();dd=L(qi(),1),p8=class{constructor(t,r){this.bytes=t,this.byteOffset=r,this.roots=[],this.headerSize=r}addRoot(t,r){return Lve(this,t,r),this}write(t){return Wve(this,t),this}close(t){return Mve(this,t)}},Lve=(e,t,r={})=>{let{resize:n=!1}=r,{bytes:o,headerSize:i,byteOffset:a,roots:s}=e;e.roots.push(t);let u=S_(e);if(u>i)if(u-i+a<o.byteLength)if(n)_Z(e,u);else throw s.pop(),new RangeError(`Header of size ${i} has no capacity for new root ${t}.
  However there is a space in the buffer and you could call addRoot(root, { resize: root }) to resize header to make a space for this root.`);else throw s.pop(),new RangeError(`Buffer has no capacity for a new root ${t}`)},d8=({cid:e,bytes:t})=>{let r=e.bytes.byteLength+t.byteLength;return dd.default.encodingLength(r)+r},Wve=(e,{cid:t,bytes:r})=>{let n=t.bytes.byteLength+r.byteLength,o=dd.default.encode(n);if(e.byteOffset+o.length+n>e.bytes.byteLength)throw new RangeError("Buffer has no capacity for this block");l8(e,o),l8(e,t.bytes),l8(e,r)},Mve=(e,t={})=>{let{resize:r=!1}=t,{roots:n,bytes:o,byteOffset:i,headerSize:a}=e,s=Kt({version:1,roots:n}),u=dd.default.encode(s.length),c=u.length+s.byteLength;if(a-c===0)return wZ(e,u,s),o.subarray(0,i);if(r)return _Z(e,c),wZ(e,u,s),o.subarray(0,e.byteOffset);throw new RangeError(`Header size was overestimated.
You can use close({ resize: true }) to resize header`)},_Z=(e,t)=>{let{bytes:r,headerSize:n}=e;r.set(r.subarray(n,e.byteOffset),t),e.byteOffset+=t-n,e.headerSize=t},l8=(e,t)=>{e.bytes.set(t,e.byteOffset),e.byteOffset+=t.length},wZ=({bytes:e},t,r)=>{e.set(t),e.set(r,t.length)},Gve=[new G(T.map,2),new G(T.string,"version"),new G(T.uint,1),new G(T.string,"roots")],$ve=new G(T.tag,42),zve=e=>{let t=[...Gve];t.push(new G(T.array,e.length));for(let n of e)t.push($ve),t.push(new G(T.bytes,{length:n+1}));let r=u8(t);return dd.default.encodingLength(r)+r},S_=({roots:e})=>zve(e.map(t=>t.bytes.byteLength)),SZ=(e,t={})=>{let{roots:r=[],byteOffset:n=0,byteLength:o=e.byteLength,headerSize:i=S_({roots:r})}=t,a=new Uint8Array(e,n,o),s=new p8(a,i);for(let u of r)s.addRoot(u);return s}});var Ye={};ne(Ye,{code:()=>xZ,contentType:()=>Hve,createWriter:()=>Jve,decode:()=>fd,encode:()=>x_,link:()=>vZ,name:()=>Kve,write:()=>Vve});var Hve,Kve,xZ,E_,Jve,x_,fd,vZ,Vve,v_=b(()=>{c8();f8();n_();As();na();Hve="application/vnd.ipld.car",Kve="CAR",xZ=514,E_=class{constructor(t=[],r=0){this.written=new Set,this.blocks=t,this.byteLength=r}write(...t){for(let r of t){let n=r.cid.toString(hn);this.written.has(n)||(this.blocks.push(r),this.byteLength+=d8(r),this.written.add(n))}return this}flush(...t){let r=[];for(let i of t.reverse()){let a=i.cid.toString(hn);this.written.has(a)||(this.blocks.unshift(i),this.byteLength+=d8({cid:i.cid,bytes:i.bytes}),this.written.add(a)),r.unshift(i.cid)}this.byteLength+=S_({roots:r});let n=new ArrayBuffer(this.byteLength),o=SZ(n,{roots:r});for(let i of this.blocks)o.write(i);return o.close()}},Jve=()=>new E_,x_=({roots:e=[],blocks:t})=>{let r=new E_;return t&&r.write(...t.values()),r.flush(...e)},fd=e=>{let t=pd.fromBytes(e),r=[],n=new Map;for(let o of t.getRoots()){let i=t.get(o);i&&r.push(i)}for(let o of t.blocks())n.set(o.cid.toString(),o);return{roots:r,blocks:n}},vZ=async(e,{hasher:t=ur}={})=>zr(xZ,await t.digest(e)),Vve=async(e,t)=>{let r=x_(e),n=await vZ(r,t);return{bytes:r,cid:n}}});var PZ=b(()=>{});var be,hd,DZ,rt,Kr,md=b(()=>{be=e=>{if(e==null)throw new TypeError(`ok(${e}) is not allowed, consider ok({}) instead`);return{ok:e}},hd=e=>{if(e==null)throw new TypeError(`error(${e}) is not allowed, consider passing an error instead`);return{error:e}},DZ=e=>{throw new Kr(e)},rt=e=>({error:new Kr(e)}),Kr=class extends Error{describe(){return this.toString()}get message(){return this.describe()}toJSON(){let{name:t,message:r,stack:n}=this;return{name:t,message:r,stack:n}}}});var Be,h8,Zve,m8,Qve,g8,IZ,y8,b8,k_,w8,kZ,_8,Yve,S8,z8,E8,Xve,x8,e2e,CZ,v8,TZ,FZ,P8,t2e,r2e,P_,D8,H8,n2e,A8,I8,OZ,k8,RZ,o2e,i2e,a2e,AZ,C8,s2e,c2e,u2e,l2e,p2e,D_,T8,F8,d2e,pi,O8,BZ,f2e,R8,NZ,B8,UZ,N8,qZ,U8,A_,q8,C_,j8,yd,Ke,li,L8,qt,gd,W8,M8,G8,ks,I_,$8,h2e,T_,Nu=b(()=>{md();PZ();Be=class{constructor(t){this.settings=t}toString(){return`new ${this.constructor.name}()`}readWith(t,r){throw new Error("Abstract method readWith must be implemented by subclass")}read(t){return this.readWith(t,this.settings)}is(t){return!this.read(t)?.error}from(t){let r=this.read(t);if(r.error)throw r.error;return r.ok}optional(){return k_(this)}nullable(){return IZ(this)}array(){return kZ(this)}or(t){return CZ(this,t)}and(t){return FZ(this,t)}refine(t){return qZ(this,t)}brand(t){return this}default(t){let r=this.from(t);if(r===void 0)throw new Error("Value of type undefined is not a valid default");return new b8({reader:this,value:r})}},h8=class extends Be{toString(){return"never()"}read(t){return qt({expect:"never",actual:t})}},Zve=()=>new h8,m8=class extends Be{read(t){return{ok:t}}toString(){return"unknown()"}},Qve=()=>new m8,g8=class extends Be{readWith(t,r){let n=r.read(t);return n.error?t===null?{ok:null}:{error:new I_({causes:[n.error,qt({expect:"null",actual:t}).error]})}:n}toString(){return`${this.settings}.nullable()`}},IZ=e=>new g8(e),y8=class extends Be{optional(){return this}readWith(t,r){let n=r.read(t);return n.error&&t===void 0?{ok:void 0}:n}toString(){return`${this.settings}.optional()`}},b8=class extends Be{optional(){return this}readWith(t,{reader:r,value:n}){if(t===void 0)return{ok:n};{let o=r.read(t);return o.error||o.ok!==void 0?o:{ok:n}}}toString(){return`${this.settings.reader}.default(${JSON.stringify(this.settings.value)})`}get value(){return this.settings.value}},k_=e=>new y8(e),w8=class extends Be{readWith(t,r){if(!Array.isArray(t))return qt({expect:"array",actual:t});let n=[];for(let[o,i]of t.entries()){let a=r.read(i);if(a.error)return ks({at:o,cause:a.error});n.push(a.ok)}return{ok:n}}get element(){return this.settings}toString(){return`array(${this.element})`}},kZ=e=>new w8(e),_8=class extends Be{readWith(t,r){if(!Array.isArray(t))return qt({expect:"array",actual:t});if(t.length!==this.shape.length)return Ke(`Array must contain exactly ${this.shape.length} elements`);let n=[];for(let[o,i]of r.entries()){let a=i.read(t[o]);if(a.error)return ks({at:o,cause:a.error});n[o]=a.ok}return{ok:n}}get shape(){return this.settings}toString(){return`tuple([${this.shape.map(t=>t.toString()).join(", ")}])`}},Yve=e=>new _8(e),S8=class e extends Be{readWith(t,{key:r,value:n}){if(typeof t!="object"||t===null||Array.isArray(t))return qt({expect:"dictionary",actual:t});let o={};for(let[i,a]of Object.entries(t)){let s=r.read(i);if(s.error)return ks({at:i,cause:s.error});let u=n.read(a);if(u.error)return ks({at:i,cause:u.error});u.ok!==void 0&&(o[s.ok]=u.ok)}return{ok:o}}get key(){return this.settings.key}get value(){return this.settings.value}partial(){let{key:t,value:r}=this.settings;return new e({key:t,value:k_(r)})}toString(){return`dictionary(${this.settings})`}},z8=({value:e,key:t})=>new S8({value:e,key:t||pi()}),E8=class extends Be{readWith(t,{variants:r,type:n}){return r.has(t)?{ok:t}:qt({expect:n,actual:t})}toString(){return this.settings.type}},Xve=e=>new E8({type:e.join("|"),variants:new Set(e)}),x8=class extends Be{readWith(t,r){let n=[];for(let o of r){let i=o.read(t);if(i.error)n.push(i.error);else return i}return{error:new I_({causes:n})}}get variants(){return this.settings}toString(){return`union([${this.variants.map(t=>t.toString()).join(", ")}])`}},e2e=e=>new x8(e),CZ=(e,t)=>e2e([e,t]),v8=class extends Be{readWith(t,r){let n=[];for(let o of r){let i=o.read(t);i.error&&n.push(i.error)}return n.length>0?{error:new $8({causes:n})}:{ok:t}}toString(){return`intersection([${this.settings.map(t=>t.toString()).join(",")}])`}},TZ=e=>new v8(e),FZ=(e,t)=>TZ([e,t]),P8=class extends Be{readWith(t){switch(t){case!0:case!1:return{ok:t};default:return qt({expect:"boolean",actual:t})}}toString(){return"boolean()"}},t2e=new P8,r2e=()=>t2e,P_=class extends Be{greaterThan(t){return this.refine(RZ(t))}lessThan(t){return this.refine(OZ(t))}refine(t){return new A8({base:this,schema:t})}},D8=class extends P_{readWith(t){return typeof t=="number"?{ok:t}:qt({expect:"number",actual:t})}toString(){return"number()"}},H8=new D8,n2e=()=>H8,A8=class extends P_{readWith(t,{base:r,schema:n}){let o=r.read(t);return o.error?o:n.read(o.ok)}toString(){return`${this.settings.base}.refine(${this.settings.schema})`}},I8=class extends Be{readWith(t,r){return t<r?{ok:t}:Ke(`Expected ${t} < ${r}`)}toString(){return`lessThan(${this.settings})`}},OZ=e=>new I8(e),k8=class extends Be{readWith(t,r){return t>r?{ok:t}:Ke(`Expected ${t} > ${r}`)}toString(){return`greaterThan(${this.settings})`}},RZ=e=>new k8(e),o2e={read(e){return Number.isInteger(e)?{ok:e}:qt({expect:"integer",actual:e})},toString(){return"Integer"}},i2e=H8.refine(o2e),a2e=()=>i2e,AZ=2n**64n-1n,C8=class extends Be{read(t){switch(typeof t){case"bigint":return t>AZ?Ke(`Integer is too big for uint64, ${t} > ${AZ}`):t<0?Ke(`Negative integer can not be represented as uint64, ${t} < 0`):{ok:t};case"number":return Number.isInteger(t)?t<0?Ke(`Negative integer can not be represented as uint64, ${t} < 0`):{ok:BigInt(t)}:qt({expect:"uint64",actual:t});default:return qt({expect:"uint64",actual:t})}}toString(){return"uint64"}},s2e=new C8,c2e=()=>s2e,u2e={read(e){return Number.isFinite(e)?{ok:e}:qt({expect:"Float",actual:e})},toString(){return"Float"}},l2e=H8.refine(u2e),p2e=()=>l2e,D_=class extends Be{refine(t){let r=t;return new T8({base:this,schema:r})}startsWith(t){return this.refine(NZ(t))}endsWith(t){return this.refine(UZ(t))}toString(){return"string()"}},T8=class extends D_{readWith(t,{base:r,schema:n}){let o=r.read(t);return o.error?o:n.read(o.ok)}toString(){return`${this.settings.base}.refine(${this.settings.schema})`}},F8=class extends D_{readWith(t){return typeof t=="string"?{ok:t}:qt({expect:"string",actual:t})}},d2e=new F8,pi=()=>d2e,O8=class extends Be{readWith(t){return t instanceof Uint8Array?{ok:t}:qt({expect:"Uint8Array",actual:t})}},BZ=new O8,f2e=()=>BZ,R8=class extends Be{readWith(t,r){return t.startsWith(r)?{ok:t}:Ke(`Expect string to start with "${r}" instead got "${t}"`)}get prefix(){return this.settings}toString(){return`startsWith("${this.prefix}")`}},NZ=e=>new R8(e),B8=class extends Be{readWith(t,r){return t.endsWith(r)?{ok:t}:Ke(`Expect string to end with "${r}" instead got "${t}"`)}get suffix(){return this.settings}toString(){return`endsWith("${this.suffix}")`}},UZ=e=>new B8(e),N8=class extends Be{readWith(t,{base:r,schema:n}){let o=r.read(t);return o.error?o:n.read(o.ok)}toString(){return`${this.settings.base}.refine(${this.settings.schema})`}},qZ=(e,t)=>new N8({base:e,schema:t}),U8=class extends Be{readWith(t,r){return t!==r?{error:new W8({expect:r,actual:t})}:{ok:r}}get value(){return this.settings}default(t=this.value){return super.default(t)}toString(){return`literal(${gd(this.value)})`}},A_=e=>new U8(e),q8=class e extends Be{readWith(t,r){if(typeof t!="object"||t===null||Array.isArray(t))return qt({expect:"object",actual:t});let n=t,o={},i=Object.entries(r);for(let[a,s]of i){let u=s.read(n[a]);if(u.error)return ks({at:a,cause:u.error});u.ok!==void 0&&(o[a]=u.ok)}return{ok:o}}partial(){return new e(Object.fromEntries(Object.entries(this.shape).map(([t,r])=>[t,k_(r)])))}get shape(){return this.settings}toString(){return["struct({ ",...Object.entries(this.shape).map(([t,r])=>`${t}: ${r}`).join(", ")," })"].join("")}create(t){return this.from(t||{})}extend(t){return new e({...this.shape,...t})}},C_=e=>{let t={},r=Object.entries(e);for(let[n,o]of r)switch(typeof o){case"number":case"string":case"boolean":t[n]=A_(o);break;case"object":t[n]=o===null?A_(null):o;break;default:throw new Error(`Invalid struct field "${n}", expected schema or literal, instead got ${typeof o}`)}return new q8(t)},j8=class extends Be{readWith(t,r){if(typeof t!="object"||t===null||Array.isArray(t))return qt({expect:"object",actual:t});let n=Object.keys(t),[o]=n.length===1?n:[],i=o?r[o]:void 0;if(i){let a=i.read(t[o]);return a.error?ks({at:o,cause:a.error}):{ok:{[o]:a.ok}}}else if(r._){let a=r._.read(t);return a.error?a:{ok:{_:a.ok}}}else return Ke(o?`Expected an object with one of the these keys: ${Object.keys(r).sort().join(", ")} instead got object with key ${o}`:"Expected an object with a single key instead got object with keys "+n.sort().join(", "))}match(t,r){let n=this.read(t);if(n.error){if(r!==void 0)return[null,r];throw n.error}else{let[o]=Object.keys(n.ok),i=n.ok[o];return[o,i]}}create(t){return this.from(t)}},yd=e=>new j8(e),Ke=e=>({error:new li(e)}),li=class extends Kr{get name(){return"SchemaError"}describe(){return this.name}},L8=class extends li{constructor({expect:t,actual:r}){super(),this.expect=t,this.actual=r}get name(){return"TypeError"}describe(){return`Expected value of type ${this.expect} instead got ${gd(this.actual)}`}},qt=e=>({error:new L8(e)}),gd=e=>{let t=typeof e;switch(t){case"boolean":case"string":return JSON.stringify(e);case"bigint":return`${e}n`;case"number":case"symbol":case"undefined":return String(e);case"object":return e===null?"null":Array.isArray(e)?"array":Symbol.toStringTag in e?e[Symbol.toStringTag]:"object";default:return t}},W8=class extends li{constructor({expect:t,actual:r}){super(),this.expect=t,this.actual=r}get name(){return"LiteralError"}describe(){return`Expected literal ${gd(this.expect)} instead got ${gd(this.actual)}`}},M8=class extends li{constructor({at:t,cause:r}){super(),this.at=t,this.cause=r}get name(){return"ElementError"}describe(){return[`Array contains invalid element at ${this.at}:`,T_(this.cause.message)].join(`
`)}},G8=class extends li{constructor({at:t,cause:r}){super(),this.at=t,this.cause=r}get name(){return"FieldError"}describe(){return[`Object contains invalid field "${this.at}":`,T_(this.cause.message)].join(`
`)}},ks=({at:e,cause:t})=>typeof e=="string"?{error:new G8({at:e,cause:t})}:{error:new M8({at:e,cause:t})},I_=class extends li{constructor({causes:t}){super(),this.causes=t}get name(){return"UnionError"}describe(){let{causes:t}=this;return["Value does not match any type of the union:",...t.map(r=>T_(r.message))].join(`
`)}},$8=class extends li{constructor({causes:t}){super(),this.causes=t}get name(){return"IntersectionError"}describe(){let{causes:t}=this;return["Value does not match following types of the intersection:",...t.map(r=>T_(r.message))].join(`
`)}},h2e=(e,t="  ")=>`${t}${e.split(`
`).join(`
${t}`)}`,T_=e=>h2e(`- ${e}`)});var V8={};ne(V8,{from:()=>y2e,match:()=>J8,read:()=>g2e,uri:()=>m2e});var O_,K8,m2e,g2e,J8,y2e,Z8=b(()=>{Nu();O_=class extends Be{readWith(t,{protocol:r}={}){if(typeof t!="string"&&!(t instanceof URL))return Ke(`Expected URI but got ${t===null?"null":typeof t}`);try{let n=new URL(String(t));return r!=null&&n.protocol!==r?Ke(`Expected ${r} URI instead got ${n.href}`):{ok:n.href}}catch{return Ke("Invalid URI")}}},K8=new O_({}),m2e=()=>K8,g2e=e=>K8.read(e),J8=e=>new O_(e),y2e=e=>K8.from(e)});var yn={};ne(yn,{create:()=>zr,createLegacy:()=>b3,isLink:()=>Zt,link:()=>b2e,match:()=>di,optional:()=>_2e,parse:()=>td,read:()=>w2e,schema:()=>B_});var R_,B_,b2e,di,w2e,_2e,Q8=b(()=>{As();Nu();R_=class extends Be{readWith(t,{code:r,multihash:n={},version:o}){if(t==null)return Ke(`Expected link but got ${t} instead`);if(Zt(t)){if(r!=null&&t.code!==r)return Ke(`Expected link to be CID with 0x${r.toString(16)} codec`);if(n.code!=null&&t.multihash.code!==n.code)return Ke(`Expected link to be CID with 0x${n.code.toString(16)} hashing algorithm`);if(o!=null&&t.version!==o)return Ke(`Expected link to be CID version ${o} instead of ${t.version}`);let[i,a]=n.digest!=null?[hn.baseEncode(n.digest),hn.baseEncode(t.multihash.digest)]:["",""];return i!==a?Ke(`Expected link with "${i}" hash digest instead of "${a}"`):{ok:t}}else return Ke(`Expected link to be a CID instead of ${t}`)}},B_=new R_({}),b2e=()=>B_,di=(e={})=>new R_(e),w2e=e=>B_.read(e),_2e=()=>B_.optional()});var Cs={};ne(Cs,{did:()=>S2e,from:()=>x2e,match:()=>U_,read:()=>E2e});var N_,jZ,S2e,E2e,U_,x2e,Y8=b(()=>{Nu();N_=class extends Be{readWith(t,r){let n=r?`did:${r}:`:"did:";return t.startsWith(n)?{ok:t}:Ke(`Expected a ${n} but got "${t}" instead`)}},jZ=pi().refine(new N_),S2e=()=>jZ,E2e=e=>jZ.read(e),U_=(e={})=>pi().refine(new N_(e.method)),x2e=e=>U_({}).from(e)});var tk={};ne(tk,{match:()=>q_,read:()=>P2e,text:()=>v2e});var X8,q_,v2e,P2e,ek,rk=b(()=>{Nu();X8=pi(),q_=e=>e?X8.refine(new ek(e.pattern)):X8,v2e=q_,P2e=e=>X8.read(e),ek=class extends Be{readWith(t,r){return r.test(t)?{ok:t}:Ke(`Expected to match ${r} but got "${t}" instead`)}}});var j={};ne(j,{API:()=>Be,Bytes:()=>BZ,DID:()=>Cs,Link:()=>yn,Text:()=>tk,URI:()=>V8,and:()=>FZ,array:()=>kZ,boolean:()=>r2e,bytes:()=>f2e,dictionary:()=>z8,did:()=>U_,endsWith:()=>UZ,enum:()=>Xve,error:()=>Ke,float:()=>p2e,greaterThan:()=>RZ,integer:()=>a2e,intersection:()=>TZ,lessThan:()=>OZ,link:()=>di,literal:()=>A_,memberError:()=>ks,never:()=>Zve,nullable:()=>IZ,number:()=>n2e,ok:()=>be,optional:()=>k_,or:()=>CZ,refine:()=>qZ,startsWith:()=>NZ,string:()=>pi,struct:()=>C_,text:()=>q_,toString:()=>gd,tuple:()=>Yve,typeError:()=>qt,uint64:()=>c2e,unknown:()=>Qve,uri:()=>J8,variant:()=>yd});var Uu=b(()=>{Z8();Q8();Y8();rk();Nu();Q8();Y8();Z8();rk()});var Fs={};ne(Fs,{ArchiveSchema:()=>MZ,Delegation:()=>ca,View:()=>ca,allows:()=>A2e,archive:()=>WZ,create:()=>ik,delegate:()=>Ts,exportDAG:()=>ok,extract:()=>k2e,importDAG:()=>C2e,isDelegation:()=>fi,isLink:()=>D2e,view:()=>L_});function F2e(e){let t=[];function r(n){for(let o in n){let i=n[o];Zt(i)?t.push(i):i&&typeof i=="object"&&r(i)}}return r(e),t}var D2e,fi,A2e,LZ,I2e,ca,WZ,MZ,k2e,GZ,nk,j_,Ts,ok,$Z,C2e,ik,L_,T2e,bd=b(()=>{f_();As();Bu();v_();Fu();Uu();md();D2e=Zt,fi=e=>!Zt(e),A2e=(...e)=>{let t={};for(let r of e)for(let{with:n,can:o,nb:i}of LZ(r)){let a=t[n]||(t[n]={});(a[o]||(a[o]=[])).push({...i})}return t},LZ=function*({issuer:e,capabilities:t,proofs:r}){for(let n of t)if(n.with==="ucan:*"){yield{...n,with:e.did()};for(let o of r)if(fi(o))for(let i of LZ(o)){let a=I2e(i.can,n.can);a&&(yield{...i,can:a,nb:{...i.nb,...Object(n.nb)}})}}else yield n},I2e=(e,t)=>e==="*"?t:t==="*"||t.endsWith("/*")&&e.startsWith(t.slice(0,-1))?e:e.endsWith("/*")&&t.startsWith(e.slice(0,-1))?t:e===t?e:null,ca=class{constructor(t,r=new Map){this.root=t,this.blocks=r,Object.defineProperties(this,{blocks:{enumerable:!1}})}get attachedLinks(){let t=new Set,r=this.data;for(let n of r.capabilities){let o=F2e(n);for(let i of o)t.add(`${i}`)}for(let n of r.facts)if(Zt(n))t.add(`${n}`);else{let o=Object.values(n).filter(i=>Zt(i));for(let i of o)t.add(`${i}`)}return t}get version(){return this.data.version}get signature(){return this.data.signature}get cid(){return this.root.cid}link(){return this.root.cid}get asCID(){return this.cid}get bytes(){return this.root.bytes}get data(){let t=j_(this.root);return Object.defineProperties(this,{data:{value:t,enumerable:!1}}),t}attach(t){if(!this.attachedLinks.has(`${t.cid.link()}`))throw new Error(`given block with ${t.cid} is not an attached link`);this.blocks.set(`${t.cid}`,t)}export(){return ok(this.root,this.blocks,this.attachedLinks)}archive(){return WZ(this)}iterateIPLDBlocks(){return ok(this.root,this.blocks,this.attachedLinks)}get proofs(){return T2e(this)}get issuer(){return this.data.issuer}get audience(){return this.data.audience}get capabilities(){return this.data.capabilities}get expiration(){return this.data.expiration}get notBefore(){return this.data.notBefore}get nonce(){return this.data.nonce}get facts(){return this.data.facts}iterate(){return GZ(this)}delegate(){return this}buildIPLDView(){return this}toJSON(){return{...this.data.toJSON(),"/":this.cid.toString(),prf:this.proofs.map(t=>fi(t)?t:{"/":t.toString()})}}},WZ=async e=>{try{let t=new Map;for(let o of e.iterateIPLDBlocks())t.set(`${o.cid}`,o);let r=await i8({[`ucan@${e.version}`]:e.root.cid});t.set(`${r.cid}`,r);let n=x_({roots:[r],blocks:t});return be(n)}catch(t){return hd(t)}},MZ=yd({"ucan@0.9.1":di({version:1})}),k2e=async e=>{try{let{roots:t,blocks:r}=fd(e),[n]=t;if(n==null)return Ke("CAR archive does not contain a root block");let{bytes:o}=n,i=Jt(o),[,a]=MZ.match(i);return be(L_({root:a,blocks:r}))}catch(t){return hd(t)}},GZ=function*(e){for(let t of e.proofs)fi(t)&&(yield*GZ(t),yield t)},nk=new WeakMap,j_=({bytes:e})=>{let t=nk.get(e);if(!t){let r=cZ(e);return nk.set(e,r),r}return t},Ts=async({issuer:e,audience:t,proofs:r=[],attachedBlocks:n=new Map,...o},i)=>{let a=[],s=new Map;for(let w of r)if(!fi(w))a.push(w);else{a.push(w.cid);for(let m of w.export())s.set(m.cid.toString(),m)}let u=await lZ({...o,issuer:e,audience:t,proofs:a}),{cid:c,bytes:l}=await uZ(u,i);nk.set(c,u);let d=new ca({cid:c,bytes:l},s);Object.defineProperties(d,{proofs:{value:r}});for(let w of n.values())d.attach(w);return d},ok=function*(e,t,r){for(let n of j_(e).proofs){let o=t.get(`${n}`);o&&(yield*$Z(o,t))}for(let n of r.values()){let o=t.get(n);o&&(yield o)}yield e},$Z=function*(e,t){for(let r of j_(e).proofs){let n=t.get(`${r}`);n&&(yield*$Z(n,t))}yield e},C2e=e=>{let t=[];for(let n of e)t.push([n.cid.toString(),n]);let r=t.pop();if(r){let[,n]=r;return new ca(n,new Map(t))}else throw new RangeError("Empty DAG can not be turned into a delegation")},ik=({root:e,blocks:t})=>new ca(e,t),L_=({root:e,blocks:t},r)=>{let n=oa(e,t,null);return n==null?r!==void 0?r:ui(e):ik({root:n,blocks:t})},T2e=e=>{let t=[],{root:r,blocks:n}=e;for(let o of j_(r).proofs){let i=n.get(o.toString());t.push(i?ik({root:i,blocks:n}):o)}return Object.defineProperty(e,"proofs",{value:t}),t}});var Os={};ne(Os,{Invocation:()=>W_,create:()=>zZ,invoke:()=>wd,isInvocation:()=>O2e,view:()=>_d});var O2e,wd,zZ,_d,ak,W_,M_=b(()=>{bd();Bu();O2e=e=>fi(e),wd=e=>new ak(e),zZ=({root:e,blocks:t})=>new W_(e,t),_d=({root:e,blocks:t},r)=>{let n=oa(e,t,null);return n==null?r!==void 0?r:ui(e):zZ({root:n,blocks:t})},ak=class{constructor({issuer:t,audience:r,capability:n,proofs:o=[],expiration:i,lifetimeInSeconds:a,notBefore:s,nonce:u,facts:c=[]}){this.issuer=t,this.audience=r,this.proofs=o,this.capabilities=[n],this.expiration=i,this.lifetimeInSeconds=a,this.notBefore=s,this.nonce=u,this.facts=c,this.attachedBlocks=new Map}attach(t){this.attachedBlocks.set(`${t.cid}`,t)}delegate(){return Ts(this)}buildIPLDView(){return Ts(this)}async execute(t){let r=this,[n]=await t.execute(r);return n}},W_=class extends ca{}});var ua={};ne(ua,{issue:()=>B2e,view:()=>$_});var $_,G_,sk,R2e,B2e,ck=b(()=>{mn();M_();bd();Kn();Bu();Fu();na();$_=({root:e,blocks:t},r)=>{let n=oa(e,t,null);if(n==null)return r!==void 0?r:ui(e);let o=Jt(n.bytes);return new G_({root:{...n,data:o},store:t})},G_=class{constructor({root:t,store:r,ran:n,issuer:o,signature:i,proofs:a}){this.store=r,this.root=t,this._ran=n,this._fx=void 0,this._signature=i,this._proofs=a,this._issuer=o}get ran(){let t=this._ran;if(t)return t;{let r=_d({root:this.root.data.ocm.ran,blocks:this.store},this.root.data.ocm.ran);return this._ran=r,r}}get proofs(){let t=this._proofs;if(t)return t;{let{store:r,root:n}=this,{prf:o}=n.data.ocm,i=[];if(o)for(let a of o){let s=L_({root:a,blocks:r},a);i.push(s)}return this._proofs=i,i}}link(){return this.root.cid}get meta(){return this.root.data.ocm.meta}get issuer(){let t=this._issuer;if(t)return t;{let{iss:r}=this.root.data.ocm;if(r){let n=st(r);return this._issuer=n,n}}}get out(){return this.root.data.ocm.out}get fx(){let t=this._fx;if(!t){let{store:r}=this,{fork:n,join:o}=this.root.data.ocm.fx;t={fork:n.map(i=>_d({root:i,blocks:r},i))},o&&(t.join=_d({root:o,blocks:r},o)),this._fx=t}return t}get signature(){let t=this._signature;if(t)return t;{let r=s_(this.root.data.sig);return this._signature=r,r}}verifySignature(t){return this.signature.verify(t,Is(this.root.data.ocm))}buildIPLDView(){return this}*iterateIPLDBlocks(){let{ran:t,fx:r,proofs:n,root:o}=this;yield*ci(t);for(let i of r.fork)yield*ci(i);r.join&&(yield*ci(r.join));for(let i of n)yield*ci(i);yield o}},sk=class{constructor({issuer:t,result:r,ran:n,fx:o=R2e,proofs:i=[],meta:a={}}){this.issuer=t,this.result=r,this.ran=n,this.fx=o,this.proofs=i,this.meta=a}async buildIPLDView({hasher:t=ur,codec:r=Vn}={}){let n=dZ();Ou(ci(this.ran),n);let o=[];for(let l of this.proofs)Ou(ci(l),n),o.push(l.link());let i={fork:[]};for(let l of this.fx.fork)Ou(ci(l),n),i.fork.push(l.link());this.fx.join&&(Ou(ci(this.fx.join),n),i.join=this.fx.join.link());let a={ran:this.ran.link(),out:this.result,fx:i,meta:this.meta,iss:this.issuer.did(),prf:o},s=await this.issuer.sign(Is(a)),c=await m_({ocm:a,sig:s},n,{hasher:t,codec:r});return new G_({root:c,store:n,signature:s,proofs:this.proofs,ran:this.ran})}},R2e=Object.freeze({fork:Object.freeze([])}),B2e=e=>new sk(e).buildIPLDView()});var Io={};ne(Io,{MessageSchema:()=>HZ,build:()=>N2e,view:()=>U2e});var HZ,N2e,U2e,uk,q2e,j2e,z_,KZ=b(()=>{Bu();yr();ck();Uu();HZ=yd({"ucanto/message@7.0.0":C_({execute:di().array().optional(),delegate:z8({key:pi(),value:di()}).array().optional()})}),N2e=({invocations:e,receipts:t})=>new uk({invocations:e,receipts:t}).buildIPLDView(),U2e=({root:e,store:t},r)=>{let n=oa(e,t,null);if(n===null)return r!==void 0?r:ui(e);let o=Vn.decode(n.bytes),[i,a]=HZ.match(o,r);switch(i){case"ucanto/message@7.0.0":return new z_({root:{...n,data:o},store:t});default:return a}},uk=class{constructor({invocations:t,receipts:r}){this.invocations=t,this.receipts=r}async buildIPLDView(t){let r=new Map,{invocations:n,...o}=await q2e(this.invocations||[],r),{receipts:i,...a}=await j2e(this.receipts||[],r),s=await m_({"ucanto/message@7.0.0":{...o,...a}},r,t);return new z_({root:s,store:r},{receipts:i,invocations:n})}},q2e=async(e,t)=>{let r=[],n=[];for(let o of e){let i=await o.buildIPLDView();n.push(i.link()),r.push(i);for(let a of i.iterateIPLDBlocks())t.set(`${a.cid}`,a)}return{invocations:r,...n.length>0?{execute:n}:{}}},j2e=async(e,t)=>{if(e.length===0)return{};let r=new Map,n={};for(let[o,i]of e.entries()){let a=await i.buildIPLDView();for(let u of a.iterateIPLDBlocks())t.set(`${u.cid}`,u);let s=`${a.ran.link()}`;s in n?r.set(`${s}@${o}`,a):(n[s]=a.root.cid,r.set(s,a))}return{receipts:r,report:n}},z_=class{constructor({root:t,store:r},{invocations:n,receipts:o}={}){this.root=t,this.store=r,this._invocations=n,this._receipts=o}*iterateIPLDBlocks(){for(let t of this.invocations)yield*t.iterateIPLDBlocks();for(let t of this.receipts.values())yield*t.iterateIPLDBlocks();yield this.root}get(t,r){let o=(this.root.data["ucanto/message@7.0.0"].report||{})[`${t}`];return o?$_({root:o,blocks:this.store}):r!==void 0?r:DZ(`Message does not include receipt for ${t}`)}get invocationLinks(){return this.root.data["ucanto/message@7.0.0"].execute||[]}get invocations(){let t=this._invocations;return t||(t=this.invocationLinks.map(r=>Os.view({root:r,blocks:this.store}))),t}get receipts(){let t=this._receipts;if(!t){t=new Map;let r=this.root.data["ucanto/message@7.0.0"].report||{};for(let[n,o]of Object.entries(r)){let i=$_({root:o,blocks:this.store});t.set(`${i.ran.link()}`,i)}}return t}}});var yr=b(()=>{c3();bd();M_();KZ();ck();Bu();Fu();v_();bd();M_();As();na();vs();f_();mn();Kn();md();Uu()});var ko,lk,L2e,JZ=b(()=>{yr();ko=e=>new lk(e),lk=class{constructor(t){this.id=t.id,this.options=t,this.codec=t.codec,this.channel=t.channel,this.hasher=t.hasher||ur}async execute(...t){return L2e(t,this)}},L2e=async(e,t)=>{let r=await Io.build({invocations:e}),n=await t.codec.encode(r,t),o=await t.channel.request(n);try{let i=await t.codec.decode(o);return r.invocationLinks.map(s=>i.get(s))}catch(i){let{message:a,name:s="Error",...u}=i,c=[];for await(let l of r.invocationLinks){let d=await ua.issue({ran:l,result:{error:{...u,name:s,message:a}},issuer:{did(){return t.id.did()},sign(){return Hn.createNonStandard("",new Uint8Array)}}});c.push(d)}return c}}});var _rt,qu=b(()=>{JZ();c3();yr();_rt=Fs.delegate});var Rs={};ne(Rs,{codec:()=>Ye,contentType:()=>ju,decode:()=>G2e,encode:()=>M2e});var ju,W2e,M2e,G2e,VZ=b(()=>{yr();ju=Ye.contentType,W2e=Object.freeze({"content-type":ju,accept:ju}),M2e=(e,t)=>{let r=new Map;for(let o of e.iterateIPLDBlocks())r.set(`${o.cid}`,o);let n=Ye.encode({roots:[e.root],blocks:r});return{headers:t?.headers||{...W2e},body:n}},G2e=async({headers:e,body:t})=>{let{roots:r,blocks:n}=Ye.decode(t);return Io.view({root:r[0].cid,store:n})}});var Bs={};ne(Bs,{codec:()=>Ye,contentType:()=>Sd,decode:()=>H2e,encode:()=>z2e});var Sd,$2e,z2e,H2e,ZZ=b(()=>{yr();Sd=Ye.contentType,$2e=Object.freeze({"content-type":Sd}),z2e=(e,t)=>{let r=new Map;for(let o of e.iterateIPLDBlocks())r.set(`${o.cid}`,o);let n=Ye.encode({roots:[e.root],blocks:r});return{headers:{...$2e},body:n}},H2e=async({headers:e,body:t})=>{let{roots:r,blocks:n}=Ye.decode(t);return Io.view({root:r[0].cid,store:n})}});var H_,pk,QZ,dk,fk,K2e,J2e,YZ,Ed=b(()=>{H_=e=>new pk(e),pk=class{accept({headers:t}){let r=t["content-type"]||t["Content-Type"],n=this.decoders[r];if(!n)return{error:{status:415,message:"The server cannot process the request because the payload format is not supported. Please check the content-type header and try again with a supported media type.",headers:{accept:Object.keys(this.decoders).join(", ")}}};let o=J2e(t.accept||t.Accept||"*/*");for(let{category:i,type:a}of o)for(let s of this.encoders)if((i==="*"||i===s.category)&&(a==="*"||a===s.type))return{ok:{...s,decoder:n}};return{error:{status:406,message:"The requested resource cannot be served in the requested content type. Please specify a supported content type using the Accept header.",headers:{accept:YZ(Object.values(this.encoders))}}}}constructor({decoders:t={},encoders:r={}}){if(this.decoders=t,Object.keys(t).length===0)throw new Error("At least one decoder MUST be provided");if(this.encoders=Object.entries(r).map(([n,o])=>({...fk(n),encoder:o})).sort((n,o)=>o.preference-n.preference),this.encoders.length===0)throw new Error("At least one encoder MUST be provided")}},QZ=e=>new dk(e),dk=class{constructor({decoders:t={},encoders:r={}}){if(this.decoders=t,Object.keys(t).length===0)throw new Error("At least one decoder MUST be provided");if(this.encoders=Object.entries(r).map(([n,o])=>({...fk(n),encoder:o})).sort((n,o)=>o.preference-n.preference),this.acceptType=YZ(this.encoders),this.encoders.length===0)throw new Error("At least one encoder MUST be provided");this.encoder=this.encoders[0].encoder}encode(t){return this.encoder.encode(t,{accept:this.acceptType})}decode(t){let{headers:r}=t,n=r["content-type"]||r["Content-Type"],o=this.decoders[n]||this.decoders["*/*"];switch(t.status){case 415:case 406:throw Object.assign(new RangeError(new TextDecoder().decode(t.body)),{status:t.status,headers:t.headers})}if(!o)throw Object.assign(TypeError(`Can not decode response with content-type '${n}' because no matching transport decoder is configured.`),{error:!0});return o.decode(t)}},fk=e=>{let[t="*/*",r=""]=e.trim().split(";"),[n="*",o="*"]=t.split("/"),i=new URLSearchParams(r),a=parseFloat(i.get("q")||"0");return{category:n,type:o,preference:isNaN(a)?0:a}},K2e=({category:e,type:t,preference:r})=>`${e}/${t}${r?`;q=${r}`:""}`,J2e=e=>e.split(",").map(fk).sort((t,r)=>r.preference-t.preference),YZ=e=>e.map(K2e).join(", ")});var jt={};ne(jt,{codec:()=>Ye,contentType:()=>K_,inbound:()=>V2e,outbound:()=>Z2e,request:()=>Rs,response:()=>Bs});var K_,V2e,Z2e,J_=b(()=>{yr();VZ();ZZ();Ed();K_=Ye.contentType,V2e=H_({decoders:{[ju]:Rs},encoders:{[Sd]:Bs}}),Z2e=QZ({encoders:{[ju]:Rs},decoders:{[Sd]:Bs}})});var bn={};ne(bn,{open:()=>Q2e});var Q2e,mk,gk,XZ=b(()=>{Q2e=({url:e,method:t="POST",fetch:r})=>{if(!r)if(typeof globalThis.fetch<"u")r=globalThis.fetch.bind(globalThis);else throw new TypeError("ucanto HTTP transport got undefined `fetch`. Try passing in a `fetch` implementation explicitly.");return new mk({url:e,method:t,fetch:r})},mk=class{constructor({url:t,fetch:r,method:n}){this.fetch=r,this.method=n,this.url=t}async request({headers:t,body:r}){let n=await this.fetch(this.url.href,{headers:t,body:r,method:this.method}),o=n.ok?await n.arrayBuffer():gk.throw(`HTTP Request failed. ${this.method} ${this.url.href} \u2192 ${n.status}`,n);return{headers:n.headers.entries?Object.fromEntries(n.headers.entries()):{},body:new Uint8Array(o)}}},gk=class extends Error{static throw(t,r){throw new this(t,r)}constructor(t,{url:r,status:n=500,statusText:o="Server error"}){super(t),this.name="HTTPError",this.url=r,this.status=n,this.statusText=o}}});var Art,Irt,eQ=b(()=>{Art=new TextEncoder,Irt=new TextDecoder});var yk={};ne(yk,{contentType:()=>tQ,encode:()=>ePe});var tQ,X2e,ePe,rQ=b(()=>{Fu();tQ="application/cbor",X2e=Object.freeze({"content-type":tQ}),ePe=(e,t)=>{let r=[];for(let o of e.receipts.values()){let i=o.out;i.ok?r.push(i.ok):r.push({...i.error,error:!0})}let n=Is(r);return{headers:X2e,body:n}}});var V_={};ne(V_,{contentType:()=>tPe,decode:()=>rPe});var tPe,rPe,nQ=b(()=>{v_();yr();tPe="application/car",rPe=async({body:e})=>{let{roots:t,blocks:r}=fd(e),n=[];for(let{cid:i}of t){let a=Os.view({root:i,blocks:r});n.push(a)}return await Io.build({invocations:n})}});var nPe,Crt,oQ=b(()=>{Ed();J_();rQ();nQ();({contentType:nPe}=V_),Crt=H_({decoders:{[nPe]:V_,[K_]:Rs},encoders:{"*/*;q=0.1":yk,[K_]:Bs}})});var la=b(()=>{J_();XZ();eQ();oQ();Ed();Ed()});var xd,iQ,aQ,bk,wk=b(()=>{xd=e=>e,iQ=e=>Object.entries(e),aQ=([e,...t])=>{let r=e.map(n=>[n]);for(let n of t){let o=r.splice(0);for(let i of n)for(let a of o)r.push([...a,i])}return r},bk=(e,t)=>{let[r,n]=e.length<t.length?[new Set(e),new Set(t)]:[new Set(t),new Set(e)];for(let o of r)n.has(o)||r.delete(o);return[...r]}});var vd,hi,pa,Lu,sQ,iPe,_k,Sk=b(()=>{wk();As();md();vd=class extends Kr{constructor(t,r,n){super(),this.claimed=t,this.delegated=r,this.cause=n,this.name=xd("EscalatedCapability")}describe(){return`Constraint violation: ${this.cause.message}`}},hi=class extends Kr{constructor(t,r){super(),this.name=xd("InvalidClaim"),this.causes=t,this.context=r}describe(){return[`Can not derive ${this.context} from delegated capabilities:`,...this.causes.map(t=>_k(t.message))].join(`
`)}get cause(){if(this.causes.length!==1)return this;{let[t]=this.causes,r=t.name==="InvalidClaim"?t.cause:t;return Object.defineProperties(this,{cause:{value:r}}),r}}},pa=class extends Kr{constructor(t,r){super(),this.name=xd("MalformedCapability"),this.capability=t,this.cause=r}describe(){return[`Encountered malformed '${this.capability.can}' capability: ${sQ(this.capability)}`,_k(this.cause.message)].join(`
`)}},Lu=class extends Kr{constructor(t){super(),this.name=xd("UnknownCapability"),this.capability=t}describe(){return`Encountered unknown capability: ${sQ(this.capability)}`}},sQ=(e,t)=>JSON.stringify(e,(r,n)=>Zt(n)?n.toString():n,t),iPe=(e,t="  ")=>`${t}${e.split(`
`).join(`
${t}`)}`,_k=e=>iPe(`- ${e}`)});var xe,aPe,sPe,cPe,uPe,Z_,Pd,Ek,cQ,lPe,xk,vk,Pk,Dk,Ak,Q_,pPe,dPe,fPe,hPe,Y_,mPe,uQ,gPe,Ik=b(()=>{wk();Sk();yr();xe=({derives:e=gPe,nb:t=aPe,...r})=>new Ek({derives:e,nb:t,...r}),aPe=j.struct({}),sPe=(e,t)=>new xk(e,t),cPe=(...e)=>new vk(e),uPe=({from:e,to:t,derives:r})=>new Pk(e,t,r),Z_=class{match(t){return{error:new Lu(t.capability)}}select(t){return mPe(this,t)}derive({derives:t,to:r}){return uPe({derives:t,to:r,from:this})}},Pd=class extends Z_{or(t){return sPe(this,t)}and(t){return cPe(this,t)}},Ek=class extends Pd{constructor(t){super(),this.descriptor=t,this.schema=j.struct({can:j.literal(t.can),with:t.with,nb:t.nb})}create(t){let{descriptor:r,can:n}=this,o=r.nb,i=t.nb||{},a=r.with.read(t.with);if(a.error)throw Object.assign(new Error(`Invalid 'with' - ${a.error.message}`),{cause:a});let s=r.nb.read(i);if(s.error)throw Object.assign(new Error(`Invalid 'nb' - ${s.error.message}`),{cause:s});return cQ({can:n,with:a.ok,nb:s.ok})}invoke({with:t,nb:r,...n}){return wd({...n,capability:this.create({with:t,nb:r})})}async delegate({nb:t={},with:r,...n}){let{descriptor:o,can:i}=this,a=o.nb,s=o.with.read(r);if(s.error)throw Object.assign(new Error(`Invalid 'with' - ${s.error.message}`),{cause:s});let u=o.nb.partial().read(t);if(u.error)throw Object.assign(new Error(`Invalid 'nb' - ${u.error.message}`),{cause:u});return Ts({capabilities:[cQ({can:i,with:s.ok,nb:u.ok})],...n})}get can(){return this.descriptor.can}match(t){let r=fPe(this.descriptor,t);return r.error?r:{ok:new Dk(t,r.ok,this.descriptor)}}toString(){return JSON.stringify({can:this.descriptor.can})}},cQ=({can:e,with:t,nb:r})=>({can:e,with:t,...lPe(r)?{}:{nb:r}}),lPe=e=>{for(let t in e)return!1;return!0},xk=class extends Pd{constructor(t,r){super(),this.left=t,this.right=r}match(t){let r=this.left.match(t);if(r.error){let n=this.right.match(t);return n.error?n.error.name==="MalformedCapability"?n:r:n}else return r}toString(){return`${this.left.toString()}|${this.right.toString()}`}},vk=class e extends Z_{constructor(t){super(),this.selectors=t}match(t){let r=[];for(let n of this.selectors){let o=n.match(t);if(o.error)return o;r.push(o.ok)}return{ok:new Q_(r)}}select(t){return uQ(this,t)}and(t){return new e([...this.selectors,t])}toString(){return`[${this.selectors.map(String).join(", ")}]`}},Pk=class extends Pd{constructor(t,r,n){super(),this.from=t,this.to=r,this.derives=n}create(t){return this.to.create(t)}invoke(t){return this.to.invoke(t)}delegate(t){return this.to.delegate(t)}get can(){return this.to.can}match(t){let r=this.to.match(t);return r.error?r:{ok:new Ak(r.ok,this.from,this.derives)}}toString(){return this.to.toString()}},Dk=class e{constructor(t,r,n){this.source=[t],this.value=r,this.descriptor=n}get can(){return this.value.can}get proofs(){let t=[this.source[0].delegation];return Object.defineProperties(this,{proofs:{value:t}}),t}prune(t){return t.canIssue(this.value,this.source[0].delegation.issuer.did())?null:this}select(t){let r=[],n=[],o=[];for(let i of t){let a=hPe(this.descriptor,this.value,i);if(a.ok){let s=this.descriptor.derives(this.value,a.ok);s.error?n.push(new hi([new vd(this.value,a.ok,s.error)],this)):o.push(new e(i,a.ok,this.descriptor))}else switch(a.error.name){case"UnknownCapability":r.push(a.error.capability);break;case"MalformedCapability":default:n.push(new hi([a.error],this))}}return{matches:o,unknown:r,errors:n}}toString(){let{nb:t}=this.value;return JSON.stringify({can:this.descriptor.can,with:this.value.with,nb:t&&Object.keys(t).length>0?t:void 0})}},Ak=class e{constructor(t,r,n){this.selected=t,this.from=r,this.derives=n}get can(){return this.value.can}get source(){return this.selected.source}get proofs(){let t=[];for(let{delegation:r}of this.selected.source)t.push(r);return Object.defineProperties(this,{proofs:{value:t}}),t}get value(){return this.selected.value}prune(t){let r=this.selected.prune(t);return r?new e(r,this.from,this.derives):null}select(t){let{derives:r,selected:n,from:o}=this,{value:i}=n,a=n.select(t),s=o.select(t),u=[],c=[];for(let l of s.matches){let d=r(i,l.value);d.error?c.push(new hi([new vd(i,l.value,d.error)],this)):u.push(l)}return{unknown:bk(a.unknown,s.unknown),errors:[...c,...a.errors,...s.errors.map(l=>new hi([l],this))],matches:[...a.matches.map(l=>new e(l,o,r)),...u]}}toString(){return this.selected.toString()}},Q_=class e{constructor(t){this.matches=t}get selectors(){return this.matches}get source(){let t=[];for(let r of this.matches)t.push(...r.source);return Object.defineProperties(this,{source:{value:t}}),t}prune(t){let r=[];for(let n of this.matches){let o=n.prune(t);o&&r.push(o)}return r.length===0?null:new e(r)}get proofs(){let t=[];for(let{delegation:r}of this.source)t.push(r);return Object.defineProperties(this,{proofs:{value:t}}),t}get value(){let t=[];for(let r of this.matches)t.push(r.value);return Object.defineProperties(this,{value:{value:t}}),t}select(t){return uQ(this,t)}toString(){return`[${this.matches.map(t=>t.toString()).join(", ")}]`}},pPe=(e,t,r)=>{switch(e){case t:case"*":return t;default:return e.endsWith("/*")&&t.startsWith(e.slice(0,-1))?t:r}},dPe=(e,t,r)=>{switch(e){case t:case"ucan:*":return t;default:return r}},fPe=(e,t)=>{let{delegation:r}=t,n=t.capability;if(e.can!==n.can)return{error:new Lu(n)};let o=e.with.read(n.with);if(o.error)return{error:new pa(n,o.error)};let i=e.nb.read(n.nb||{});return i.error?{error:new pa(n,i.error)}:{ok:new Y_(e.can,o.ok,i.ok,r)}},hPe=(e,t,{capability:r,delegation:n})=>{let o=pPe(r.can,t.can,null);if(o==null)return{error:new Lu(r)};let i=dPe(r.with,t.with,r.with),a=e.with.read(i);if(a.error)return{error:new pa(r,a.error)};let s=e.nb.read({...t.nb,...r.nb});return s.error?{error:new pa(r,s.error)}:{ok:new Y_(o,a.ok,s.ok,n)}},Y_=class{constructor(t,r,n,o){this.can=t,this.with=r,this.delegation=o,this.nb=n}},mPe=(e,t)=>{let r=[],n=[],o=[];for(let i of t){let a=e.match(i);if(a.error)switch(a.error.name){case"UnknownCapability":r.push(a.error.capability);break;case"MalformedCapability":default:o.push(new hi([a.error],a.error.capability))}else n.push(a.ok)}return{matches:n,errors:o,unknown:r}},uQ=(e,t)=>{let r,n=[],o=[];for(let a of e.selectors){let s=a.select(t);r=r?bk(r,s.unknown):s.unknown;for(let u of s.errors)o.push(new hi([u],e));n.push(s.matches)}let i=aQ(n).map(a=>new Q_(a));return{unknown:r||[],errors:o,matches:i}},gPe=(e,t)=>{if(t.with.endsWith("*")){if(!e.with.startsWith(t.with.slice(0,-1)))return j.error(`Resource ${e.with} does not match delegated ${t.with} `)}else if(t.with!==e.with)return j.error(`Resource ${e.with} is not contained by ${t.with}`);let r=t.nb||{},n=e.nb||{},o=iQ(r);for(let[i,a]of o)if(n[i]!=a)return j.error(`${String(i)}: ${n[i]} violates ${a}`);return{ok:!0}}});var lQ=b(()=>{});var br=b(()=>{yr();Ik();Uu();lQ();Sk();Ik();Uu()});var bPe,wPe,Jr,Dd=b(()=>{br();bPe=4113,wPe=85,Jr=j.link({code:wPe,version:1,multihash:{code:bPe}})});function mi(e,t){if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0}var Ad=b(()=>{});function Re(e,t){return e.with===t.with?be({}):rt(`Can not derive ${e.can} with ${e.with} from ${t.with}`)}function gt(e,t,r){return t===void 0||t==="*"?be({}):String(e)===String(t)?be({}):rt(`Constrain violation: ${e} violates imposed ${r} constraint ${t}`)}var lnt,_e,pnt,Id,X_,kd,pQ,Qe,fe,nt=b(()=>{br();Ad();lnt=Cs.match({method:"web"}),_e=Cs.match({method:"key"}),pnt=Cs.match({method:"mailto"}),Id=j.struct({"ucan/await":j.tuple([j.string(),j.link()])});X_=(e,t)=>e.with!==t.with?rt(`Expected 'with: "${t.with}"' instead got '${e.with}'`):t.nb.link&&`${t.nb.link}`!=`${e.nb.link}`?rt(`Link ${e.nb.link?`${e.nb.link}`:""} violates imposed ${t.nb.link} constraint.`):be({}),kd=(e,t)=>e.with!==t.with?rt(`Expected 'with: "${t.with}"' instead got '${e.with}'`):t.nb.blob.digest&&!mi(t.nb.blob.digest,e.nb.blob.digest)?rt(`Link ${e.nb.blob.digest?`${e.nb.blob.digest}`:""} violates imposed ${t.nb.blob.digest} constraint.`):e.nb.blob.size!==void 0&&t.nb.blob.size!==void 0?e.nb.blob.size>t.nb.blob.size?rt(`Size constraint violation: ${e.nb.blob.size} > ${t.nb.blob.size}`):be({}):be({}),pQ=(e,t)=>e.with!==t.with?rt(`Expected 'with: "${t.with}"' instead got '${e.with}'`):t.nb.body.digest&&!mi(t.nb.body.digest,e.nb.body.digest)?rt(`Link ${e.nb.body.digest?`${e.nb.body.digest}`:""} violates imposed ${t.nb.body.digest} constraint.`):e.nb.body.size!==void 0&&t.nb.body.size!==void 0?e.nb.body.size>t.nb.body.size?rt(`Size constraint violation: ${e.nb.body.size} > ${t.nb.body.size}`):be({}):be({}),Qe=(e,t,r)=>gt(String(e),t===void 0?void 0:String(t),r),fe=e=>e.error?e:void 0});var dQ,fQ,hQ,mQ,gQ=b(()=>{br();Dd();nt();dQ=xe({can:"filecoin/offer",with:j.did(),nb:j.struct({content:j.link(),piece:Jr}),derives:(e,t)=>fe(Re(e,t))||fe(Qe(e.nb.content,t.nb.content,"nb.content"))||fe(Qe(e.nb.piece,t.nb.piece,"nb.piece"))||be({})}),fQ=xe({can:"filecoin/submit",with:j.did(),nb:j.struct({content:j.link(),piece:Jr}),derives:(e,t)=>fe(Re(e,t))||fe(Qe(e.nb.content,t.nb.content,"nb.content"))||fe(Qe(e.nb.piece,t.nb.piece,"nb.piece"))||be({})}),hQ=xe({can:"filecoin/accept",with:j.did(),nb:j.struct({content:j.link(),piece:Jr}),derives:(e,t)=>fe(Re(e,t))||fe(Qe(e.nb.content,t.nb.content,"nb.content"))||fe(Qe(e.nb.piece,t.nb.piece,"nb.piece"))||be({})}),mQ=xe({can:"filecoin/info",with:j.did(),nb:j.struct({piece:Jr}),derives:(e,t)=>fe(Re(e,t))||fe(Qe(e.nb.piece,t.nb.piece,"nb.piece"))||be({})})});var Qt,Cd=b(()=>{mn();Qt={STOREFRONT:{url:new URL("https://up.web3.storage"),principal:st("did:web:web3.storage")},AGGREGATOR:{url:new URL("https://aggregator.web3.storage"),principal:st("did:web:web3.storage")},DEALER:{url:new URL("https://dealer.web3.storage"),principal:st("did:web:web3.storage")},DEAL_TRACKER:{url:new URL("https://tracker.web3.storage"),principal:st("did:web:web3.storage")}}});var e0={};ne(e0,{connection:()=>Td,filecoinAccept:()=>xPe,filecoinInfo:()=>vPe,filecoinOffer:()=>SPe,filecoinSubmit:()=>EPe});async function SPe({issuer:e,with:t,proofs:r,audience:n},o,i,a={}){let s=a.connection??Td;return await dQ.invoke({issuer:e,audience:n??Qt.STOREFRONT.principal,with:t,nb:{content:o,piece:i},proofs:r,expiration:1/0}).execute(s)}async function EPe({issuer:e,with:t,proofs:r,audience:n},o,i,a={}){let s=a.connection??Td;return await fQ.invoke({issuer:e,audience:n??Qt.STOREFRONT.principal,with:t,nb:{content:o,piece:i},proofs:r,expiration:1/0}).execute(s)}async function xPe({issuer:e,with:t,proofs:r,audience:n},o,i,a={}){let s=a.connection??Td;return await hQ.invoke({issuer:e,audience:n??Qt.STOREFRONT.principal,with:t,nb:{content:o,piece:i},proofs:r,expiration:1/0}).execute(s)}async function vPe({issuer:e,with:t,proofs:r,audience:n},o,i={}){let a=i.connection??Td;return await mQ.invoke({issuer:e,audience:n??Qt.STOREFRONT.principal,with:t,nb:{piece:o},proofs:r}).execute(a)}var Td,yQ=b(()=>{qu();la();gQ();Cd();Td=ko({id:Qt.STOREFRONT.principal,codec:jt.outbound,channel:bn.open({url:Qt.STOREFRONT.url,method:"POST"})})});var PPe,DPe,bQ=b(()=>{br();Dd();nt();PPe=xe({can:"piece/offer",with:j.did(),nb:j.struct({piece:Jr,group:j.text()}),derives:(e,t)=>fe(Re(e,t))||fe(Qe(e.nb.piece,t.nb.piece,"nb.piece"))||fe(gt(e.nb.group,t.nb.group,"nb.group"))||be({})}),DPe=xe({can:"piece/accept",with:j.did(),nb:j.struct({piece:Jr,group:j.text()}),derives:(e,t)=>fe(Re(e,t))||fe(Qe(e.nb.piece,t.nb.piece,"nb.piece"))||fe(gt(e.nb.group,t.nb.group,"nb.group"))||be({})})});var Dnt,wQ=b(()=>{qu();la();bQ();Cd();Dnt=ko({id:Qt.AGGREGATOR.principal,codec:jt.outbound,channel:bn.open({url:Qt.AGGREGATOR.url,method:"POST"})})});var kPe,CPe,_Q=b(()=>{br();Dd();nt();kPe=xe({can:"aggregate/offer",with:j.did(),nb:j.struct({aggregate:Jr,pieces:j.link({version:1})}),derives:(e,t)=>fe(Re(e,t))||fe(Qe(e.nb.aggregate,t.nb.aggregate,"nb.aggregate"))||fe(Qe(e.nb.pieces,t.nb.pieces,"nb.pieces"))||be({})}),CPe=xe({can:"aggregate/accept",with:j.did(),nb:j.struct({aggregate:Jr,pieces:j.link()}),derives:(e,t)=>fe(Re(e,t))||fe(Qe(e.nb.aggregate,t.nb.aggregate,"nb.aggregate"))||fe(Qe(e.nb.pieces,t.nb.pieces,"nb.pieces"))||be({})})});var Rnt,SQ=b(()=>{qu();la();yr();_Q();Cd();Rnt=ko({id:Qt.DEALER.principal,codec:jt.outbound,channel:bn.open({url:Qt.DEALER.url,method:"POST"})})});var OPe,EQ=b(()=>{br();Dd();nt();OPe=xe({can:"deal/info",with:j.did(),nb:j.struct({piece:Jr}),derives:(e,t)=>fe(Re(e,t))||fe(Qe(e.nb.piece,t.nb.piece,"nb.piece"))||be({})})});var Wnt,xQ=b(()=>{qu();la();EQ();Cd();Wnt=ko({id:Qt.DEAL_TRACKER.principal,codec:jt.outbound,channel:bn.open({url:Qt.DEAL_TRACKER.url,method:"POST"})})});var vQ=b(()=>{yQ();wQ();SQ();xQ()});function NPe(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var o=0;o<e.length;o++){var i=e.charAt(o),a=i.charCodeAt(0);if(r[a]!==255)throw new TypeError(i+" is ambiguous");r[a]=o}var s=e.length,u=e.charAt(0),c=Math.log(s)/Math.log(256),l=Math.log(256)/Math.log(s);function d(p){if(p instanceof Uint8Array||(ArrayBuffer.isView(p)?p=new Uint8Array(p.buffer,p.byteOffset,p.byteLength):Array.isArray(p)&&(p=Uint8Array.from(p))),!(p instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(p.length===0)return"";for(var f=0,g=0,h=0,y=p.length;h!==y&&p[h]===0;)h++,f++;for(var _=(y-h)*l+1>>>0,S=new Uint8Array(_);h!==y;){for(var x=p[h],A=0,D=_-1;(x!==0||A<g)&&D!==-1;D--,A++)x+=256*S[D]>>>0,S[D]=x%s>>>0,x=x/s>>>0;if(x!==0)throw new Error("Non-zero carry");g=A,h++}for(var P=_-g;P!==_&&S[P]===0;)P++;for(var U=u.repeat(f);P<_;++P)U+=e.charAt(S[P]);return U}function w(p){if(typeof p!="string")throw new TypeError("Expected String");if(p.length===0)return new Uint8Array;var f=0;if(p[f]!==" "){for(var g=0,h=0;p[f]===u;)g++,f++;for(var y=(p.length-f)*c+1>>>0,_=new Uint8Array(y);p[f];){var S=r[p.charCodeAt(f)];if(S===255)return;for(var x=0,A=y-1;(S!==0||x<h)&&A!==-1;A--,x++)S+=s*_[A]>>>0,_[A]=S%256>>>0,S=S/256>>>0;if(S!==0)throw new Error("Non-zero carry");h=x,f++}if(p[f]!==" "){for(var D=y-h;D!==y&&_[D]===0;)D++;for(var P=new Uint8Array(g+(y-D)),U=g;D!==y;)P[U++]=_[D++];return P}}}function m(p){var f=w(p);if(f)return f;throw new Error(`Non-${t} character`)}return{encode:d,decodeUnsafe:w,decode:m}}var UPe,qPe,PQ,DQ=b(()=>{UPe=NPe,qPe=UPe,PQ=qPe});var $nt,AQ,wn,Wu=b(()=>{$nt=new Uint8Array(0),AQ=(e,t)=>{if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0},wn=e=>{if(e instanceof Uint8Array&&e.constructor.name==="Uint8Array")return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")}});var kk,Ck,Tk,IQ,Fk,kQ,Ok,jPe,LPe,Co,Rk=b(()=>{DQ();Wu();kk=class{constructor(t,r,n){this.name=t,this.prefix=r,this.baseEncode=n}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}},Ck=class{constructor(t,r,n){if(this.name=t,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(t){if(typeof t=="string"){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(t){return IQ(this,t)}},Tk=class{constructor(t){this.decoders=t}or(t){return IQ(this,t)}decode(t){let r=t[0],n=this.decoders[r];if(n)return n.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}},IQ=(e,t)=>new Tk({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}}),Fk=class{constructor(t,r,n,o){this.name=t,this.prefix=r,this.baseEncode=n,this.baseDecode=o,this.encoder=new kk(t,r,n),this.decoder=new Ck(t,r,o)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}},kQ=({name:e,prefix:t,encode:r,decode:n})=>new Fk(e,t,r,n),Ok=({prefix:e,name:t,alphabet:r})=>{let{encode:n,decode:o}=PQ(r,t);return kQ({prefix:e,name:t,encode:n,decode:i=>wn(o(i))})},jPe=(e,t,r,n)=>{let o={};for(let l=0;l<t.length;++l)o[t[l]]=l;let i=e.length;for(;e[i-1]==="=";)--i;let a=new Uint8Array(i*r/8|0),s=0,u=0,c=0;for(let l=0;l<i;++l){let d=o[e[l]];if(d===void 0)throw new SyntaxError(`Non-${n} character`);u=u<<r|d,s+=r,s>=8&&(s-=8,a[c++]=255&u>>s)}if(s>=r||255&u<<8-s)throw new SyntaxError("Unexpected end of data");return a},LPe=(e,t,r)=>{let n=t[t.length-1]==="=",o=(1<<r)-1,i="",a=0,s=0;for(let u=0;u<e.length;++u)for(s=s<<8|e[u],a+=8;a>r;)a-=r,i+=t[o&s>>a];if(a&&(i+=t[o&s<<r-a]),n)for(;i.length*r&7;)i+="=";return i},Co=({name:e,prefix:t,bitsPerChar:r,alphabet:n})=>kQ({prefix:t,name:e,encode(o){return LPe(o,n,r)},decode(o){return jPe(o,n,r,e)}})});var Ns,Znt,Qnt,Ynt,Xnt,eot,tot,rot,not,Bk=b(()=>{Rk();Ns=Co({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Znt=Co({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Qnt=Co({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Ynt=Co({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Xnt=Co({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),eot=Co({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),tot=Co({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),rot=Co({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),not=Co({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5})});var gi,aot,CQ=b(()=>{Rk();gi=Ok({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),aot=Ok({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"})});function OQ(e,t,r){t=t||[],r=r||0;for(var n=r;e>=$Pe;)t[r++]=e&255|TQ,e/=128;for(;e&GPe;)t[r++]=e&255|TQ,e>>>=7;return t[r]=e|0,OQ.bytes=r-n+1,t}function Nk(e,n){var r=0,n=n||0,o=0,i=n,a,s=e.length;do{if(i>=s)throw Nk.bytes=0,new RangeError("Could not decode varint");a=e[i++],r+=o<28?(a&FQ)<<o:(a&FQ)*Math.pow(2,o),o+=7}while(a>=HPe);return Nk.bytes=i-n,r}var WPe,TQ,MPe,GPe,$Pe,zPe,HPe,FQ,KPe,JPe,VPe,ZPe,QPe,YPe,XPe,eDe,tDe,rDe,nDe,oDe,Fd,RQ=b(()=>{WPe=OQ,TQ=128,MPe=127,GPe=~MPe,$Pe=Math.pow(2,31);zPe=Nk,HPe=128,FQ=127;KPe=Math.pow(2,7),JPe=Math.pow(2,14),VPe=Math.pow(2,21),ZPe=Math.pow(2,28),QPe=Math.pow(2,35),YPe=Math.pow(2,42),XPe=Math.pow(2,49),eDe=Math.pow(2,56),tDe=Math.pow(2,63),rDe=function(e){return e<KPe?1:e<JPe?2:e<VPe?3:e<ZPe?4:e<QPe?5:e<YPe?6:e<XPe?7:e<eDe?8:e<tDe?9:10},nDe={encode:WPe,decode:zPe,encodingLength:rDe},oDe=nDe,Fd=oDe});var Od,Mu,Gu,Uk=b(()=>{RQ();Od=(e,t=0)=>[Fd.decode(e,t),Fd.decode.bytes],Mu=(e,t,r=0)=>(Fd.encode(e,t,r),t),Gu=e=>Fd.encodingLength(e)});var Rd,NQ,UQ,$u,qk=b(()=>{Wu();Uk();Rd=(e,t)=>{let r=t.byteLength,n=Gu(e),o=n+Gu(r),i=new Uint8Array(o+r);return Mu(e,i,0),Mu(r,i,n),i.set(t,o),new $u(e,r,t,i)},NQ=e=>{let t=wn(e),[r,n]=Od(t),[o,i]=Od(t.subarray(n)),a=t.subarray(n+i);if(a.byteLength!==o)throw new Error("Incorrect length");return new $u(r,o,a,t)},UQ=(e,t)=>{if(e===t)return!0;{let r=t;return e.code===r.code&&e.size===r.size&&r.bytes instanceof Uint8Array&&AQ(e.bytes,r.bytes)}},$u=class{constructor(t,r,n,o){this.code=t,this.size=r,this.digest=n,this.bytes=o}}});var jk=b(()=>{});var Lk,jQ,Wk,t0,iDe,aDe,sDe,Bd,cDe,LQ,uDe,WQ=b(()=>{Bk();CQ();Wu();qk();Uk();jk();Lk=(e,t)=>{let{bytes:r,version:n}=e;switch(n){case 0:return aDe(r,Wk(e),t||gi.encoder);default:return sDe(r,Wk(e),t||Ns.encoder)}},jQ=new WeakMap,Wk=e=>{let t=jQ.get(e);if(t==null){let r=new Map;return jQ.set(e,r),r}return t},t0=class e{constructor(t,r,n,o){this.code=r,this.version=t,this.multihash=n,this.bytes=o,this["/"]=o}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{let{code:t,multihash:r}=this;if(t!==Bd)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(r.code!==cDe)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return e.createV0(r)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{let{code:t,digest:r}=this.multihash,n=Rd(t,r);return e.createV1(this.code,n)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(t){return e.equals(this,t)}static equals(t,r){let n=r;return n&&t.code===n.code&&t.version===n.version&&UQ(t.multihash,n.multihash)}toString(t){return Lk(this,t)}toJSON(){return{"/":Lk(this)}}link(){return this}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(t){if(t==null)return null;let r=t;if(r instanceof e)return r;if(r["/"]!=null&&r["/"]===r.bytes||r.asCID===r){let{version:n,code:o,multihash:i,bytes:a}=r;return new e(n,o,i,a||LQ(n,o,i.bytes))}else if(r[uDe]===!0){let{version:n,multihash:o,code:i}=r,a=NQ(o);return e.create(n,i,a)}else return null}static create(t,r,n){if(typeof r!="number")throw new Error("String codecs are no longer supported");if(!(n.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(t){case 0:{if(r!==Bd)throw new Error(`Version 0 CID must use dag-pb (code: ${Bd}) block encoding`);return new e(t,r,n,n.bytes)}case 1:{let o=LQ(t,r,n.bytes);return new e(t,r,n,o)}default:throw new Error("Invalid version")}}static createV0(t){return e.create(0,Bd,t)}static createV1(t,r){return e.create(1,t,r)}static decode(t){let[r,n]=e.decodeFirst(t);if(n.length)throw new Error("Incorrect length");return r}static decodeFirst(t){let r=e.inspectBytes(t),n=r.size-r.multihashSize,o=wn(t.subarray(n,n+r.multihashSize));if(o.byteLength!==r.multihashSize)throw new Error("Incorrect length");let i=o.subarray(r.multihashSize-r.digestSize),a=new $u(r.multihashCode,r.digestSize,i,o);return[r.version===0?e.createV0(a):e.createV1(r.codec,a),t.subarray(r.size)]}static inspectBytes(t){let r=0,n=()=>{let[d,w]=Od(t.subarray(r));return r+=w,d},o=n(),i=Bd;if(o===18?(o=0,r=0):i=n(),o!==0&&o!==1)throw new RangeError(`Invalid CID version ${o}`);let a=r,s=n(),u=n(),c=r+u,l=c-a;return{version:o,codec:i,multihashCode:s,digestSize:u,multihashSize:l,size:c}}static parse(t,r){let[n,o]=iDe(t,r),i=e.decode(o);if(i.version===0&&t[0]!=="Q")throw Error("Version 0 CID string must not include multibase prefix");return Wk(i).set(n,t),i}},iDe=(e,t)=>{switch(e[0]){case"Q":{let r=t||gi;return[gi.prefix,r.decode(`${gi.prefix}${e}`)]}case gi.prefix:{let r=t||gi;return[gi.prefix,r.decode(e)]}case Ns.prefix:{let r=t||Ns;return[Ns.prefix,r.decode(e)]}default:{if(t==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}}},aDe=(e,t,r)=>{let{prefix:n}=r;if(n!==gi.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);let o=t.get(n);if(o==null){let i=r.encode(e).slice(1);return t.set(n,i),i}else return o},sDe=(e,t,r)=>{let{prefix:n}=r,o=t.get(n);if(o==null){let i=r.encode(e);return t.set(n,i),i}else return o},Bd=112,cDe=18,LQ=(e,t,r)=>{let n=Gu(e),o=n+Gu(t),i=new Uint8Array(o+r.byteLength);return Mu(e,i,0),Mu(t,i,n),i.set(r,o),i},uDe=Symbol.for("@ipld/js-cid/CID")});var Nd,MQ=b(()=>{WQ();jk();Nd=(e,t)=>t0.create(1,e,t)});var Ud={};ne(Ud,{code:()=>r0,decode:()=>fDe,encode:()=>dDe,name:()=>pDe});var pDe,r0,dDe,fDe,Mk=b(()=>{Wu();pDe="raw",r0=85,dDe=e=>wn(e),fDe=e=>wn(e)});var $k,Gk,GQ=b(()=>{qk();$k=({name:e,code:t,encode:r})=>new Gk(e,t,r),Gk=class{constructor(t,r,n){this.name=t,this.code=r,this.encode=n}digest(t){if(t instanceof Uint8Array){let r=this.encode(t);return r instanceof Uint8Array?Rd(this.code,r):r.then(n=>Rd(this.code,n))}else throw Error("Unknown type, must be binary type")}}});var zk,Hk,vot,$Q=b(()=>{zk=L(require("crypto"),1);Wu();GQ();Hk=$k({name:"sha2-256",code:18,encode:e=>wn(zk.default.createHash("sha256").update(e).digest())}),vot=$k({name:"sha2-512",code:19,encode:e=>wn(zk.default.createHash("sha512").update(e).digest())})});var hDe,Kk,Iot,n0,Jk,o0,i0,kot,zQ=b(()=>{br();nt();hDe=514,Kk=j.link({code:hDe,version:1}),Iot=xe({can:"store/*",with:_e,derives:Re}),n0=xe({can:"store/add",with:_e,nb:j.struct({link:Kk,size:j.integer(),origin:yn.optional()}),derives:(e,t)=>{let r=X_(e,t);return r.error?r:e.nb.size!==void 0&&t.nb.size!==void 0?e.nb.size>t.nb.size?rt(`Size constraint violation: ${e.nb.size} > ${t.nb.size}`):be({}):be({})}}),Jk=xe({can:"store/get",with:_e,nb:j.struct({link:Kk.optional()}),derives:X_}),o0=xe({can:"store/remove",with:_e,nb:j.struct({link:Kk}),derives:X_}),i0=xe({can:"store/list",with:_e,nb:j.struct({cursor:j.string().optional(),size:j.integer().optional(),pre:j.boolean().optional()}),derives:(e,t)=>e.with!==t.with?rt(`Expected 'with: "${t.with}"' instead got '${e.with}'`):be({})}),kot=n0.or(o0).or(i0)});var KQ=E((Cot,HQ)=>{function _n(e,t){typeof t=="boolean"&&(t={forever:t}),this._originalTimeouts=JSON.parse(JSON.stringify(e)),this._timeouts=e,this._options=t||{},this._maxRetryTime=t&&t.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}HQ.exports=_n;_n.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)};_n.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null};_n.prototype.retry=function(e){if(this._timeout&&clearTimeout(this._timeout),!e)return!1;var t=new Date().getTime();if(e&&t-this._operationStart>=this._maxRetryTime)return this._errors.push(e),this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(e);var r=this._timeouts.shift();if(r===void 0)if(this._cachedTimeouts)this._errors.splice(0,this._errors.length-1),r=this._cachedTimeouts.slice(-1);else return!1;var n=this;return this._timer=setTimeout(function(){n._attempts++,n._operationTimeoutCb&&(n._timeout=setTimeout(function(){n._operationTimeoutCb(n._attempts)},n._operationTimeout),n._options.unref&&n._timeout.unref()),n._fn(n._attempts)},r),this._options.unref&&this._timer.unref(),!0};_n.prototype.attempt=function(e,t){this._fn=e,t&&(t.timeout&&(this._operationTimeout=t.timeout),t.cb&&(this._operationTimeoutCb=t.cb));var r=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){r._operationTimeoutCb()},r._operationTimeout)),this._operationStart=new Date().getTime(),this._fn(this._attempts)};_n.prototype.try=function(e){console.log("Using RetryOperation.try() is deprecated"),this.attempt(e)};_n.prototype.start=function(e){console.log("Using RetryOperation.start() is deprecated"),this.attempt(e)};_n.prototype.start=_n.prototype.try;_n.prototype.errors=function(){return this._errors};_n.prototype.attempts=function(){return this._attempts};_n.prototype.mainError=function(){if(this._errors.length===0)return null;for(var e={},t=null,r=0,n=0;n<this._errors.length;n++){var o=this._errors[n],i=o.message,a=(e[i]||0)+1;e[i]=a,a>=r&&(t=o,r=a)}return t}});var JQ=E(Us=>{var gDe=KQ();Us.operation=function(e){var t=Us.timeouts(e);return new gDe(t,{forever:e&&(e.forever||e.retries===1/0),unref:e&&e.unref,maxRetryTime:e&&e.maxRetryTime})};Us.timeouts=function(e){if(e instanceof Array)return[].concat(e);var t={retries:10,factor:2,minTimeout:1*1e3,maxTimeout:1/0,randomize:!1};for(var r in e)t[r]=e[r];if(t.minTimeout>t.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var n=[],o=0;o<t.retries;o++)n.push(this.createTimeout(o,t));return e&&e.forever&&!n.length&&n.push(this.createTimeout(o,t)),n.sort(function(i,a){return i-a}),n};Us.createTimeout=function(e,t){var r=t.randomize?Math.random()+1:1,n=Math.round(r*Math.max(t.minTimeout,1)*Math.pow(t.factor,e));return n=Math.min(n,t.maxTimeout),n};Us.wrap=function(e,t,r){if(t instanceof Array&&(r=t,t=null),!r){r=[];for(var n in e)typeof e[n]=="function"&&r.push(n)}for(var o=0;o<r.length;o++){var i=r[o],a=e[i];e[i]=function(u){var c=Us.operation(t),l=Array.prototype.slice.call(arguments,1),d=l.pop();l.push(function(w){c.retry(w)||(w&&(arguments[0]=c.mainError()),d.apply(this,arguments))}),c.attempt(function(){u.apply(e,l)})}.bind(e,a),e[i].options=t}}});var ZQ=E((Fot,VQ)=>{VQ.exports=JQ()});async function Yt(e,t){return new Promise((r,n)=>{t={onFailedAttempt(){},retries:10,...t};let o=YQ.default.operation(t);o.attempt(async i=>{try{r(await e(i))}catch(a){if(!(a instanceof Error)){n(new TypeError(`Non-error was thrown: "${a}". You should only throw errors.`));return}if(a instanceof Zn)o.stop(),n(a.originalError);else if(a instanceof TypeError&&!wDe(a.message))o.stop(),n(a);else{bDe(a,i,t);try{await t.onFailedAttempt(a)}catch(s){n(s);return}o.retry(a)||n(o.mainError())}}}),t.signal&&!t.signal.aborted&&t.signal.addEventListener("abort",()=>{o.stop();let i=t.signal.reason===void 0?QQ("The operation was aborted."):t.signal.reason;n(i instanceof Error?i:QQ(i))},{once:!0})})}var YQ,yDe,Zn,bDe,wDe,QQ,qs=b(()=>{YQ=L(ZQ(),1),yDe=new Set(["Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Network request failed","fetch failed"]),Zn=class extends Error{constructor(t){super(),t instanceof Error?(this.originalError=t,{message:t}=t):(this.originalError=new Error(t),this.originalError.stack=this.stack),this.name="AbortError",this.message=t}},bDe=(e,t,r)=>{let n=r.retries-(t-1);return e.attemptNumber=t,e.retriesLeft=n,e},wDe=e=>yDe.has(e),QQ=e=>globalThis.DOMException===void 0?new Error(e):new DOMException(e)});var _De,Ve,a0,Xe,Vr=b(()=>{qu();la();mn();_De=new URL("https://up.web3.storage"),Ve=st("did:web:web3.storage"),a0="https://up.web3.storage/receipt/",Xe=ko({id:Ve,codec:jt.outbound,channel:bn.open({url:_De,method:"POST"})})});var js=b(()=>{});var Vk={};ne(Vk,{add:()=>EDe,get:()=>xDe,list:()=>vDe,remove:()=>PDe});function SDe(e,t){function r({total:n,loaded:o,lengthComputable:i}){return t({total:n,loaded:o,lengthComputable:i,url:e})}return r}async function EDe({issuer:e,with:t,proofs:r,audience:n},o,i={}){let a=o instanceof Uint8Array?o:new Uint8Array(await o.arrayBuffer()),s=await jt.codec.link(a),u=i.connection??Xe,c=await Yt(async()=>await n0.invoke({issuer:e,audience:n??Ve,with:_e.from(t),nb:{link:s,size:a.length},proofs:r,nonce:i.nonce}).execute(u),{onFailedAttempt:console.warn,retries:i.retries??3});if(!c.out.ok)throw new Error(`failed ${n0.can} invocation`,{cause:c.out.error});if(c.out.ok.status==="done")return s;let l=c.out.ok,d=i.fetchWithUploadProgress||i.fetch||globalThis.fetch.bind(globalThis),w=!1,m=await Yt(async()=>{try{let p=await d(l.url,{method:"PUT",body:o,headers:l.headers,signal:i.signal,onUploadProgress:f=>{w=!0,i.onUploadProgress&&SDe(l.url,i.onUploadProgress)(f)},duplex:"half"});if(p.status>=400&&p.status<500)throw new Zn(`upload failed: ${p.status}`);return p}catch(p){throw i.signal?.aborted===!0?new Zn("upload aborted"):p}},{retries:i.retries??3});if(!w&&i.onUploadProgress){let p=new Blob([o]);i.onUploadProgress({total:p.size,loaded:p.size,lengthComputable:!1})}if(!m.ok)throw new Error(`upload failed: ${m.status}`);return s}async function xDe({issuer:e,with:t,proofs:r,audience:n},o,i={}){let a=i.connection??Xe,s=await Yt(async()=>await Jk.invoke({issuer:e,audience:n??Ve,with:_e.from(t),nb:{link:o},proofs:r,nonce:i.nonce}).execute(a),{onFailedAttempt:console.warn,retries:i.retries??3});if(!s.out.ok)throw new Error(`failed ${Jk.can} invocation`,{cause:s.out.error});return s.out.ok}async function vDe({issuer:e,with:t,proofs:r,audience:n},o={}){let i=o.connection??Xe,a=await i0.invoke({issuer:e,audience:n??Ve,with:_e.from(t),proofs:r,nb:{cursor:o.cursor,size:o.size,pre:o.pre},nonce:o.nonce}).execute(i);if(!a.out.ok)throw new Error(`failed ${i0.can} invocation`,{cause:a.out.error});return a.out.ok}async function PDe({issuer:e,with:t,proofs:r,audience:n},o,i={}){let a=i.connection??Xe,s=await o0.invoke({issuer:e,audience:n??Ve,with:_e.from(t),nb:{link:o},proofs:r,nonce:i.nonce}).execute(a);if(!s.out.ok)throw new Error(`failed ${o0.can} invocation`,{cause:s.out.error});return s.out}var XQ=b(()=>{la();zQ();nt();qs();Vr();js()});function tY(e,t){let r=t.negate();return e?r:t}function rY(e){if(!(e instanceof _t))throw new TypeError("ExtendedPoint expected")}function Zk(e){if(!(e instanceof Ls))throw new TypeError("RistrettoPoint expected")}function Qk(){throw new Error("Legacy method: switch to RistrettoPoint")}function nY(...e){if(!e.every(n=>n instanceof Uint8Array))throw new Error("Expected Uint8Array list");if(e.length===1)return e[0];let t=e.reduce((n,o)=>n+o.length,0),r=new Uint8Array(t);for(let n=0,o=0;n<e.length;n++){let i=e[n];r.set(i,o),o+=i.length}return r}function Wd(e){if(!(e instanceof Uint8Array))throw new Error("Uint8Array expected");let t="";for(let r=0;r<e.length;r++)t+=FDe[e[r]];return t}function t4(e){if(typeof e!="string")throw new TypeError("hexToBytes: expected string, got "+typeof e);if(e.length%2)throw new Error("hexToBytes: received invalid unpadded hex");let t=new Uint8Array(e.length/2);for(let r=0;r<t.length;r++){let n=r*2,o=e.slice(n,n+2),i=Number.parseInt(o,16);if(Number.isNaN(i)||i<0)throw new Error("Invalid byte sequence");t[r]=i}return t}function aY(e){let r=e.toString(16).padStart(64,"0");return t4(r)}function Ld(e){return aY(e).reverse()}function fa(e){return(K(e)&Ne)===Ne}function Md(e){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");return BigInt("0x"+Wd(Uint8Array.from(e).reverse()))}function Yk(e){return K(Md(e)&ODe)}function K(e,t=Ze.P){let r=e%t;return r>=kt?r:t+r}function u0(e,t=Ze.P){if(e===kt||t<=kt)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let r=K(e,t),n=t,o=kt,i=Ne,a=Ne,s=kt;for(;r!==kt;){let c=n/r,l=n%r,d=o-a*c,w=i-s*c;n=r,r=l,o=a,i=s,a=d,s=w}if(n!==Ne)throw new Error("invert: does not exist");return K(o,t)}function RDe(e,t=Ze.P){let r=new Array(e.length),n=e.reduce((i,a,s)=>a===kt?i:(r[s]=i,K(i*a,t)),Ne),o=u0(n,t);return e.reduceRight((i,a,s)=>a===kt?i:(r[s]=K(i*r[s],t),K(i*a,t)),o),r}function To(e,t){let{P:r}=Ze,n=e;for(;t-- >kt;)n*=n,n%=r;return n}function BDe(e){let{P:t}=Ze,r=BigInt(5),n=BigInt(10),o=BigInt(20),i=BigInt(40),a=BigInt(80),u=e*e%t*e%t,c=To(u,ha)*u%t,l=To(c,Ne)*e%t,d=To(l,r)*l%t,w=To(d,n)*d%t,m=To(w,o)*w%t,p=To(m,i)*m%t,f=To(p,a)*p%t,g=To(f,a)*p%t,h=To(g,n)*d%t;return{pow_p_5_8:To(h,ha)*e%t,b2:u}}function r4(e,t){let r=K(t*t*t),n=K(r*r*t),o=BDe(e*n).pow_p_5_8,i=K(e*r*o),a=K(t*i*i),s=i,u=K(i*qd),c=a===e,l=a===K(-e),d=a===K(-e*qd);return c&&(i=s),(l||d)&&(i=u),fa(i)&&(i=K(-i)),{isValid:c||l,value:i}}function oY(e){return r4(Ne,e)}function s0(e){return K(Md(e),Ze.l)}function NDe(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function ma(e,t){let r=e instanceof Uint8Array?Uint8Array.from(e):t4(e);if(typeof t=="number"&&r.length!==t)throw new Error(`Expected ${t} bytes`);return r}function c0(e,t,r=!0){if(!t)throw new TypeError("Specify max value");if(typeof e=="number"&&Number.isSafeInteger(e)&&(e=BigInt(e)),typeof e=="bigint"&&e<t){if(r){if(kt<e)return e}else if(kt<=e)return e}throw new TypeError("Expected valid scalar: 0 < scalar < max")}function UDe(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}function qDe(e){if(e=typeof e=="bigint"||typeof e=="number"?aY(c0(e,iY)):ma(e),e.length!==32)throw new Error("Expected 32 bytes");return e}function jDe(e){let t=UDe(e.slice(0,32)),r=e.slice(32,64),n=s0(t),o=ct.BASE.multiply(n),i=o.toRawBytes();return{head:t,prefix:r,scalar:n,point:o,pointBytes:i}}async function l0(e){return jDe(await ga.sha512(qDe(e)))}async function sY(e){return(await l0(e)).pointBytes}async function cY(e,t){e=ma(e);let{prefix:r,scalar:n,pointBytes:o}=await l0(t),i=s0(await ga.sha512(r,e)),a=ct.BASE.multiply(i),s=s0(await ga.sha512(a.toRawBytes(),o,e)),u=K(i+s*n,Ze.l);return new jd(a,u).toRawBytes()}function LDe(e,t,r){t=ma(t),r instanceof ct||(r=ct.fromHex(r,!1));let{r:n,s:o}=e instanceof jd?e.assertValidity():jd.fromHex(e),i=_t.BASE.multiplyUnsafe(o);return{r:n,s:o,SB:i,pub:r,msg:t}}function WDe(e,t,r,n){let o=s0(n),i=_t.fromAffine(e).multiplyUnsafe(o);return _t.fromAffine(t).add(i).subtract(r).multiplyUnsafe(Ze.h).equals(_t.ZERO)}async function uY(e,t,r){let{r:n,SB:o,msg:i,pub:a}=LDe(e,t,r),s=await ga.sha512(n.toRawBytes(),a.toRawBytes(),i);return WDe(a,n,o,s)}var DDe,kt,Ne,ha,ADe,eY,Ze,iY,qd,Got,IDe,kDe,CDe,TDe,_t,Ls,e4,ct,jd,FDe,ODe,Xk,da,ga,n4=b(()=>{DDe=L(require("crypto"),1);kt=BigInt(0),Ne=BigInt(1),ha=BigInt(2),ADe=BigInt(8),eY=BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),Ze=Object.freeze({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),P:BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),l:eY,n:eY,h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960")}),iY=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000"),qd=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),Got=BigInt("6853475219497561581579357271197624642482790079785650197046958215289687604742"),IDe=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),kDe=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),CDe=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),TDe=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),_t=class e{constructor(t,r,n,o){this.x=t,this.y=r,this.z=n,this.t=o}static fromAffine(t){if(!(t instanceof ct))throw new TypeError("ExtendedPoint#fromAffine: expected Point");return t.equals(ct.ZERO)?e.ZERO:new e(t.x,t.y,Ne,K(t.x*t.y))}static toAffineBatch(t){let r=RDe(t.map(n=>n.z));return t.map((n,o)=>n.toAffine(r[o]))}static normalizeZ(t){return this.toAffineBatch(t).map(this.fromAffine)}equals(t){rY(t);let{x:r,y:n,z:o}=this,{x:i,y:a,z:s}=t,u=K(r*s),c=K(i*o),l=K(n*s),d=K(a*o);return u===c&&l===d}negate(){return new e(K(-this.x),this.y,this.z,K(-this.t))}double(){let{x:t,y:r,z:n}=this,{a:o}=Ze,i=K(t*t),a=K(r*r),s=K(ha*K(n*n)),u=K(o*i),c=t+r,l=K(K(c*c)-i-a),d=u+a,w=d-s,m=u-a,p=K(l*w),f=K(d*m),g=K(l*m),h=K(w*d);return new e(p,f,h,g)}add(t){rY(t);let{x:r,y:n,z:o,t:i}=this,{x:a,y:s,z:u,t:c}=t,l=K((n-r)*(s+a)),d=K((n+r)*(s-a)),w=K(d-l);if(w===kt)return this.double();let m=K(o*ha*c),p=K(i*ha*u),f=p+m,g=d+l,h=p-m,y=K(f*w),_=K(g*h),S=K(f*h),x=K(w*g);return new e(y,_,x,S)}subtract(t){return this.add(t.negate())}precomputeWindow(t){let r=1+256/t,n=[],o=this,i=o;for(let a=0;a<r;a++){i=o,n.push(i);for(let s=1;s<2**(t-1);s++)i=i.add(o),n.push(i);o=i.double()}return n}wNAF(t,r){!r&&this.equals(e.BASE)&&(r=ct.BASE);let n=r&&r._WINDOW_SIZE||1;if(256%n)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let o=r&&e4.get(r);o||(o=this.precomputeWindow(n),r&&n!==1&&(o=e.normalizeZ(o),e4.set(r,o)));let i=e.ZERO,a=e.BASE,s=1+256/n,u=2**(n-1),c=BigInt(2**n-1),l=2**n,d=BigInt(n);for(let w=0;w<s;w++){let m=w*u,p=Number(t&c);t>>=d,p>u&&(p-=l,t+=Ne);let f=m,g=m+Math.abs(p)-1,h=w%2!==0,y=p<0;p===0?a=a.add(tY(h,o[f])):i=i.add(tY(y,o[g]))}return e.normalizeZ([i,a])[0]}multiply(t,r){return this.wNAF(c0(t,Ze.l),r)}multiplyUnsafe(t){let r=c0(t,Ze.l,!1),n=e.BASE,o=e.ZERO;if(r===kt)return o;if(this.equals(o)||r===Ne)return this;if(this.equals(n))return this.wNAF(r);let i=o,a=this;for(;r>kt;)r&Ne&&(i=i.add(a)),a=a.double(),r>>=Ne;return i}isSmallOrder(){return this.multiplyUnsafe(Ze.h).equals(e.ZERO)}isTorsionFree(){let t=this.multiplyUnsafe(Ze.l/ha).double();return Ze.l%ha&&(t=t.add(this)),t.equals(e.ZERO)}toAffine(t){let{x:r,y:n,z:o}=this,i=this.equals(e.ZERO);t==null&&(t=i?ADe:u0(o));let a=K(r*t),s=K(n*t),u=K(o*t);if(i)return ct.ZERO;if(u!==Ne)throw new Error("invZ was invalid");return new ct(a,s)}fromRistrettoBytes(){Qk()}toRistrettoBytes(){Qk()}fromRistrettoHash(){Qk()}};_t.BASE=new _t(Ze.Gx,Ze.Gy,Ne,K(Ze.Gx*Ze.Gy));_t.ZERO=new _t(kt,Ne,Ne,kt);Ls=class e{constructor(t){this.ep=t}static calcElligatorRistrettoMap(t){let{d:r}=Ze,n=K(qd*t*t),o=K((n+Ne)*CDe),i=BigInt(-1),a=K((i-r*n)*K(n+r)),{isValid:s,value:u}=r4(o,a),c=K(u*t);fa(c)||(c=K(-c)),s||(u=c),s||(i=n);let l=K(i*(n-Ne)*TDe-a),d=u*u,w=K((u+u)*a),m=K(l*IDe),p=K(Ne-d),f=K(Ne+d);return new _t(K(w*f),K(p*m),K(m*f),K(w*p))}static hashToCurve(t){t=ma(t,64);let r=Yk(t.slice(0,32)),n=this.calcElligatorRistrettoMap(r),o=Yk(t.slice(32,64)),i=this.calcElligatorRistrettoMap(o);return new e(n.add(i))}static fromHex(t){t=ma(t,32);let{a:r,d:n}=Ze,o="RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint",i=Yk(t);if(!NDe(Ld(i),t)||fa(i))throw new Error(o);let a=K(i*i),s=K(Ne+r*a),u=K(Ne-r*a),c=K(s*s),l=K(u*u),d=K(r*n*c-l),{isValid:w,value:m}=oY(K(d*l)),p=K(m*u),f=K(m*p*d),g=K((i+i)*p);fa(g)&&(g=K(-g));let h=K(s*f),y=K(g*h);if(!w||fa(y)||h===kt)throw new Error(o);return new e(new _t(g,h,Ne,y))}toRawBytes(){let{x:t,y:r,z:n,t:o}=this.ep,i=K(K(n+r)*K(n-r)),a=K(t*r),s=K(a*a),{value:u}=oY(K(i*s)),c=K(u*i),l=K(u*a),d=K(c*l*o),w;if(fa(o*d)){let p=K(r*qd),f=K(t*qd);t=p,r=f,w=K(c*kDe)}else w=l;fa(t*d)&&(r=K(-r));let m=K((n-r)*w);return fa(m)&&(m=K(-m)),Ld(m)}toHex(){return Wd(this.toRawBytes())}toString(){return this.toHex()}equals(t){Zk(t);let r=this.ep,n=t.ep,o=K(r.x*n.y)===K(r.y*n.x),i=K(r.y*n.y)===K(r.x*n.x);return o||i}add(t){return Zk(t),new e(this.ep.add(t.ep))}subtract(t){return Zk(t),new e(this.ep.subtract(t.ep))}multiply(t){return new e(this.ep.multiply(t))}multiplyUnsafe(t){return new e(this.ep.multiplyUnsafe(t))}};Ls.BASE=new Ls(_t.BASE);Ls.ZERO=new Ls(_t.ZERO);e4=new WeakMap,ct=class e{constructor(t,r){this.x=t,this.y=r}_setWindowSize(t){this._WINDOW_SIZE=t,e4.delete(this)}static fromHex(t,r=!0){let{d:n,P:o}=Ze;t=ma(t,32);let i=t.slice();i[31]=t[31]&-129;let a=Md(i);if(r&&a>=o)throw new Error("Expected 0 < hex < P");if(!r&&a>=iY)throw new Error("Expected 0 < hex < 2**256");let s=K(a*a),u=K(s-Ne),c=K(n*s+Ne),{isValid:l,value:d}=r4(u,c);if(!l)throw new Error("Point.fromHex: invalid y coordinate");let w=(d&Ne)===Ne;return(t[31]&128)!==0!==w&&(d=K(-d)),new e(d,a)}static async fromPrivateKey(t){return(await l0(t)).point}toRawBytes(){let t=Ld(this.y);return t[31]|=this.x&Ne?128:0,t}toHex(){return Wd(this.toRawBytes())}toX25519(){let{y:t}=this,r=K((Ne+t)*u0(Ne-t));return Ld(r)}isTorsionFree(){return _t.fromAffine(this).isTorsionFree()}equals(t){return this.x===t.x&&this.y===t.y}negate(){return new e(K(-this.x),this.y)}add(t){return _t.fromAffine(this).add(_t.fromAffine(t)).toAffine()}subtract(t){return this.add(t.negate())}multiply(t){return _t.fromAffine(this).multiply(t,this).toAffine()}};ct.BASE=new ct(Ze.Gx,Ze.Gy);ct.ZERO=new ct(kt,Ne);jd=class e{constructor(t,r){this.r=t,this.s=r,this.assertValidity()}static fromHex(t){let r=ma(t,64),n=ct.fromHex(r.slice(0,32),!1),o=Md(r.slice(32,64));return new e(n,o)}assertValidity(){let{r:t,s:r}=this;if(!(t instanceof ct))throw new Error("Expected Point instance");return c0(r,Ze.l,!1),this}toRawBytes(){let t=new Uint8Array(64);return t.set(this.r.toRawBytes()),t.set(Ld(this.s),32),t}toHex(){return Wd(this.toRawBytes())}};FDe=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));ODe=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");ct.BASE._setWindowSize(8);da={node:DDe,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0},ga={bytesToHex:Wd,hexToBytes:t4,concatBytes:nY,getExtendedPublicKey:l0,mod:K,invert:u0,TORSION_SUBGROUP:["0100000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a","0000000000000000000000000000000000000000000000000000000000000080","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05","ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85","0000000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa"],hashToPrivateScalar:e=>{if(e=ma(e),e.length<40||e.length>1024)throw new Error("Expected 40-1024 bytes of private key as per FIPS 186");return K(Md(e),Ze.l-Ne)+Ne},randomBytes:(e=32)=>{if(da.web)return da.web.getRandomValues(new Uint8Array(e));if(da.node){let{randomBytes:t}=da.node;return new Uint8Array(t(e).buffer)}else throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>ga.randomBytes(32),sha512:async(...e)=>{let t=nY(...e);if(da.web){let r=await da.web.subtle.digest("SHA-512",t.buffer);return new Uint8Array(r)}else{if(da.node)return Uint8Array.from(da.node.createHash("sha512").update(t).digest());throw new Error("The environment doesn't have sha512 function")}},precompute(e=8,t=ct.BASE){let r=t.equals(ct.BASE)?t:new ct(t.x,t.y);return r._setWindowSize(e),r.multiply(ha),r},sha512Sync:void 0};Object.defineProperties(ga,{sha512Sync:{configurable:!1,get(){return Xk},set(e){Xk||(Xk=e)}}})});var pY=b(()=>{});var MDe,p0,o4,Gd,i4,a4=b(()=>{MDe=(e,t)=>{if(e.startsWith("did:")){for(let r of t)try{return r.parse(e)}catch{}throw new Error(`Unsupported did ${e}`)}else throw new Error(`Expected did instead got ${e}`)},p0=(e,t)=>new o4([e,t]),o4=class e{constructor(t){this.variants=t}parse(t){return MDe(t,this.variants)}or(t){return new e([...this.variants,t])}},Gd=(e,t)=>new i4(t,e),i4=class{constructor(t,r){this.id=t,this.key=r}did(){return this.id}toDIDKey(){return this.key.toDIDKey()}verify(t,r){return this.key.verify(t,r)}withDID(t){return Gd(this.key,t)}}});var zu={};ne(zu,{code:()=>Fo,decode:()=>f0,encode:()=>$De,format:()=>GDe,name:()=>c4,or:()=>zDe,parse:()=>mY,signatureAlgorithm:()=>d0,signatureCode:()=>$d});var Fo,c4,$d,d0,hY,fY,mY,f0,GDe,$De,s4,zDe,u4=b(()=>{mn();n4();Ps();Kn();vs();a4();Fo=237,c4="Ed25519",$d=Ds,d0="EdDSA",hY=Ie.encodingLength(Fo),fY=32+hY,mY=e=>f0(st(e)),f0=e=>{let[t]=Ie.decode(e);if(t!==Fo)throw new RangeError(`Unsupported key algorithm with multicode 0x${Fo.toString(16)}`);if(e.byteLength!==fY)throw new RangeError(`Expected Uint8Array with byteLength ${fY}, instead got Uint8Array with byteLength ${e.byteLength}`);return new s4(e.buffer,e.byteOffset,e.byteLength)},GDe=e=>vu(e),$De=e=>NV(e),s4=class extends Uint8Array{get code(){return Fo}get signatureCode(){return $d}get signatureAlgorithm(){return d0}get publicKey(){let t=new Uint8Array(this.buffer,this.byteOffset+hY);return Object.defineProperties(this,{publicKey:{value:t}}),t}did(){return`did:key:${It.encode(this)}`}verify(t,r){return r.code===$d&&uY(r.raw,t,this.publicKey)}withDID(t){return Gd(this,t)}toDIDKey(){return this.did()}},zDe=e=>p0({parse:mY},e)});var h0,l4,HDe,gY,Hu,p4,d4=b(()=>{h0=(e,t)=>new l4([e,t]),l4=class e{constructor(t){this.variants=t,this.from=HDe(t)}or(t){return new e([t,...this.variants])}},HDe=e=>r=>{if(r.id.startsWith("did:key:"))return gY(r,e);for(let[n,o]of Object.entries(r.keys)){let i=n;return gY({id:i,keys:{[i]:o}},e).withDID(r.id)}throw new Error(`Archive ${r.id} contains no keys`)},gY=(e,t)=>{for(let r of t)try{return r.from(e)}catch{}throw new Error("Unsupported signer")},Hu=({signer:e,verifier:t},r)=>new p4(e,t.withDID(r)),p4=class{constructor(t,r){this.key=t,this.verifier=r}get signer(){return this}get signatureAlgorithm(){return this.key.signatureAlgorithm}get signatureCode(){return this.key.signatureCode}did(){return this.verifier.did()}toDIDKey(){return this.verifier.toDIDKey()}withDID(t){return Hu(this.key,t)}sign(t){return this.key.sign(t)}verify(t,r){return this.verifier.verify(t,r)}toArchive(){let{keys:t}=this.key.toArchive();return{id:this.did(),keys:t}}}});var w4={};ne(w4,{PUB_KEY_OFFSET:()=>m4,code:()=>Ms,decode:()=>y0,derive:()=>g4,encode:()=>b4,format:()=>EY,from:()=>y4,generate:()=>SY,name:()=>bY,or:()=>g0,parse:()=>xY,signatureAlgorithm:()=>h4,signatureCode:()=>wY});var Ms,bY,h4,wY,Ws,_Y,yi,f4,m4,SY,g4,y4,g0,y0,b4,EY,xY,m0,_4=b(()=>{n4();Ps();u4();ra();Kn();d4();pY();Ms=4864,bY=c4,h4=d0,wY=$d,Ws=Ie.encodingLength(Ms),_Y=Ie.encodingLength(Fo),yi=32,f4=Ws+yi+_Y+yi,m4=Ws+yi,SY=()=>g4(ga.randomPrivateKey()),g4=async e=>{if(e.byteLength!==yi)throw new Error(`Expected Uint8Array with byteLength of ${yi} instead not ${e.byteLength}`);let t=await sY(e),r=new m0(f4);return Ie.encodeTo(Ms,r,0),r.set(e,Ws),Ie.encodeTo(Fo,r,Ws+yi),r.set(t,Ws+yi+_Y),r},y4=({id:e,keys:t})=>{if(e.startsWith("did:key:")){let r=t[e];if(r instanceof Uint8Array)return y0(r)}throw new TypeError("Unsupported archive format")},g0=e=>h0({from:y4},e),y0=e=>{if(e.byteLength!==f4)throw new Error(`Expected Uint8Array with byteLength of ${f4} instead not ${e.byteLength}`);{let[t]=Ie.decode(e);if(t!==Ms)throw new Error(`Given bytes must be a multiformat with ${Ms} tag`)}{let[t]=Ie.decode(e.subarray(m4));if(t!==Fo)throw new Error(`Given bytes must contain public key in multiformats with ${Fo} tag`)}return new m0(e)},b4=e=>e.encode(),EY=(e,t)=>(t||k3).encode(b4(e)),xY=(e,t)=>y0((t||k3).decode(e)),m0=class extends Uint8Array{get code(){return Ms}get signer(){return this}get verifier(){let t=new Uint8Array(this.buffer,Ws+yi),r=f0(t);return Object.defineProperties(this,{verifier:{value:r}}),r}get secret(){let t=new Uint8Array(this.buffer,Ws,yi);return Object.defineProperties(this,{secret:{value:t}}),t}did(){return this.verifier.did()}toDIDKey(){return this.verifier.toDIDKey()}withDID(t){return Hu(this,t)}async sign(t){let r=await cY(t,this.secret);return Iu(this.signatureCode,r)}verify(t,r){return this.verifier.verify(t,r)}get signatureAlgorithm(){return h4}get signatureCode(){return Ds}encode(){return this}toArchive(){let t=this.did();return{id:t,keys:{[t]:this.encode()}}}}});var b0={};ne(b0,{PUB_KEY_OFFSET:()=>m4,Signer:()=>w4,Verifier:()=>zu,code:()=>Ms,decode:()=>y0,derive:()=>g4,encode:()=>b4,format:()=>EY,from:()=>y4,generate:()=>SY,name:()=>bY,or:()=>g0,parse:()=>xY,signatureAlgorithm:()=>h4,signatureCode:()=>wY});var vY=b(()=>{_4();u4();_4()});var PY,ya,DY=b(()=>{PY=L(require("crypto"),1),ya=PY.default.webcrypto});var AY=b(()=>{});var w0,_0,Yot,Xot,eit,S4=b(()=>{Ps();w0=(e,t)=>{let r=Ie.encodingLength(e),n=new Uint8Array(t.byteLength+r);return Ie.encodeTo(e,n,0),n.set(t,r),n},_0=(e,t,r=0)=>{let n=r!==0?t.subarray(r):t,[o,i]=Ie.decode(n);if(o!==e)throw new Error(`Expected multiformat with 0x${e.toString(16)} tag instead got 0x${o.toString(16)}`);return new Uint8Array(n.buffer,n.byteOffset+i)},Yot=Ie.encodingLength,Xot=Ie.encodeTo,eit=Ie.decode});var S0,KDe,IY,Ku,kY,CY,Gs,JDe,E0,x0,v0,TY,FY,Qn,OY,E4,zd=b(()=>{S0=e=>{if(e<=127)return new Uint8Array([e]);let t=[];for(;e!==0;)t.push(e&255),e=e>>>8;return t.reverse(),new Uint8Array([128|t.length&255,...t])},KDe=(e,t=0)=>{if(!(e[t]&128))return{number:e[t],consumed:1};let r=e[t]&127;if(e.length<r+1)throw new Error(`ASN parsing error: Too few bytes. Expected encoded length's length to be at least ${r}`);let n=0;for(let o=0;o<r;o++)n=n<<8,n=n|e[t+o+1];return{number:n,consumed:r+1}},IY=(e,t,r)=>{let n=Ku(e,t,r);return n.position+n.length},Ku=(e,t,r)=>{let n=e[r];if(n!==t)throw new Error(`ASN parsing error: Expected tag 0x${t.toString(16)} at position ${r}, but got 0x${n.toString(16)}.`);let o=KDe(e,r+1);return{position:r+1+o.consumed,length:o.number}},kY=e=>{let t=S0(e.byteLength+1),r=new Uint8Array(1+t.byteLength+1+e.byteLength),n=0;return r[n]=3,n+=1,r.set(t,n),n+=t.byteLength,r[n]=0,n+=1,r.set(e,n),r},CY=e=>{let t=S0(e.byteLength),r=new Uint8Array(1+t.byteLength+e.byteLength),n=0;return r[n]=4,n+=1,r.set(t,n),n+=t.byteLength,r.set(e,n),r},Gs=e=>{let t=0;for(let i of e)t+=i.byteLength;let r=S0(t),n=new Uint8Array(1+r.byteLength+t),o=0;n[o]=48,o+=1,n.set(r,o),o+=r.byteLength;for(let i of e)n.set(i,o),o+=i.byteLength;return n},JDe=(e,t=0)=>{let{position:r,length:n}=Ku(e,48,t);return new Uint8Array(e.buffer,e.byteOffset+r,n)},E0=e=>{let t=e.byteLength===0||e[0]&128?1:0,r=S0(e.byteLength+t),n=new Uint8Array(1+r.byteLength+e.byteLength+t),o=0;return n[o]=2,o+=1,n.set(r,o),o+=r.byteLength,t>0&&(n[o]=0,o+=t),n.set(e,o),n},x0=(e,t=0)=>Ku(e,48,t).position,v0=(e,t=0)=>IY(e,48,t),TY=(e,t=0)=>IY(e,2,t),FY=(e,t=0)=>{let{position:r,length:n}=Ku(e,3,t),o=e[r];if(o!==0)throw new Error(`Can not read bitstring, expected length to be multiple of 8, but got ${o} unused bits in last byte.`);return new Uint8Array(e.buffer,e.byteOffset+r+1,n-1)},Qn=(e,t=0)=>{let{position:r,length:n}=Ku(e,2,t),o=0;for(;e[r+o]===0;)o++;return new Uint8Array(e.buffer,e.byteOffset+r+o,n-o)},OY=(e,t=0)=>{let{position:r,length:n}=Ku(e,4,t);return new Uint8Array(e.buffer,e.byteOffset+r,n)},E4=(e,t,r=0)=>{let n=[],o=JDe(t,r),i=0;for(let a of e){let s=a(o,i);n.push(s),i=s.byteOffset+s.byteLength-o.byteOffset}return n}});var VDe,P0,x4,D0=b(()=>{zd();VDe=new Uint8Array([48,13,6,9,42,134,72,134,247,13,1,1,1,5,0]),P0=e=>Gs([VDe,kY(e)]),x4=e=>{let t=x0(e,0),r=v0(e,t);return FY(e,r)}});var ZDe,P4,D4,A4=b(()=>{ra();zd();ZDe=new Uint8Array([2,1,0,48,13,6,9,42,134,72,134,247,13,1,1,1,5,0]),P4=e=>{let t=0;return t=x0(e,t),t=TY(e,t),t=v0(e,t),OY(e,t)},D4=e=>Gs([ZDe,CY(e)])});var I4,k4=b(()=>{zd();D0();ra();I4=({n:e,e:t})=>Gs([E0(e),E0(t)])});var pit,NY,UY=b(()=>{zd();ra();A4();D0();k4();pit=new Uint8Array,NY=(e,t=0)=>{let[r,n,o,i,a,s,u,c,l]=E4([Qn,Qn,Qn,Qn,Qn,Qn,Qn,Qn,Qn],e,t);return{v:r,n,e:o,d:i,p:a,q:s,dp:u,dq:c,qi:l}}});var F4={};ne(F4,{Verifier:()=>ba,code:()=>Hd,decode:()=>LY,from:()=>jY,generate:()=>tAe,name:()=>YDe,or:()=>rAe,signatureAlgorithm:()=>C4,signatureCode:()=>Kd});var YDe,Hd,A0,Kd,C4,T0,T4,XDe,eAe,qY,tAe,jY,rAe,LY,ba,I0,k0,C0,WY=b(()=>{DY();vs();mn();S4();Kn();D0();A4();UY();k4();a4();d4();AY();YDe="RSA",Hd=4869,A0=4613,Kd=nd,C4="RS256",T0="RSASSA-PKCS1-v1_5",T4="SHA-256",XDe=2048,eAe=128,qY={name:T0,hash:{name:T4}},tAe=async({size:e=XDe,extractable:t=!1}={})=>{let{publicKey:r,privateKey:n}=await ya.subtle.generateKey({name:T0,modulusLength:e,publicExponent:new Uint8Array([1,0,1]),hash:{name:T4}},t,["sign","verify"]),o=await ya.subtle.exportKey("spki",r),i=w0(A0,x4(new Uint8Array(o))),a=new ba({bytes:i,publicKey:r});if(t){let s=await ya.subtle.exportKey("pkcs8",n),u=w0(Hd,P4(new Uint8Array(s)));return new k0({privateKey:n,bytes:u,verifier:a})}else return new C0({privateKey:n,verifier:a})},jY=({id:e,keys:t})=>{if(e.startsWith("did:key:")){let r=e,n=t[r];return n instanceof Uint8Array?LY(n):new C0({privateKey:n,verifier:ba.parse(r)})}else throw new TypeError(`RSA can not import from ${e} archive, try generic Signer instead`)},rAe=e=>h0({from:jY},e),LY=e=>{let t=NY(_0(Hd,e)),r=w0(A0,I4(t));return new k0({bytes:e,privateKey:ya.subtle.importKey("pkcs8",D4(_0(Hd,e)),qY,!0,["sign"]),verifier:ba.decode(r)})},ba=class e{constructor({publicKey:t,bytes:r}){this.publicKey=t,this.bytes=r}withDID(t){return Gd(this,t)}toDIDKey(){return this.did()}static decode(t){return new this({bytes:t,publicKey:ya.subtle.importKey("spki",P0(_0(A0,t)),qY,!0,["verify"])})}static parse(t){return e.decode(st(t))}static or(t){return p0(this,t)}get code(){return A0}get signatureCode(){return Kd}get signatureAlgorithm(){return C4}did(){return`did:key:${It.encode(this.bytes)}`}async verify(t,r){return r.code!==Kd?!1:ya.subtle.verify({name:T0,hash:{name:T4}},await this.publicKey,r.raw,t)}},I0=class{constructor({privateKey:t,verifier:r}){this.verifier=r,this.privateKey=t}get signer(){return this}get code(){return Hd}get signatureCode(){return Kd}get signatureAlgorithm(){return C4}did(){return this.verifier.did()}toDIDKey(){return this.verifier.toDIDKey()}verify(t,r){return this.verifier.verify(t,r)}async sign(t){let r=await ya.subtle.sign({name:T0,saltLength:eAe},await this.privateKey,t);return Iu(Kd,new Uint8Array(r))}},k0=class extends I0{constructor(t){super(t),this.bytes=t.bytes}withDID(t){return Hu(this,t)}toArchive(){let t=this.did();return{id:t,keys:{[t]:this.bytes}}}},C0=class extends I0{constructor(t){super(t),this.privateKey=t.privateKey}withDID(t){return Hu(this,t)}toArchive(){let t=this.did();return{id:t,keys:{[t]:this.privateKey}}}}});var MY=b(()=>{Kn();f_()});var yit,bit,GY=b(()=>{vY();WY();MY();S4();yit=zu.or(ba),bit=g0(F4)});var $Y,xit,vit,F0,Pit,O4=b(()=>{br();nt();$Y=j.link({version:1}),xit=xe({can:"ucan/*",with:j.did(),derives:Re}),vit=xe({can:"ucan/revoke",with:j.did(),nb:j.struct({ucan:$Y,proof:$Y.array().optional()}),derives:(e,t)=>fe(Re(e,t))??fe(Qe(e.nb.ucan,t.nb.ucan,"nb.ucan"))??gt((e.nb.proof??[]).join("/"),(t.nb.proof??[]).join("/"),"nb.proof")}),F0=xe({can:"ucan/conclude",with:j.did(),nb:j.struct({receipt:j.link()}),derives:(e,t)=>fe(Re(e,t))||fe(Qe(e.nb.receipt,t.nb.receipt,"nb.receipt"))||be({})}),Pit=xe({can:"ucan/attest",with:j.did(),nb:j.struct({proof:j.link({version:1})}),derives:(e,t)=>fe(Re(e,t))??Qe(e.nb.proof,t.nb.proof,"nb.proof")})});var kit,Ju,Vu,O0,R0,B0,$s=b(()=>{Ad();br();nt();kit=xe({can:"space/blob/*",with:_e,derives:Re}),Ju=j.struct({digest:j.bytes(),size:j.integer()}),Vu=xe({can:"space/blob/add",with:_e,nb:j.struct({blob:Ju}),derives:kd}),O0=xe({can:"space/blob/remove",with:_e,nb:j.struct({digest:j.bytes()}),derives:(e,t)=>e.with!==t.with?rt(`Expected 'with: "${t.with}"' instead got '${e.with}'`):t.nb.digest&&!mi(t.nb.digest,e.nb.digest)?rt(`Link ${e.nb.digest?`${e.nb.digest}`:""} violates imposed ${t.nb.digest} constraint.`):be({})}),R0=xe({can:"space/blob/list",with:_e,nb:j.struct({cursor:j.string().optional(),size:j.integer().optional()}),derives:(e,t)=>e.with!==t.with?rt(`Expected 'with: "${t.with}"' instead got '${e.with}'`):be({})}),B0=xe({can:"space/blob/get/0/1",with:_e,nb:j.struct({digest:j.bytes()}),derives:(e,t)=>e.with!==t.with?rt(`Expected 'with: "${t.with}"' instead got '${e.with}'`):t.nb.digest&&!mi(t.nb.digest,e.nb.digest)?rt(`Link ${e.nb.digest?`${e.nb.digest}`:""} violates imposed ${t.nb.digest} constraint.`):be({})})});var Oit,zY,HY,KY=b(()=>{br();$s();nt();Oit=xe({can:"web3.storage/blob/*",with:_e,derives:Re}),zY=xe({can:"web3.storage/blob/allocate",with:j.did(),nb:j.struct({blob:Ju,cause:yn,space:_e}),derives:(e,t)=>fe(Re(e,t))||fe(kd(e,t))||fe(Qe(e.nb.cause,t.nb.cause,"cause"))||fe(gt(e.nb.space,t.nb.space,"space"))||be({})}),HY=xe({can:"web3.storage/blob/accept",with:j.did(),nb:j.struct({blob:Ju,ttl:j.integer().optional(),space:_e,_put:Id}),derives:(e,t)=>fe(Re(e,t))||fe(kd(e,t))||fe(gt(e.nb.ttl,t.nb.ttl,"ttl"))||fe(gt(e.nb.space,t.nb.space,"space"))||be({})})});var JY,VY=b(()=>{br();$s();nt();JY=xe({can:"http/put",with:_e,nb:j.struct({body:Ju,url:j.string().or(Id),headers:j.dictionary({value:j.string()}).or(Id)}),derives:(e,t)=>fe(Re(e,t))||fe(pQ(e,t))||fe(gt(e.nb.url,t.nb,"url"))||fe(gt(e.nb.headers,t.nb,"headers"))||be({})})});var B4={};ne(B4,{ReceiptMissing:()=>q0,ReceiptNotFound:()=>U0,poll:()=>R4});async function R4(e,t={}){return await Yt(async()=>{let r=await sAe(e,t);if(r.error)throw r.error.name==="ReceiptNotFound"?r.error:new Zn(new Error("failed to fetch blob/accept receipt",{cause:r.error}));return r.ok},{onFailedAttempt:console.warn,retries:t.retries??3})}async function sAe(e,t={}){let r=new URL(e.toString(),t.receiptsEndpoint??a0),o=await(t.fetch??globalThis.fetch.bind(globalThis))(r);if(o.status===404)return{error:new U0(e)};let i=new Uint8Array(await o.arrayBuffer()),s=(await jt.request.decode({body:i,headers:{}})).receipts.get(e.toString());return s?{ok:s}:{error:new q0(e)}}var U0,q0,N4=b(()=>{qs();la();Vr();js();U0=class extends Error{constructor(t){super(),this.taskCid=t}get reason(){return`receipt not found for task ${this.taskCid} in the indexed workflow`}get name(){return"ReceiptNotFound"}},q0=class extends Error{constructor(t){super(),this.taskCid=t}get reason(){return`receipt missing for task ${this.taskCid}`}get name(){return"ReceiptMissing"}}});function cAe(e,t){return({total:n,loaded:o,lengthComputable:i})=>t({total:n,loaded:o,lengthComputable:i,url:e})}function uAe(e){let t=new Map;for(let r of e.iterateIPLDBlocks())t.set(`${r.cid}`,r);return ua.view({root:e.capabilities[0].nb.receipt,blocks:t})}function lAe(e){let t=e.fx.fork,r=t.find(l=>l.capabilities[0].can===zY.can),n=t.filter(l=>l.capabilities[0].can===F0.can),o=t.find(l=>l.capabilities[0].can===JY.can),i=t.find(l=>l.capabilities[0].can===HY.can);if(!r||!n.length||!o||!i)throw new Error("mandatory effects not received");let a=n.map(l=>uAe(l)),s=a.find(l=>l.ran.link().equals(r.cid)),u=a.find(l=>l.ran.link().equals(o.cid)),c=a.find(l=>l.ran.link().equals(i.cid));if(!s)throw new Error("mandatory effects not received");return{allocate:{task:r,receipt:s},put:{task:o,receipt:u},accept:{task:i,receipt:c}}}function pAe(e,t,r){let n=[],o=[];for(let a of r.iterateIPLDBlocks())n.push(a),o.push(a.cid);let i=F0.invoke({issuer:e,audience:t,with:e.toDIDKey(),nb:{receipt:r.link()},expiration:1/0,facts:[{...o}]});for(let a of n)i.attach(a);return i}async function Jd({issuer:e,with:t,proofs:r,audience:n},o,i,a={}){let s=i instanceof Uint8Array?i:new Uint8Array(await i.arrayBuffer()),u=s.length,c=a.connection??Xe,l=await Yt(async()=>await Vu.invoke({issuer:e,audience:n??Ve,with:_e.from(t),nb:j0(o,u),proofs:r,nonce:a.nonce}).execute(c),{onFailedAttempt:console.warn,retries:a.retries??3});if(!l.out.ok)throw new Error(`failed ${Vu.can} invocation`,{cause:l.out.error});let d=lAe(l),{receipt:w}=d.allocate;if(!w.out.ok)throw new Error(`failed ${Vu.can} invocation`,{cause:w.out.error});let{address:m}=w.out.ok;if(m){let y=a.fetchWithUploadProgress||a.fetch||globalThis.fetch.bind(globalThis),_=!1,{status:S}=await Yt(async()=>{try{let x=await y(m.url,{method:"PUT",mode:"cors",body:s,headers:m.headers,signal:a.signal,onUploadProgress:A=>{_=!0,a.onUploadProgress&&cAe(m.url,a.onUploadProgress)(A)},duplex:"half"});if(x.status>=400&&x.status<500)throw new Zn(`upload failed: ${x.status}`);return x}catch(x){throw a.signal?.aborted===!0?new Zn("upload aborted"):x}},{retries:a.retries??3});if(S!==200)throw new Error(`upload failed: ${S}`);if(!_&&a.onUploadProgress){let x=new Blob([s]);a.onUploadProgress({total:x.size,loaded:x.size,lengthComputable:!1})}}let{receipt:p}=d.put;if(!p?.out.ok){let y=b0.from(d.put.task.facts[0].keys);if(p=await ua.issue({issuer:y,ran:d.put.task.cid,result:{ok:{}}}),!(await pAe(e,n??Ve,p).execute(c)).out.ok)throw new Error(`failed ${Vu.can} invocation`,{cause:l.out.error})}let{receipt:f}=d.accept;f?.out.ok||(f=await R4(d.accept.task.link(),a));let g=new Map([...f.iterateIPLDBlocks()].map(y=>[`${y.cid}`,y]));return{site:Fs.view({root:f.out.ok?.site,blocks:g})}}var U4,j0,q4=b(()=>{GY();O4();O4();yr();KY();$s();VY();nt();qs();Vr();js();N4();U4=Vu.can,j0=(e,t)=>({blob:{digest:e.bytes,size:t}})});async function ZY({issuer:e,with:t,proofs:r,audience:n},o,i={}){let a=i.connection??Xe,s=await B0.invoke({issuer:e,audience:n??Ve,with:_e.from(t),nb:fAe(o),proofs:r,nonce:i.nonce}).execute(a);if(!s.out.ok)throw new Error(`failed ${B0.can} invocation`,{cause:s.out.error});return s.out}var Qit,fAe,QY=b(()=>{$s();nt();Vr();Qit=B0.can,fAe=e=>({digest:e.bytes})});async function YY({issuer:e,with:t,proofs:r,audience:n},o={}){let i=o.connection??Xe,a=await R0.invoke({issuer:e,audience:n??Ve,with:_e.from(t),proofs:r,nb:hAe(o.cursor,o.size),nonce:o.nonce}).execute(i);if(!a.out.ok)throw new Error(`failed ${R0.can} invocation`,{cause:a.out.error});return a.out.ok}var tat,hAe,XY=b(()=>{$s();nt();Vr();tat=R0.can,hAe=(e,t)=>({cursor:e,size:t})});async function eX({issuer:e,with:t,proofs:r,audience:n},o,i={}){let a=i.connection??Xe,s=await O0.invoke({issuer:e,audience:n??Ve,with:_e.from(t),nb:mAe(o),proofs:r,nonce:i.nonce}).execute(a);if(!s.out.ok)throw new Error(`failed ${O0.can} invocation`,{cause:s.out.error});return s.out}var iat,mAe,tX=b(()=>{$s();nt();Vr();iat=O0.can,mAe=e=>({digest:e.bytes})});var j4={};ne(j4,{add:()=>Jd,get:()=>ZY,list:()=>YY,remove:()=>eX});var rX=b(()=>{q4();QY();XY();tX()});var hat,L0,nX=b(()=>{yr();br();nt();hat=xe({can:"space/index/*",with:_e,derives:Re}),L0=xe({can:"space/index/add",with:_e,nb:j.struct({index:j.link({code:Ye.code,version:1})}),derives:(e,t)=>fe(Re(e,t))||fe(gt(e.nb.index,t.nb.index,"index"))||be({})})});async function W0({issuer:e,with:t,proofs:r,audience:n},o,i={}){let a=i.connection??Xe,s=await Yt(async()=>await L0.invoke({issuer:e,audience:n??Ve,with:_e.from(t),nb:L4(o),proofs:r}).execute(a),{onFailedAttempt:console.warn,retries:i.retries??3});if(!s.out.ok)throw new Error(`failed ${L0.can} invocation`,{cause:s.out.error});return s.out.ok}var oX,L4,W4=b(()=>{nX();nt();qs();Vr();js();oX=L0.can,L4=e=>({index:e})});var M4={};ne(M4,{add:()=>W0});var iX=b(()=>{W4()});var xat,bAe,Vd,M0,Zd,Qd,vat,Yd=b(()=>{br();J_();nt();xat=xe({can:"upload/*",with:_e,derives:Re}),bAe=yn.match({code:Ye.code,version:1}),Vd=xe({can:"upload/add",with:_e,nb:j.struct({root:yn,shards:bAe.array().optional()}),derives:(e,t)=>fe(Re(e,t))||fe(gt(e.nb.root,t.nb.root,"root"))||fe(gt(e.nb.shards,t.nb.shards,"shards"))||be({})}),M0=xe({can:"upload/get",with:_e,nb:j.struct({root:yn.optional()}),derives:(e,t)=>{let r=Re(e,t);return r.error||!t.nb.root?r:gt(e.nb.root,t.nb.root,"root")}}),Zd=xe({can:"upload/remove",with:_e,nb:j.struct({root:yn}),derives:(e,t)=>fe(Re(e,t))||fe(gt(e.nb.root,t.nb.root,"root"))||be({})}),Qd=xe({can:"upload/list",with:_e,nb:j.struct({cursor:j.string().optional(),size:j.integer().optional(),pre:j.boolean().optional()})}),vat=Vd.or(Zd).or(Qd)});async function $0({issuer:e,with:t,proofs:r,audience:n},o,i,a={}){let s=a.connection??Xe,u=await Yt(async()=>await Vd.invoke({issuer:e,audience:n??Ve,with:_e.from(t),nb:G4(o,i),proofs:r,nonce:a.nonce}).execute(s),{onFailedAttempt:console.warn,retries:a.retries??3});if(!u.out.ok)throw new Error(`failed ${Vd.can} invocation`,{cause:u.out.error});return u.out.ok}var aX,G4,$4=b(()=>{Yd();nt();qs();Vr();js();aX=Vd.can,G4=(e,t)=>({root:e,shards:t})});async function sX({issuer:e,with:t,proofs:r,audience:n},o,i={}){let a=i.connection??Xe,s=await Yt(async()=>await M0.invoke({issuer:e,audience:n??Ve,with:_e.from(t),nb:_Ae(o),proofs:r,nonce:i.nonce}).execute(a),{onFailedAttempt:console.warn,retries:i.retries??3});if(!s.out.ok)throw new Error(`failed ${M0.can} invocation`,{cause:s.out.error});return s.out.ok}var Oat,_Ae,cX=b(()=>{Yd();nt();qs();Vr();js();Oat=M0.can,_Ae=e=>({root:e})});async function uX({issuer:e,with:t,proofs:r,audience:n},o={}){let i=o.connection??Xe,a=await Qd.invoke({issuer:e,audience:n??Ve,with:_e.from(t),proofs:r,nb:SAe(o.cursor,o.size,o.pre),nonce:o.nonce}).execute(i);if(!a.out.ok)throw new Error(`failed ${Qd.can} invocation`,{cause:a.out.error});return a.out.ok}var Uat,SAe,lX=b(()=>{Yd();nt();Vr();Uat=Qd.can,SAe=(e,t,r)=>({cursor:e,size:t,pre:r})});async function pX({issuer:e,with:t,proofs:r,audience:n},o,i={}){let a=i.connection??Xe,s=await Zd.invoke({issuer:e,audience:n??Ve,with:_e.from(t),nb:EAe(o),proofs:r,nonce:i.nonce}).execute(a);if(!s.out.ok)throw new Error(`failed ${Zd.can} invocation`,{cause:s.out.error});return s.out.ok}var Wat,EAe,dX=b(()=>{Yd();nt();Vr();Wat=Zd.can,EAe=e=>({root:e})});var z4={};ne(z4,{add:()=>$0,get:()=>sX,list:()=>uX,remove:()=>pX});var fX=b(()=>{$4();cX();lX();dX()});var hX=b(()=>{});var mX=b(()=>{});function H4(e,t){let r=0;for(let n=0;;n+=7){if(n>=64)throw new Error("protobuf: varint overflow");if(t>=e.length)throw new Error("protobuf: unexpected end of data");let o=e[t++];if(r+=n<28?(o&127)<<n:(o&127)*2**n,o<128)break}return[r,t]}function z0(e,t){let r;[r,t]=H4(e,t);let n=t+r;if(r<0||n<0)throw new Error("protobuf: invalid length");if(n>e.length)throw new Error("protobuf: unexpected end of data");return[e.subarray(t,n),n]}function gX(e,t){let r;return[r,t]=H4(e,t),[r&7,r>>3,t]}function vAe(e){let t={},r=e.length,n=0;for(;n<r;){let o,i;if([o,i,n]=gX(e,n),i===1){if(t.Hash)throw new Error("protobuf: (PBLink) duplicate Hash section");if(o!==2)throw new Error(`protobuf: (PBLink) wrong wireType (${o}) for Hash`);if(t.Name!==void 0)throw new Error("protobuf: (PBLink) invalid order, found Name before Hash");if(t.Tsize!==void 0)throw new Error("protobuf: (PBLink) invalid order, found Tsize before Hash");[t.Hash,n]=z0(e,n)}else if(i===2){if(t.Name!==void 0)throw new Error("protobuf: (PBLink) duplicate Name section");if(o!==2)throw new Error(`protobuf: (PBLink) wrong wireType (${o}) for Name`);if(t.Tsize!==void 0)throw new Error("protobuf: (PBLink) invalid order, found Tsize before Name");let a;[a,n]=z0(e,n),t.Name=xAe.decode(a)}else if(i===3){if(t.Tsize!==void 0)throw new Error("protobuf: (PBLink) duplicate Tsize section");if(o!==0)throw new Error(`protobuf: (PBLink) wrong wireType (${o}) for Tsize`);[t.Tsize,n]=H4(e,n)}else throw new Error(`protobuf: (PBLink) invalid fieldNumber, expected 1, 2 or 3, got ${i}`)}if(n>r)throw new Error("protobuf: (PBLink) unexpected end of data");return t}function yX(e){let t=e.length,r=0,n,o=!1,i;for(;r<t;){let s,u;if([s,u,r]=gX(e,r),s!==2)throw new Error(`protobuf: (PBNode) invalid wireType, expected 2, got ${s}`);if(u===1){if(i)throw new Error("protobuf: (PBNode) duplicate Data section");[i,r]=z0(e,r),n&&(o=!0)}else if(u===2){if(o)throw new Error("protobuf: (PBNode) duplicate Links section");n||(n=[]);let c;[c,r]=z0(e,r),n.push(vAe(c))}else throw new Error(`protobuf: (PBNode) invalid fieldNumber, expected 1 or 2, got ${u}`)}if(r>t)throw new Error("protobuf: (PBNode) unexpected end of data");let a={};return i&&(a.Data=i),a.Links=n||[],a}var xAe,bX=b(()=>{xAe=new TextDecoder});function DAe(e,t){let r=t.length;if(typeof e.Tsize=="number"){if(e.Tsize<0)throw new Error("Tsize cannot be negative");if(!Number.isSafeInteger(e.Tsize))throw new Error("Tsize too large for encoding");r=Xd(t,r,e.Tsize)-1,t[r]=24}if(typeof e.Name=="string"){let n=_X.encode(e.Name);r-=n.length,t.set(n,r),r=Xd(t,r,n.length)-1,t[r]=18}return e.Hash&&(r-=e.Hash.length,t.set(e.Hash,r),r=Xd(t,r,e.Hash.length)-1,t[r]=10),t.length-r}function SX(e){let t=IAe(e),r=new Uint8Array(t),n=t;if(e.Data&&(n-=e.Data.length,r.set(e.Data,n),n=Xd(r,n,e.Data.length)-1,r[n]=10),e.Links)for(let o=e.Links.length-1;o>=0;o--){let i=DAe(e.Links[o],r.subarray(0,n));n-=i,n=Xd(r,n,i)-1,r[n]=18}return r}function AAe(e){let t=0;if(e.Hash){let r=e.Hash.length;t+=1+r+Zu(r)}if(typeof e.Name=="string"){let r=_X.encode(e.Name).length;t+=1+r+Zu(r)}return typeof e.Tsize=="number"&&(t+=1+Zu(e.Tsize)),t}function IAe(e){let t=0;if(e.Data){let r=e.Data.length;t+=1+r+Zu(r)}if(e.Links)for(let r of e.Links){let n=AAe(r);t+=1+n+Zu(n)}return t}function Xd(e,t,r){t-=Zu(r);let n=t;for(;r>=PAe;)e[t++]=r&127|128,r/=128;for(;r>=128;)e[t++]=r&127|128,r>>>=7;return e[t]=r,n}function Zu(e){return e%2===0&&e++,Math.floor((kAe(e)+6)/7)}function kAe(e){let t=0;return e>=wX&&(e=Math.floor(e/wX),t=32),e>=65536&&(e>>>=16,t+=16),e>=256&&(e>>>=8,t+=8),t+CAe[e]}var _X,wX,PAe,CAe,EX=b(()=>{_X=new TextEncoder,wX=2**32,PAe=2**31;CAe=[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8]});function vX(e,t){if(e===t)return 0;let r=e.Name?K4.encode(e.Name):[],n=t.Name?K4.encode(t.Name):[],o=r.length,i=n.length;for(let a=0,s=Math.min(o,i);a<s;++a)if(r[a]!==n[a]){o=r[a],i=n[a];break}return o<i?-1:i<o?1:0}function xX(e,t){return!Object.keys(e).some(r=>!t.includes(r))}function OAe(e){if(typeof e.asCID=="object"){let r=$e.asCID(e);if(!r)throw new TypeError("Invalid DAG-PB form");return{Hash:r}}if(typeof e!="object"||Array.isArray(e))throw new TypeError("Invalid DAG-PB form");let t={};if(e.Hash){let r=$e.asCID(e.Hash);try{r||(typeof e.Hash=="string"?r=$e.parse(e.Hash):e.Hash instanceof Uint8Array&&(r=$e.decode(e.Hash)))}catch(n){throw new TypeError(`Invalid DAG-PB form: ${n.message}`)}r&&(t.Hash=r)}if(!t.Hash)throw new TypeError("Invalid DAG-PB form");return typeof e.Name=="string"&&(t.Name=e.Name),typeof e.Tsize=="number"&&(t.Tsize=e.Tsize),t}function J4(e){if((e instanceof Uint8Array||typeof e=="string")&&(e={Data:e}),typeof e!="object"||Array.isArray(e))throw new TypeError("Invalid DAG-PB form");let t={};if(e.Data!==void 0)if(typeof e.Data=="string")t.Data=K4.encode(e.Data);else if(e.Data instanceof Uint8Array)t.Data=e.Data;else throw new TypeError("Invalid DAG-PB form");if(e.Links!==void 0)if(Array.isArray(e.Links))t.Links=e.Links.map(OAe),t.Links.sort(vX);else throw new TypeError("Invalid DAG-PB form");else t.Links=[];return t}function PX(e){if(!e||typeof e!="object"||Array.isArray(e)||e instanceof Uint8Array||e["/"]&&e["/"]===e.bytes)throw new TypeError("Invalid DAG-PB form");if(!xX(e,TAe))throw new TypeError("Invalid DAG-PB form (extraneous properties)");if(e.Data!==void 0&&!(e.Data instanceof Uint8Array))throw new TypeError("Invalid DAG-PB form (Data must be bytes)");if(!Array.isArray(e.Links))throw new TypeError("Invalid DAG-PB form (Links must be a list)");for(let t=0;t<e.Links.length;t++){let r=e.Links[t];if(!r||typeof r!="object"||Array.isArray(r)||r instanceof Uint8Array||r["/"]&&r["/"]===r.bytes)throw new TypeError("Invalid DAG-PB form (bad link)");if(!xX(r,FAe))throw new TypeError("Invalid DAG-PB form (extraneous properties on link)");if(r.Hash===void 0)throw new TypeError("Invalid DAG-PB form (link must have a Hash)");if(r.Hash==null||!r.Hash["/"]||r.Hash["/"]!==r.Hash.bytes)throw new TypeError("Invalid DAG-PB form (link Hash must be a CID)");if(r.Name!==void 0&&typeof r.Name!="string")throw new TypeError("Invalid DAG-PB form (link Name must be a string)");if(r.Tsize!==void 0){if(typeof r.Tsize!="number"||r.Tsize%1!==0)throw new TypeError("Invalid DAG-PB form (link Tsize must be an integer)");if(r.Tsize<0)throw new TypeError("Invalid DAG-PB form (link Tsize cannot be negative)")}if(t>0&&vX(r,e.Links[t-1])===-1)throw new TypeError("Invalid DAG-PB form (links must be sorted by Name bytes)")}}function DX(e){return e instanceof ArrayBuffer?new Uint8Array(e,0,e.byteLength):e}var TAe,FAe,K4,AX=b(()=>{vo();TAe=["Data","Links"],FAe=["Hash","Name","Tsize"],K4=new TextEncoder});function IX(e){PX(e);let t={};return e.Links&&(t.Links=e.Links.map(r=>{let n={};return r.Hash&&(n.Hash=r.Hash.bytes),r.Name!==void 0&&(n.Name=r.Name),r.Tsize!==void 0&&(n.Tsize=r.Tsize),n})),e.Data&&(t.Data=e.Data),SX(t)}function kX(e){let t=DX(e),r=yX(t),n={};return r.Data&&(n.Data=r.Data),r.Links&&(n.Links=r.Links.map(o=>{let i={};try{i.Hash=$e.decode(o.Hash)}catch{}if(!i.Hash)throw new Error("Invalid Hash field found in link, expected CID");return o.Name!==void 0&&(i.Name=o.Name),o.Tsize!==void 0&&(i.Tsize=o.Tsize),i})),n}var H0,V4=b(()=>{vo();bX();EX();AX();H0=112});var FX=E((nst,TX)=>{"use strict";TX.exports=Ct;var ef=_a();function Ct(e,t){this.lo=e>>>0,this.hi=t>>>0}var zs=Ct.zero=new Ct(0,0);zs.toNumber=function(){return 0};zs.zzEncode=zs.zzDecode=function(){return this};zs.length=function(){return 1};var RAe=Ct.zeroHash="\0\0\0\0\0\0\0\0";Ct.fromNumber=function(t){if(t===0)return zs;var r=t<0;r&&(t=-t);var n=t>>>0,o=(t-n)/4294967296>>>0;return r&&(o=~o>>>0,n=~n>>>0,++n>4294967295&&(n=0,++o>4294967295&&(o=0))),new Ct(n,o)};Ct.from=function(t){if(typeof t=="number")return Ct.fromNumber(t);if(ef.isString(t))if(ef.Long)t=ef.Long.fromString(t);else return Ct.fromNumber(parseInt(t,10));return t.low||t.high?new Ct(t.low>>>0,t.high>>>0):zs};Ct.prototype.toNumber=function(t){if(!t&&this.hi>>>31){var r=~this.lo+1>>>0,n=~this.hi>>>0;return r||(n=n+1>>>0),-(r+n*4294967296)}return this.lo+this.hi*4294967296};Ct.prototype.toLong=function(t){return ef.Long?new ef.Long(this.lo|0,this.hi|0,!!t):{low:this.lo|0,high:this.hi|0,unsigned:!!t}};var wa=String.prototype.charCodeAt;Ct.fromHash=function(t){return t===RAe?zs:new Ct((wa.call(t,0)|wa.call(t,1)<<8|wa.call(t,2)<<16|wa.call(t,3)<<24)>>>0,(wa.call(t,4)|wa.call(t,5)<<8|wa.call(t,6)<<16|wa.call(t,7)<<24)>>>0)};Ct.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)};Ct.prototype.zzEncode=function(){var t=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^t)>>>0,this.lo=(this.lo<<1^t)>>>0,this};Ct.prototype.zzDecode=function(){var t=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^t)>>>0,this.hi=(this.hi>>>1^t)>>>0,this};Ct.prototype.length=function(){var t=this.lo,r=(this.lo>>>28|this.hi<<4)>>>0,n=this.hi>>>24;return n===0?r===0?t<16384?t<128?1:2:t<2097152?3:4:r<16384?r<128?5:6:r<2097152?7:8:n<128?9:10}});var _a=E(Z4=>{"use strict";var me=Z4;me.asPromise=_A();me.base64=SA();me.EventEmitter=EA();me.float=xA();me.inquire=vA();me.utf8=DA();me.pool=AA();me.LongBits=FX();me.isNode=!!(typeof global<"u"&&global&&global.process&&global.process.versions&&global.process.versions.node);me.global=me.isNode&&global||typeof window<"u"&&window||typeof self<"u"&&self||Z4;me.emptyArray=Object.freeze?Object.freeze([]):[];me.emptyObject=Object.freeze?Object.freeze({}):{};me.isInteger=Number.isInteger||function(t){return typeof t=="number"&&isFinite(t)&&Math.floor(t)===t};me.isString=function(t){return typeof t=="string"||t instanceof String};me.isObject=function(t){return t&&typeof t=="object"};me.isset=me.isSet=function(t,r){var n=t[r];return n!=null&&t.hasOwnProperty(r)?typeof n!="object"||(Array.isArray(n)?n.length:Object.keys(n).length)>0:!1};me.Buffer=function(){try{var e=me.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null}catch{return null}}();me._Buffer_from=null;me._Buffer_allocUnsafe=null;me.newBuffer=function(t){return typeof t=="number"?me.Buffer?me._Buffer_allocUnsafe(t):new me.Array(t):me.Buffer?me._Buffer_from(t):typeof Uint8Array>"u"?t:new Uint8Array(t)};me.Array=typeof Uint8Array<"u"?Uint8Array:Array;me.Long=me.global.dcodeIO&&me.global.dcodeIO.Long||me.global.Long||me.inquire("long");me.key2Re=/^true|false|0|1$/;me.key32Re=/^-?(?:0|[1-9][0-9]*)$/;me.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/;me.longToHash=function(t){return t?me.LongBits.from(t).toHash():me.LongBits.zeroHash};me.longFromHash=function(t,r){var n=me.LongBits.fromHash(t);return me.Long?me.Long.fromBits(n.lo,n.hi,r):n.toNumber(!!r)};function OX(e,t,r){for(var n=Object.keys(t),o=0;o<n.length;++o)(e[n[o]]===void 0||!r)&&(e[n[o]]=t[n[o]]);return e}me.merge=OX;me.lcFirst=function(t){return t.charAt(0).toLowerCase()+t.substring(1)};function RX(e){function t(r,n){if(!(this instanceof t))return new t(r,n);Object.defineProperty(this,"message",{get:function(){return r}}),Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,"stack",{value:new Error().stack||""}),n&&OX(this,n)}return t.prototype=Object.create(Error.prototype,{constructor:{value:t,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return e},set:void 0,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),t}me.newError=RX;me.ProtocolError=RX("ProtocolError");me.oneOfGetter=function(t){for(var r={},n=0;n<t.length;++n)r[t[n]]=1;return function(){for(var o=Object.keys(this),i=o.length-1;i>-1;--i)if(r[o[i]]===1&&this[o[i]]!==void 0&&this[o[i]]!==null)return o[i]}};me.oneOfSetter=function(t){return function(r){for(var n=0;n<t.length;++n)t[n]!==r&&delete this[t[n]]}};me.toJSONOptions={longs:String,enums:String,bytes:String,json:!0};me._configure=function(){var e=me.Buffer;if(!e){me._Buffer_from=me._Buffer_allocUnsafe=null;return}me._Buffer_from=e.from!==Uint8Array.from&&e.from||function(r,n){return new e(r,n)},me._Buffer_allocUnsafe=e.allocUnsafe||function(r){return new e(r)}}});var nC=E((ist,qX)=>{"use strict";qX.exports=qe;var Sn=_a(),Q4,K0=Sn.LongBits,BX=Sn.base64,NX=Sn.utf8;function tf(e,t,r){this.fn=e,this.len=t,this.next=void 0,this.val=r}function X4(){}function BAe(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}function qe(){this.len=0,this.head=new tf(X4,0,0),this.tail=this.head,this.states=null}var UX=function(){return Sn.Buffer?function(){return(qe.create=function(){return new Q4})()}:function(){return new qe}};qe.create=UX();qe.alloc=function(t){return new Sn.Array(t)};Sn.Array!==Array&&(qe.alloc=Sn.pool(qe.alloc,Sn.Array.prototype.subarray));qe.prototype._push=function(t,r,n){return this.tail=this.tail.next=new tf(t,r,n),this.len+=r,this};function eC(e,t,r){t[r]=e&255}function NAe(e,t,r){for(;e>127;)t[r++]=e&127|128,e>>>=7;t[r]=e}function tC(e,t){this.len=e,this.next=void 0,this.val=t}tC.prototype=Object.create(tf.prototype);tC.prototype.fn=NAe;qe.prototype.uint32=function(t){return this.len+=(this.tail=this.tail.next=new tC((t=t>>>0)<128?1:t<16384?2:t<2097152?3:t<268435456?4:5,t)).len,this};qe.prototype.int32=function(t){return t<0?this._push(rC,10,K0.fromNumber(t)):this.uint32(t)};qe.prototype.sint32=function(t){return this.uint32((t<<1^t>>31)>>>0)};function rC(e,t,r){for(;e.hi;)t[r++]=e.lo&127|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;e.lo>127;)t[r++]=e.lo&127|128,e.lo=e.lo>>>7;t[r++]=e.lo}qe.prototype.uint64=function(t){var r=K0.from(t);return this._push(rC,r.length(),r)};qe.prototype.int64=qe.prototype.uint64;qe.prototype.sint64=function(t){var r=K0.from(t).zzEncode();return this._push(rC,r.length(),r)};qe.prototype.bool=function(t){return this._push(eC,1,t?1:0)};function Y4(e,t,r){t[r]=e&255,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24}qe.prototype.fixed32=function(t){return this._push(Y4,4,t>>>0)};qe.prototype.sfixed32=qe.prototype.fixed32;qe.prototype.fixed64=function(t){var r=K0.from(t);return this._push(Y4,4,r.lo)._push(Y4,4,r.hi)};qe.prototype.sfixed64=qe.prototype.fixed64;qe.prototype.float=function(t){return this._push(Sn.float.writeFloatLE,4,t)};qe.prototype.double=function(t){return this._push(Sn.float.writeDoubleLE,8,t)};var UAe=Sn.Array.prototype.set?function(t,r,n){r.set(t,n)}:function(t,r,n){for(var o=0;o<t.length;++o)r[n+o]=t[o]};qe.prototype.bytes=function(t){var r=t.length>>>0;if(!r)return this._push(eC,1,0);if(Sn.isString(t)){var n=qe.alloc(r=BX.length(t));BX.decode(t,n,0),t=n}return this.uint32(r)._push(UAe,r,t)};qe.prototype.string=function(t){var r=NX.length(t);return r?this.uint32(r)._push(NX.write,r,t):this._push(eC,1,0)};qe.prototype.fork=function(){return this.states=new BAe(this),this.head=this.tail=new tf(X4,0,0),this.len=0,this};qe.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new tf(X4,0,0),this.len=0),this};qe.prototype.ldelim=function(){var t=this.head,r=this.tail,n=this.len;return this.reset().uint32(n),n&&(this.tail.next=t.next,this.tail=r,this.len+=n),this};qe.prototype.finish=function(){for(var t=this.head.next,r=this.constructor.alloc(this.len),n=0;t;)t.fn(t.val,r,n),n+=t.len,t=t.next;return r};qe._configure=function(e){Q4=e,qe.create=UX(),Q4._configure()}});var WX=E((ast,LX)=>{"use strict";LX.exports=Oo;var jX=nC();(Oo.prototype=Object.create(jX.prototype)).constructor=Oo;var Sa=_a();function Oo(){jX.call(this)}Oo._configure=function(){Oo.alloc=Sa._Buffer_allocUnsafe,Oo.writeBytesBuffer=Sa.Buffer&&Sa.Buffer.prototype instanceof Uint8Array&&Sa.Buffer.prototype.set.name==="set"?function(t,r,n){r.set(t,n)}:function(t,r,n){if(t.copy)t.copy(r,n,0,t.length);else for(var o=0;o<t.length;)r[n++]=t[o++]}};Oo.prototype.bytes=function(t){Sa.isString(t)&&(t=Sa._Buffer_from(t,"base64"));var r=t.length>>>0;return this.uint32(r),r&&this._push(Oo.writeBytesBuffer,r,t),this};function qAe(e,t,r){e.length<40?Sa.utf8.write(e,t,r):t.utf8Write?t.utf8Write(e,r):t.write(e,r)}Oo.prototype.string=function(t){var r=Sa.Buffer.byteLength(t);return this.uint32(r),r&&this._push(qAe,r,t),this};Oo._configure()});var aC=E((sst,HX)=>{"use strict";HX.exports=ut;var Yn=_a(),iC,$X=Yn.LongBits,jAe=Yn.utf8;function Xn(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len)}function ut(e){this.buf=e,this.pos=0,this.len=e.length}var MX=typeof Uint8Array<"u"?function(t){if(t instanceof Uint8Array||Array.isArray(t))return new ut(t);throw Error("illegal buffer")}:function(t){if(Array.isArray(t))return new ut(t);throw Error("illegal buffer")},zX=function(){return Yn.Buffer?function(r){return(ut.create=function(o){return Yn.Buffer.isBuffer(o)?new iC(o):MX(o)})(r)}:MX};ut.create=zX();ut.prototype._slice=Yn.Array.prototype.subarray||Yn.Array.prototype.slice;ut.prototype.uint32=function(){var t=4294967295;return function(){if(t=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(t=(t|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(t=(t|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(t=(t|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(t=(t|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return t;if((this.pos+=5)>this.len)throw this.pos=this.len,Xn(this,10);return t}}();ut.prototype.int32=function(){return this.uint32()|0};ut.prototype.sint32=function(){var t=this.uint32();return t>>>1^-(t&1)|0};function oC(){var e=new $X(0,0),t=0;if(this.len-this.pos>4){for(;t<4;++t)if(e.lo=(e.lo|(this.buf[this.pos]&127)<<t*7)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(this.buf[this.pos]&127)<<28)>>>0,e.hi=(e.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return e;t=0}else{for(;t<3;++t){if(this.pos>=this.len)throw Xn(this);if(e.lo=(e.lo|(this.buf[this.pos]&127)<<t*7)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(this.buf[this.pos++]&127)<<t*7)>>>0,e}if(this.len-this.pos>4){for(;t<5;++t)if(e.hi=(e.hi|(this.buf[this.pos]&127)<<t*7+3)>>>0,this.buf[this.pos++]<128)return e}else for(;t<5;++t){if(this.pos>=this.len)throw Xn(this);if(e.hi=(e.hi|(this.buf[this.pos]&127)<<t*7+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}ut.prototype.bool=function(){return this.uint32()!==0};function J0(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}ut.prototype.fixed32=function(){if(this.pos+4>this.len)throw Xn(this,4);return J0(this.buf,this.pos+=4)};ut.prototype.sfixed32=function(){if(this.pos+4>this.len)throw Xn(this,4);return J0(this.buf,this.pos+=4)|0};function GX(){if(this.pos+8>this.len)throw Xn(this,8);return new $X(J0(this.buf,this.pos+=4),J0(this.buf,this.pos+=4))}ut.prototype.float=function(){if(this.pos+4>this.len)throw Xn(this,4);var t=Yn.float.readFloatLE(this.buf,this.pos);return this.pos+=4,t};ut.prototype.double=function(){if(this.pos+8>this.len)throw Xn(this,4);var t=Yn.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,t};ut.prototype.bytes=function(){var t=this.uint32(),r=this.pos,n=this.pos+t;if(n>this.len)throw Xn(this,t);if(this.pos+=t,Array.isArray(this.buf))return this.buf.slice(r,n);if(r===n){var o=Yn.Buffer;return o?o.alloc(0):new this.buf.constructor(0)}return this._slice.call(this.buf,r,n)};ut.prototype.string=function(){var t=this.bytes();return jAe.read(t,0,t.length)};ut.prototype.skip=function(t){if(typeof t=="number"){if(this.pos+t>this.len)throw Xn(this,t);this.pos+=t}else do if(this.pos>=this.len)throw Xn(this);while(this.buf[this.pos++]&128);return this};ut.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(e=this.uint32()&7)!==4;)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this};ut._configure=function(e){iC=e,ut.create=zX(),iC._configure();var t=Yn.Long?"toLong":"toNumber";Yn.merge(ut.prototype,{int64:function(){return oC.call(this)[t](!1)},uint64:function(){return oC.call(this)[t](!0)},sint64:function(){return oC.call(this).zzDecode()[t](!1)},fixed64:function(){return GX.call(this)[t](!0)},sfixed64:function(){return GX.call(this)[t](!1)}})}});var ZX=E((cst,VX)=>{"use strict";VX.exports=Hs;var JX=aC();(Hs.prototype=Object.create(JX.prototype)).constructor=Hs;var KX=_a();function Hs(e){JX.call(this,e)}Hs._configure=function(){KX.Buffer&&(Hs.prototype._slice=KX.Buffer.prototype.slice)};Hs.prototype.string=function(){var t=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+t,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+t,this.len))};Hs._configure()});var YX=E((ust,QX)=>{"use strict";QX.exports=rf;var sC=_a();(rf.prototype=Object.create(sC.EventEmitter.prototype)).constructor=rf;function rf(e,t,r){if(typeof e!="function")throw TypeError("rpcImpl must be a function");sC.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=!!t,this.responseDelimited=!!r}rf.prototype.rpcCall=function e(t,r,n,o,i){if(!o)throw TypeError("request must be specified");var a=this;if(!i)return sC.asPromise(e,a,t,r,n,o);if(!a.rpcImpl){setTimeout(function(){i(Error("already ended"))},0);return}try{return a.rpcImpl(t,r[a.requestDelimited?"encodeDelimited":"encode"](o).finish(),function(u,c){if(u)return a.emit("error",u,t),i(u);if(c===null){a.end(!0);return}if(!(c instanceof n))try{c=n[a.responseDelimited?"decodeDelimited":"decode"](c)}catch(l){return a.emit("error",l,t),i(l)}return a.emit("data",c,t),i(null,c)})}catch(s){a.emit("error",s,t),setTimeout(function(){i(s)},0);return}};rf.prototype.end=function(t){return this.rpcImpl&&(t||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}});var eee=E(XX=>{"use strict";var LAe=XX;LAe.Service=YX()});var ree=E((pst,tee)=>{"use strict";tee.exports={}});var iee=E(oee=>{"use strict";var _r=oee;_r.build="minimal";_r.Writer=nC();_r.BufferWriter=WX();_r.Reader=aC();_r.BufferReader=ZX();_r.util=_a();_r.rpc=eee();_r.roots=ree();_r.configure=nee;function nee(){_r.util._configure(),_r.Writer._configure(_r.BufferWriter),_r.Reader._configure(_r.BufferReader)}nee()});var see=E((fst,aee)=>{"use strict";aee.exports=iee()});var bi,Qu,cC,Se,Lt,Yu,hst,mst,uC=b(()=>{bi=L(see(),1),Qu=bi.default.Reader,cC=bi.default.Writer,Se=bi.default.util,Lt=bi.default.roots.unixfs||(bi.default.roots.unixfs={}),Yu=Lt.Data=(()=>{function e(t){if(this.blocksizes=[],t)for(var r=Object.keys(t),n=0;n<r.length;++n)t[r[n]]!=null&&(this[r[n]]=t[r[n]])}return e.prototype.Type=0,e.prototype.Data=Se.newBuffer([]),e.prototype.filesize=Se.Long?Se.Long.fromBits(0,0,!0):0,e.prototype.blocksizes=Se.emptyArray,e.prototype.hashType=Se.Long?Se.Long.fromBits(0,0,!0):0,e.prototype.fanout=Se.Long?Se.Long.fromBits(0,0,!0):0,e.prototype.mode=0,e.prototype.mtime=null,e.encode=function(r,n){if(n||(n=cC.create()),n.uint32(8).int32(r.Type),r.Data!=null&&Object.hasOwnProperty.call(r,"Data")&&n.uint32(18).bytes(r.Data),r.filesize!=null&&Object.hasOwnProperty.call(r,"filesize")&&n.uint32(24).uint64(r.filesize),r.blocksizes!=null&&r.blocksizes.length)for(var o=0;o<r.blocksizes.length;++o)n.uint32(32).uint64(r.blocksizes[o]);return r.hashType!=null&&Object.hasOwnProperty.call(r,"hashType")&&n.uint32(40).uint64(r.hashType),r.fanout!=null&&Object.hasOwnProperty.call(r,"fanout")&&n.uint32(48).uint64(r.fanout),r.mode!=null&&Object.hasOwnProperty.call(r,"mode")&&n.uint32(56).uint32(r.mode),r.mtime!=null&&Object.hasOwnProperty.call(r,"mtime")&&Lt.UnixTime.encode(r.mtime,n.uint32(66).fork()).ldelim(),n},e.decode=function(r,n){r instanceof Qu||(r=Qu.create(r));for(var o=n===void 0?r.len:r.pos+n,i=new Lt.Data;r.pos<o;){var a=r.uint32();switch(a>>>3){case 1:i.Type=r.int32();break;case 2:i.Data=r.bytes();break;case 3:i.filesize=r.uint64();break;case 4:if(i.blocksizes&&i.blocksizes.length||(i.blocksizes=[]),(a&7)===2)for(var s=r.uint32()+r.pos;r.pos<s;)i.blocksizes.push(r.uint64());else i.blocksizes.push(r.uint64());break;case 5:i.hashType=r.uint64();break;case 6:i.fanout=r.uint64();break;case 7:i.mode=r.uint32();break;case 8:i.mtime=Lt.UnixTime.decode(r,r.uint32());break;default:r.skipType(a&7);break}}if(!i.hasOwnProperty("Type"))throw Se.ProtocolError("missing required 'Type'",{instance:i});return i},e.fromObject=function(r){if(r instanceof Lt.Data)return r;var n=new Lt.Data;switch(r.Type){case"Raw":case 0:n.Type=0;break;case"Directory":case 1:n.Type=1;break;case"File":case 2:n.Type=2;break;case"Metadata":case 3:n.Type=3;break;case"Symlink":case 4:n.Type=4;break;case"HAMTShard":case 5:n.Type=5;break}if(r.Data!=null&&(typeof r.Data=="string"?Se.base64.decode(r.Data,n.Data=Se.newBuffer(Se.base64.length(r.Data)),0):r.Data.length&&(n.Data=r.Data)),r.filesize!=null&&(Se.Long?(n.filesize=Se.Long.fromValue(r.filesize)).unsigned=!0:typeof r.filesize=="string"?n.filesize=parseInt(r.filesize,10):typeof r.filesize=="number"?n.filesize=r.filesize:typeof r.filesize=="object"&&(n.filesize=new Se.LongBits(r.filesize.low>>>0,r.filesize.high>>>0).toNumber(!0))),r.blocksizes){if(!Array.isArray(r.blocksizes))throw TypeError(".Data.blocksizes: array expected");n.blocksizes=[];for(var o=0;o<r.blocksizes.length;++o)Se.Long?(n.blocksizes[o]=Se.Long.fromValue(r.blocksizes[o])).unsigned=!0:typeof r.blocksizes[o]=="string"?n.blocksizes[o]=parseInt(r.blocksizes[o],10):typeof r.blocksizes[o]=="number"?n.blocksizes[o]=r.blocksizes[o]:typeof r.blocksizes[o]=="object"&&(n.blocksizes[o]=new Se.LongBits(r.blocksizes[o].low>>>0,r.blocksizes[o].high>>>0).toNumber(!0))}if(r.hashType!=null&&(Se.Long?(n.hashType=Se.Long.fromValue(r.hashType)).unsigned=!0:typeof r.hashType=="string"?n.hashType=parseInt(r.hashType,10):typeof r.hashType=="number"?n.hashType=r.hashType:typeof r.hashType=="object"&&(n.hashType=new Se.LongBits(r.hashType.low>>>0,r.hashType.high>>>0).toNumber(!0))),r.fanout!=null&&(Se.Long?(n.fanout=Se.Long.fromValue(r.fanout)).unsigned=!0:typeof r.fanout=="string"?n.fanout=parseInt(r.fanout,10):typeof r.fanout=="number"?n.fanout=r.fanout:typeof r.fanout=="object"&&(n.fanout=new Se.LongBits(r.fanout.low>>>0,r.fanout.high>>>0).toNumber(!0))),r.mode!=null&&(n.mode=r.mode>>>0),r.mtime!=null){if(typeof r.mtime!="object")throw TypeError(".Data.mtime: object expected");n.mtime=Lt.UnixTime.fromObject(r.mtime)}return n},e.toObject=function(r,n){n||(n={});var o={};if((n.arrays||n.defaults)&&(o.blocksizes=[]),n.defaults){if(o.Type=n.enums===String?"Raw":0,n.bytes===String?o.Data="":(o.Data=[],n.bytes!==Array&&(o.Data=Se.newBuffer(o.Data))),Se.Long){var i=new Se.Long(0,0,!0);o.filesize=n.longs===String?i.toString():n.longs===Number?i.toNumber():i}else o.filesize=n.longs===String?"0":0;if(Se.Long){var i=new Se.Long(0,0,!0);o.hashType=n.longs===String?i.toString():n.longs===Number?i.toNumber():i}else o.hashType=n.longs===String?"0":0;if(Se.Long){var i=new Se.Long(0,0,!0);o.fanout=n.longs===String?i.toString():n.longs===Number?i.toNumber():i}else o.fanout=n.longs===String?"0":0;o.mode=0,o.mtime=null}if(r.Type!=null&&r.hasOwnProperty("Type")&&(o.Type=n.enums===String?Lt.Data.DataType[r.Type]:r.Type),r.Data!=null&&r.hasOwnProperty("Data")&&(o.Data=n.bytes===String?Se.base64.encode(r.Data,0,r.Data.length):n.bytes===Array?Array.prototype.slice.call(r.Data):r.Data),r.filesize!=null&&r.hasOwnProperty("filesize")&&(typeof r.filesize=="number"?o.filesize=n.longs===String?String(r.filesize):r.filesize:o.filesize=n.longs===String?Se.Long.prototype.toString.call(r.filesize):n.longs===Number?new Se.LongBits(r.filesize.low>>>0,r.filesize.high>>>0).toNumber(!0):r.filesize),r.blocksizes&&r.blocksizes.length){o.blocksizes=[];for(var a=0;a<r.blocksizes.length;++a)typeof r.blocksizes[a]=="number"?o.blocksizes[a]=n.longs===String?String(r.blocksizes[a]):r.blocksizes[a]:o.blocksizes[a]=n.longs===String?Se.Long.prototype.toString.call(r.blocksizes[a]):n.longs===Number?new Se.LongBits(r.blocksizes[a].low>>>0,r.blocksizes[a].high>>>0).toNumber(!0):r.blocksizes[a]}return r.hashType!=null&&r.hasOwnProperty("hashType")&&(typeof r.hashType=="number"?o.hashType=n.longs===String?String(r.hashType):r.hashType:o.hashType=n.longs===String?Se.Long.prototype.toString.call(r.hashType):n.longs===Number?new Se.LongBits(r.hashType.low>>>0,r.hashType.high>>>0).toNumber(!0):r.hashType),r.fanout!=null&&r.hasOwnProperty("fanout")&&(typeof r.fanout=="number"?o.fanout=n.longs===String?String(r.fanout):r.fanout:o.fanout=n.longs===String?Se.Long.prototype.toString.call(r.fanout):n.longs===Number?new Se.LongBits(r.fanout.low>>>0,r.fanout.high>>>0).toNumber(!0):r.fanout),r.mode!=null&&r.hasOwnProperty("mode")&&(o.mode=r.mode),r.mtime!=null&&r.hasOwnProperty("mtime")&&(o.mtime=Lt.UnixTime.toObject(r.mtime,n)),o},e.prototype.toJSON=function(){return this.constructor.toObject(this,bi.default.util.toJSONOptions)},e.DataType=function(){let t={},r=Object.create(t);return r[t[0]="Raw"]=0,r[t[1]="Directory"]=1,r[t[2]="File"]=2,r[t[3]="Metadata"]=3,r[t[4]="Symlink"]=4,r[t[5]="HAMTShard"]=5,r}(),e})(),hst=Lt.UnixTime=(()=>{function e(t){if(t)for(var r=Object.keys(t),n=0;n<r.length;++n)t[r[n]]!=null&&(this[r[n]]=t[r[n]])}return e.prototype.Seconds=Se.Long?Se.Long.fromBits(0,0,!1):0,e.prototype.FractionalNanoseconds=0,e.encode=function(r,n){return n||(n=cC.create()),n.uint32(8).int64(r.Seconds),r.FractionalNanoseconds!=null&&Object.hasOwnProperty.call(r,"FractionalNanoseconds")&&n.uint32(21).fixed32(r.FractionalNanoseconds),n},e.decode=function(r,n){r instanceof Qu||(r=Qu.create(r));for(var o=n===void 0?r.len:r.pos+n,i=new Lt.UnixTime;r.pos<o;){var a=r.uint32();switch(a>>>3){case 1:i.Seconds=r.int64();break;case 2:i.FractionalNanoseconds=r.fixed32();break;default:r.skipType(a&7);break}}if(!i.hasOwnProperty("Seconds"))throw Se.ProtocolError("missing required 'Seconds'",{instance:i});return i},e.fromObject=function(r){if(r instanceof Lt.UnixTime)return r;var n=new Lt.UnixTime;return r.Seconds!=null&&(Se.Long?(n.Seconds=Se.Long.fromValue(r.Seconds)).unsigned=!1:typeof r.Seconds=="string"?n.Seconds=parseInt(r.Seconds,10):typeof r.Seconds=="number"?n.Seconds=r.Seconds:typeof r.Seconds=="object"&&(n.Seconds=new Se.LongBits(r.Seconds.low>>>0,r.Seconds.high>>>0).toNumber())),r.FractionalNanoseconds!=null&&(n.FractionalNanoseconds=r.FractionalNanoseconds>>>0),n},e.toObject=function(r,n){n||(n={});var o={};if(n.defaults){if(Se.Long){var i=new Se.Long(0,0,!1);o.Seconds=n.longs===String?i.toString():n.longs===Number?i.toNumber():i}else o.Seconds=n.longs===String?"0":0;o.FractionalNanoseconds=0}return r.Seconds!=null&&r.hasOwnProperty("Seconds")&&(typeof r.Seconds=="number"?o.Seconds=n.longs===String?String(r.Seconds):r.Seconds:o.Seconds=n.longs===String?Se.Long.prototype.toString.call(r.Seconds):n.longs===Number?new Se.LongBits(r.Seconds.low>>>0,r.Seconds.high>>>0).toNumber():r.Seconds),r.FractionalNanoseconds!=null&&r.hasOwnProperty("FractionalNanoseconds")&&(o.FractionalNanoseconds=r.FractionalNanoseconds),o},e.prototype.toJSON=function(){return this.constructor.toObject(this,bi.default.util.toJSONOptions)},e})(),mst=Lt.Metadata=(()=>{function e(t){if(t)for(var r=Object.keys(t),n=0;n<r.length;++n)t[r[n]]!=null&&(this[r[n]]=t[r[n]])}return e.prototype.MimeType="",e.encode=function(r,n){return n||(n=cC.create()),r.MimeType!=null&&Object.hasOwnProperty.call(r,"MimeType")&&n.uint32(10).string(r.MimeType),n},e.decode=function(r,n){r instanceof Qu||(r=Qu.create(r));for(var o=n===void 0?r.len:r.pos+n,i=new Lt.Metadata;r.pos<o;){var a=r.uint32();switch(a>>>3){case 1:i.MimeType=r.string();break;default:r.skipType(a&7);break}}return i},e.fromObject=function(r){if(r instanceof Lt.Metadata)return r;var n=new Lt.Metadata;return r.MimeType!=null&&(n.MimeType=String(r.MimeType)),n},e.toObject=function(r,n){n||(n={});var o={};return n.defaults&&(o.MimeType=""),r.MimeType!=null&&r.hasOwnProperty("MimeType")&&(o.MimeType=r.MimeType),o},e.prototype.toJSON=function(){return this.constructor.toObject(this,bi.default.util.toJSONOptions)},e})()});var Fe,V0=b(()=>{uC();Fe=Yu.DataType});var el={};ne(el,{DEFAULT_DIRECTORY_MODE:()=>dee,DEFAULT_FILE_MODE:()=>pee,NodeType:()=>Fe,code:()=>Xu,createAdvancedFile:()=>GAe,createComplexFile:()=>zAe,createDirectoryShard:()=>dC,createEmptyFile:()=>WAe,createFileChunk:()=>MAe,createFileShard:()=>$Ae,createFlatDirectory:()=>X0,createRaw:()=>fee,createShardedDirectory:()=>mee,createSimpleFile:()=>hee,createSymlink:()=>yee,cumulativeContentByteLength:()=>Ro,cumulativeDagByteLength:()=>xa,decode:()=>_ee,decodeMetadata:()=>Ks,encode:()=>wee,encodeAdvancedFile:()=>mC,encodeComplexFile:()=>gC,encodeDirectory:()=>r1,encodeDirectoryMetadata:()=>wC,encodeFile:()=>gee,encodeFileChunk:()=>hC,encodeFileShard:()=>HAe,encodeHAMTShard:()=>n1,encodeLink:()=>e1,encodeMetadata:()=>of,encodeMode:()=>Eee,encodeRaw:()=>fC,encodeSimpleFile:()=>t1,encodeSymlink:()=>bee,filesize:()=>ZAe,matchFile:()=>VAe,name:()=>pC});var lee,lC,Zr,pee,dee,Xu,pC,Ea,fee,WAe,hee,MAe,GAe,$Ae,zAe,X0,mee,dC,fC,gee,hC,HAe,mC,e1,t1,gC,r1,n1,yC,bC,yee,bee,wee,_ee,KAe,cee,uee,Ro,xa,nf,See,wC,of,Ks,JAe,Eee,xee,VAe,Z0,Q0,Y0,ZAe,tl=b(()=>{V4();V0();V0();uC();V0();lee=Object.freeze([]),lC=new Uint8Array(0),Zr=Object.freeze({}),pee=parseInt("0644",8),dee=parseInt("0755",8),Xu=H0,pC="UnixFS",Ea=(e,t)=>(Object(globalThis).debug&&console.log({data:e,links:t}),IX(J4({Data:Yu.encode(e).finish(),Links:t}))),fee=e=>({type:Fe.Raw,content:e}),WAe=e=>hee(lC,e),hee=(e,t)=>({type:Fe.File,layout:"simple",content:e,metadata:Ks(t)}),MAe=e=>({type:Fe.File,layout:"simple",content:e}),GAe=(e,t)=>({type:Fe.File,layout:"advanced",parts:e,metadata:Ks(t)}),$Ae=e=>({type:Fe.File,layout:"advanced",parts:e}),zAe=(e,t,r)=>({type:Fe.File,layout:"complex",content:e,parts:t,metadata:Ks(r)}),X0=(e,t)=>({type:Fe.Directory,metadata:Ks(t),entries:e}),mee=(e,t,r,n,o=Zr)=>({type:Fe.HAMTShard,bitfield:t,fanout:yC(r),hashType:bC(n),entries:e,metadata:Ks(o)}),dC=(e,t,r,n)=>({type:Fe.HAMTShard,bitfield:t,fanout:yC(r),hashType:bC(n),entries:e}),fC=e=>Ea({Type:Fe.Raw,Data:e.byteLength>0?e:void 0,filesize:e.byteLength,blocksizes:lee},[]),gee=(e,t=!1)=>{let r=t?Zr:Object(e).metadata;switch(e.layout){case"simple":return t1(e.content,r);case"advanced":return mC(e.parts,r);case"complex":return gC(e.content,e.parts,r);default:throw new TypeError(`File with unknown layout "${Object(e).layout}" was passed`)}},hC=e=>t1(e,Zr),HAe=e=>Ea({Type:Fe.File,blocksizes:e.map(nf),filesize:Ro(e)},e.map(e1)),mC=(e,t=Zr)=>Ea({Type:Fe.File,blocksizes:e.map(nf),filesize:Ro(e),...of(t)},e.map(e1)),e1=e=>({Name:"",Tsize:e.dagByteLength,Hash:e.cid}),t1=(e,t=Zr)=>Ea({Type:Fe.File,Data:e.byteLength>0?e:void 0,filesize:e.byteLength,blocksizes:[],...of(t)},[]),gC=(e,t,r=Zr)=>Ea({Type:Fe.File,Data:e,filesize:e.byteLength+Ro(t),blocksizes:t.map(nf)},t.map(e1)),r1=e=>Ea({Type:e.type,...wC(e.metadata||Zr)},e.entries.map(See)),n1=({bitfield:e,fanout:t,hashType:r,entries:n,metadata:o=Zr})=>Ea({Type:Fe.HAMTShard,Data:e.byteLength>0?e:void 0,fanout:yC(t),hashType:bC(r),...wC(o)},n.map(See)),yC=e=>{if(Math.log2(e)%1===0)return e;throw new TypeError(`Expected hamt size to be a power of two instead got ${e}`)},bC=e=>{if(Number.isInteger(e))return e;throw new TypeError(`Expected an integer value instead got ${e}`)},yee=(e,t=Zr)=>({type:Fe.Symlink,content:e,metadata:Ks(t)}),bee=(e,t=!1)=>{let r=t?Zr:Object(e).metadata;return Ea({Type:Fe.Symlink,Data:e.content,...of(r||Zr)},[])},wee=(e,t=!0)=>{switch(e.type){case Fe.Raw:return fC(e.content);case Fe.File:return gee(e);case Fe.Directory:return r1(e);case Fe.HAMTShard:return n1(e);case Fe.Symlink:return bee(e);default:throw new Error(`Unknown node type ${Object(e).type}`)}},_ee=e=>{let t=kX(e),r=Yu.decode(t.Data),{Type:n,Data:o,mtime:i,mode:a,blocksizes:s,...u}=Yu.toObject(r,{defaults:!1,arrays:!0,longs:Number,objects:!1}),c={...a&&{mode:a},...KAe(i)},l=t.Links;switch(r.Type){case Fe.Raw:return fee(o);case Fe.File:return l.length===0?new Z0(o,c):o.byteLength===0?new Q0(cee(u.blocksizes,l),c):new Y0(o,cee(u.blocksizes,l),c);case Fe.Directory:return X0(uee(l),c);case Fe.HAMTShard:return mee(uee(l),o||lC,u.fanout,u.hashType,c);case Fe.Symlink:return yee(o,c);default:throw new TypeError(`Unsupported node type ${r.Type}`)}},KAe=e=>e==null?void 0:{mtime:{secs:e.Seconds,nsecs:e.FractionalNanoseconds||0}},cee=(e,t)=>{let r=[],n=e.length,o=0;for(;o<n;)r.push({cid:t[o].Hash,dagByteLength:t[o].Tsize||0,contentByteLength:e[o]});return r},uee=e=>e.map(t=>({cid:t.Hash,name:t.Name||"",dagByteLength:t.Tsize||0})),Ro=e=>e.reduce((t,r)=>t+r.contentByteLength,0),xa=(e,t)=>t.reduce((r,n)=>r+n.dagByteLength,e.byteLength),nf=e=>e.contentByteLength,See=({name:e,dagByteLength:t,cid:r})=>({Name:e,Tsize:t,Hash:r}),wC=e=>of(e,dee),of=({mode:e,mtime:t},r=pee)=>({mode:e!=null?Eee(e,r):void 0,mtime:t!=null?JAe(t):void 0}),Ks=e=>e==null?Zr:{...e.mode==null?void 0:{mode:xee(e.mode)},...e.mtime==null?void 0:{mtime:e.mtime}},JAe=e=>e==null?void 0:e.nsecs!==0?{Seconds:e.secs,FractionalNanoseconds:e.nsecs}:{Seconds:e.secs},Eee=(e,t)=>{let r=e==null?void 0:xee(e);return r===t||r==null?void 0:r},xee=e=>e&4095|e&4294963200,VAe=({content:e=lC,parts:t=lee,metadata:r=Zr,...n})=>t.length===0?new Z0(e,r):e.byteLength===0?new Q0(t,r):new Y0(e,t,r),Z0=class{constructor(t,r){this.content=t,this.metadata=r,this.layout="simple",this.type=Fe.File}get filesize(){return this.content.byteLength}encode(){return t1(this.content,this.metadata)}},Q0=class{constructor(t,r){this.parts=t,this.metadata=r}get layout(){return"advanced"}get type(){return Fe.File}get fileSize(){return Ro(this.parts)}get blockSizes(){return this.parts.map(nf)}encode(){return mC(this.parts,this.metadata)}},Y0=class{constructor(t,r,n){this.content=t,this.parts=r,this.metadata=n}get layout(){return"complex"}get type(){return Fe.File}get fileSize(){return this.content.byteLength+Ro(this.parts)}get blockSizes(){return this.parts.map(nf)}encode(){return gC(this.content,this.parts,this.metadata)}},ZAe=e=>{switch(e.type){case Fe.Raw:case Fe.Symlink:return e.content.byteLength;case Fe.File:switch(e.layout){case"simple":return e.content.byteLength;case"advanced":return Ro(e.parts);case"complex":return e.content.byteLength+Ro(e.parts)}default:return 0}}});var _C=b(()=>{o1()});function*PC(){return yield u1}function*YAe(e){va(e)}function*eIe(e){let t=[];for(let r of e)t.push(yield*il(r));yield*AC(t)}function*Pee(e,t){try{let r=e,n=t.ok?r.return(t.value):r.throw(t.error);if(!n.done)if(n.value===l1){let{idle:o}=wi.of(r).stack;o.add(r)}else va(r)}catch{}}function*AC(e){if(e.length===0)return;let t=yield*PC(),r=new wi(t),n=null;for(let o of e){let{result:i}=o;if(i){!i.ok&&!n&&(n=i);continue}aIe(o,r)}try{if(n)throw n.error;for(;yield*DC(r),ol.size(r.stack)>0;)yield*nl()}catch(o){for(let i of r.stack.active)yield*EC(i,o);for(let i of r.stack.idle)yield*EC(i,o),va(i);throw o}}function*IC(e){e.status===sf&&(yield*e),e.result||(yield*AC([e]));let t=e.result;if(t.ok)return t.value;throw t.error}var QAe,nl,i1,XAe,a1,s1,c1,tIe,af,uf,rIe,u1,l1,wi,SC,ol,nIe,va,oIe,DC,il,iIe,EC,aIe,xC,vC,Dee,Aee,sf,Iee,vee,kee,sIe,cf,rl,o1=b(()=>{_C();_C();QAe=function*(e){let t=yield*e;yield*a1(t)};nl=function*(){yield l1},i1=function*(e){let t=yield*PC();if(XAe(e)){let r=!1,n;if(e.then(o=>{r=!1,n=o,va(t)},o=>{r=!0,n=o,va(t)}),yield*nl(),r)throw n;return n}else return nIe(YAe(t)),yield*nl(),e};XAe=e=>e!=null&&typeof e.then=="function",a1=function*(e){yield e},s1=function*(e){let t=[];for(let r of Object.entries(e)){let[n,o]=r;o!==cf&&t.push(yield*il(tIe(o,n)))}yield*AC(t)},c1=e=>e.length>0?eIe(e.map(QAe)):cf;tIe=(e,t)=>e===cf?cf:e instanceof af?new af([...e.tags,t],e.source):new af([t],e),af=class{constructor(t,r){this.tags=t,this.source=r,this.controller}[Symbol.iterator](){return this.controller||(this.controller=this.source[Symbol.iterator]()),this}box(t){if(t.done)return t;switch(t.value){case l1:case u1:return t;default:{let r=t,{value:n}=r;for(let o of this.tags)n=rIe(o,n);return r.value=n,r}}}next(t){return this.box(this.controller.next(t))}throw(t){return this.box(this.controller.throw(t))}return(t){return this.box(this.controller.return(t))}get[Symbol.toStringTag](){return"TaggedEffect"}},uf=()=>cf,rIe=(e,t)=>({type:e,[e]:t}),u1=Symbol("current"),l1=Symbol("suspend"),wi=class e{static of(t){return t.group||rl}static enqueue(t,r){t.group=r,r.stack.active.push(t)}constructor(t,r=[],n=new Set,o=new ol(r,n)){this.driver=t,this.parent=e.of(t),this.stack=o,this.id=++Aee}},SC=class{constructor(){this.status=sf,this.stack=new ol,this.id=0}},ol=class{constructor(t=[],r=new Set){this.active=t,this.idle=r}static size({active:t,idle:r}){return t.length+r.size}},nIe=e=>va(e[Symbol.iterator]()),va=e=>{let t=wi.of(e);for(t.stack.active.push(e),t.stack.idle.delete(e);t.parent;){let{idle:r,active:n}=t.parent.stack;if(r.has(t.driver))r.delete(t.driver),n.push(t.driver);else break;t=t.parent}if(rl.status===sf)for(rl.status=Iee;;)try{for(let r of DC(rl));rl.status=sf;break}catch{rl.stack.active.shift()}},oIe=e=>va(e),DC=function*(e){let{active:t}=e.stack,r=t[0];for(e.stack.idle.delete(r);r;){let n=kee;e:for(;!n.done&&r===t[0];){let o=n.value;switch(o){case l1:e.stack.idle.add(r);break e;case u1:n=r.next(r);break;default:n=r.next(yield o);break}}t.shift(),r=t[0],e.stack.idle.delete(r)}},il=(e,t)=>new vC(e,t),iIe=(e,t)=>Pee(e,{ok:!0,value:t}),EC=(e,t)=>Pee(e,{ok:!1,error:t});aIe=(e,t)=>{let r=wi.of(e);if(r!==t){let{active:n,idle:o}=r.stack,i=t.stack;if(e.group=t,o.has(e))o.delete(e),i.idle.add(e);else{let a=n.indexOf(e);a>=0&&(n.splice(a,1),i.active.push(e))}}};xC=class{constructor(t){this.handler=t,this.result}get promise(){let{result:t}=this,r=t==null?new Promise((n,o)=>{this.handler.onsuccess=n,this.handler.onfailure=o}):t.ok?Promise.resolve(t.value):Promise.reject(t.error);return Object.defineProperty(this,"promise",{value:r}),r}then(t,r){return this.activate().promise.then(t,r)}catch(t){return this.activate().promise.catch(t)}finally(t){return this.activate().promise.finally(t)}activate(){return this}},vC=class extends xC{constructor(t,r=sIe,n={},o=kee){super(n),this.id=++Aee,this.name=r.name||"",this.task=t,this.state=o,this.status=sf,this.result,this.handler=n,this.controller}*resume(){oIe(this)}join(){return IC(this)}abort(t){return EC(this,t)}exit(t){return iIe(this,t)}get[Symbol.toStringTag](){return"Fork"}*[Symbol.iterator](){return this.activate()}activate(){return this.controller=this.task[Symbol.iterator](),this.status=Iee,va(this),this}panic(t){this.result={ok:!1,error:t},this.status=vee;let{handler:r}=this;throw r.onfailure&&r.onfailure(t),t}step(t){if(this.state=t,t.done){this.result={ok:!0,value:t.value},this.status=vee;let{handler:r}=this;r.onsuccess&&r.onsuccess(t.value)}return t}next(t){try{return this.step(this.controller.next(t))}catch(r){return this.panic(r)}}return(t){try{return this.step(this.controller.return(t))}catch(r){return this.panic(r)}}throw(t){try{return this.step(this.controller.throw(t))}catch(r){return this.panic(r)}}},Dee=function*(e,t){let r=yield*PC(),n=new wi(r);for(wi.enqueue(e[Symbol.iterator](),n);;){for(let o of DC(n))wi.enqueue(t(o)[Symbol.iterator](),n);if(ol.size(n.stack)>0)yield*nl();else break}},Aee=0,sf="idle",Iee="active",vee="finished",kee={done:!1,value:u1},sIe={},cf=function*(){}(),rl=new SC});function kC(){}var Tee=b(()=>{Object.defineProperties(kC,{prototype:{value:new Proxy(Object.prototype,{get(e,t,r){return typeof t=="symbol"?Reflect.get(e,t,r):r.get(t)}})}})});function*pIe(e){for(let t of e.segments)yield*t}var CC,Fee,cIe,uIe,lIe,lf,Oee=b(()=>{Tee();CC=()=>new lf,Fee=(e,t=0,r=e.byteLength)=>{let n=[],o=t<0?e.byteLength-t:t,i=r<0?e.byteLength-r:r;if(o===0&&i>=e.byteLength)return e;if(o>i||o>e.byteLength||i<=0)return CC();let a=0,s=0;for(let u of e.segments){let c=s+u.byteLength;if(a===0){if(i<=c){let l=u.subarray(o-s,i-s);n.push(l),a=l.byteLength;break}else if(o<c){let l=o===s?u:u.subarray(o-s);n.push(l),a=l.byteLength}}else if(i<=c){let l=i===c?u:u.subarray(0,i-s);n.push(l),a+=l.byteLength;break}else n.push(u),a+=u.byteLength;s=c}return new lf(n,e.byteOffset+o,a)},cIe=(e,t)=>t.byteLength>0?(e.segments.push(t),new lf(e.segments,e.byteOffset,e.byteLength+t.byteLength)):e,uIe=(e,t)=>{if(t<e.byteLength){let r=0;for(let n of e.segments){if(t<r+n.byteLength)return n[t-r];r+=n.byteLength}}},lIe=(e,t,r)=>{let n=r;for(let o of e.segments)t.set(o,n),n+=o.byteLength;return t};lf=class extends kC{constructor(t=[],r=0,n=0){super(),this.segments=t,this.byteLength=n,this.length=n,this.byteOffset=r}[Symbol.iterator](){return pIe(this)}slice(t,r){return Fee(this,t,r)}subarray(t,r){return Fee(this,t,r)}push(t){return cIe(this,t)}get(t){return uIe(this,t)}copyTo(t,r){return lIe(this,t,r)}}});var Ree=b(()=>{});var pf,Bee,Nee,Uee,p1=b(()=>{pf=e=>{throw new Error(e)},Bee=(e,t,...r)=>pf(String.raw(e,JSON.stringify(t),...r)),Nee=new Uint8Array(0),Uee=[]});var qee,jee,Lee,Wee,Mee=b(()=>{Oee();p1();Ree();qee=e=>({config:e,buffer:CC()}),jee=(e,t)=>t.byteLength>0?Wee(e.config,e.buffer.push(t),!1):{...e,chunks:Uee},Lee=e=>Wee(e.config,e.buffer,!0),Wee=(e,t,r)=>{let n=e.chunker,o=[],i=0;for(let a of n.cut(n.context,t,r))if(a>0){let s=t.subarray(i,i+a);o.push(s),i+=a}return{config:e,chunks:o,buffer:t.subarray(i)}}});var Gee=b(()=>{});var $ee,RC,zee,al,FC,TC,hIe,Hee,OC,mIe,Kee=b(()=>{Gee();$ee=()=>({mutable:!0,needs:{},nodes:{},links:{},linked:OC}),RC=(e,t)=>{let r=al(t,{});for(let n of e){let{ready:o,has:i,wants:a}=Hee(n.children,r.links);a.length===0?r=al(r,{links:FC(void 0,i),linked:[{id:n.id,links:o}]}):r=al(r,{needs:FC(n.id,a),nodes:{[n.id]:{children:n.children,count:a.length}}})}return r},zee=(e,t,r)=>{let n=r.needs[e],o=r.nodes[n];if(o!=null)if(o.count===1){let{ready:i,has:a}=Hee(o.children,{...r.links,[e]:t});return al(r,{needs:{[e]:void 0},links:FC(void 0,a),nodes:{[n]:void 0},linked:[{id:n,links:i}]})}else return al(r,{needs:{[e]:void 0},links:{[e]:t},nodes:{[n]:{...o,count:o.count-1}}});else return al(r,{links:{[e]:t}})},al=(e,{needs:t,nodes:r,links:n,linked:o})=>{let i=e.mutable?e:{...e},a=e.mutable?mIe:void 0;return t&&(i.needs=TC(e.needs,t,a)),r&&(i.nodes=TC(e.nodes,r,a)),n&&(i.links=TC(e.links,n,a)),i.linked=o?hIe(e.linked||OC,o,OC):e.linked||[],i},FC=(e,t)=>{let r={};for(let n of t)r[n]=e;return r},TC=(e,t,r=e)=>{let n=e===r?{...e}:e;for(let o of Object.entries(t)){let[i,a]=o;a==null?delete n[i]:n[i]=a}return n},hIe=(e,t,r=e)=>{if(e===r)return[...e,...t];for(let n of t)e.push(n);return e},Hee=(e,t)=>{let r=[],n=[],o=[];for(let i of e){let a=t[i];a?(r.push(i),o.push(a)):n.push(i)}return{has:r,wants:n,ready:o}},OC=Object.freeze([]),mIe=Object.freeze({})});var Jee,Vee,yIe,bIe,wIe,Zee,_Ie,BC,SIe,EIe,xIe,vIe,Qee=b(()=>{o1();tl();Mee();p1();Kee();Jee=(e,t)=>{switch(e.type){case"write":return yIe(t,e.bytes);case"link":return bIe(t,e.link);case"block":return{state:t,effect:uf()};case"close":return wIe(t);case"end":return{state:t,effect:uf()};default:return Bee`File Writer got unknown message ${e}`}},Vee=(e,t,r)=>({status:"open",metadata:t,config:r,writer:e,chunker:qee({chunker:r.chunker}),layout:r.fileLayout.open(),nodeQueue:$ee()}),yIe=(e,t)=>{if(e.status==="open"){let{chunks:r,...n}=jee(e.chunker,t),{nodes:o,leaves:i,layout:a}=e.config.fileLayout.write(e.layout,r),{linked:s,...u}=RC(o,e.nodeQueue),c=[...Zee(i,e.config),...BC(s,e.config)];return{state:{...e,chunker:n,layout:a,nodeQueue:u},effect:s1({link:c1(c)})}}else return pf("Unable to perform write on closed file")},bIe=(e,{id:t,link:r,block:n})=>{let{linked:o,...i}=zee(t,r,e.nodeQueue),a=BC(o,e.config),s=e.status==="closed"&&t===e.rootID?{...e,status:"linked",link:r,nodeQueue:i}:{...e,nodeQueue:i},u=e.status==="closed"&&t===e.rootID&&e.end?e.end.resume():uf();return{state:s,effect:s1({link:c1(a),block:EIe(e.writer,n),end:u})}},wIe=e=>{if(e.status==="open"){let{chunks:t}=Lee(e.chunker),{layout:r,...n}=e.config.fileLayout.write(e.layout,t),{root:o,...i}=e.config.fileLayout.close(r,e.metadata),[a,s]=vIe(o)?[[...n.nodes,...i.nodes],[...n.leaves,...i.leaves,o]]:[[...n.nodes,...i.nodes,o],[...n.leaves,...i.leaves]],{linked:u,...c}=RC(a,e.nodeQueue),l=[...Zee(s,e.config),...BC(u,e.config)],d=il(nl());return{state:{...e,chunker:null,layout:null,rootID:o.id,status:"closed",end:d,nodeQueue:c},effect:s1({link:c1(l),end:IC(d)})}}else return{state:e,effect:uf()}},Zee=(e,t)=>e.map(r=>_Ie(t,r,t.fileChunkEncoder)),_Ie=function*({hasher:e,linker:t},{id:r,content:n},o){let i=o.encode(n?xIe(n):Nee),a=yield*i1(e.digest(i)),s=t.createLink(o.code,a),u={cid:s,bytes:i},c={cid:s,contentByteLength:n?n.byteLength:0,dagByteLength:i.byteLength};return{id:r,block:u,link:c}},BC=(e,t)=>e.map(r=>SIe(t,r)),SIe=function*(e,{id:t,links:r},n){let o=e.fileEncoder.encode({type:Fe.File,layout:"advanced",parts:r,metadata:n}),i=yield*i1(Promise.resolve(e.hasher.digest(o))),a=e.linker.createLink(e.fileEncoder.code,i),s={bytes:o,cid:a},u={cid:a,contentByteLength:Ro(r),dagByteLength:xa(o,r)};return{id:t,block:s,link:u}},EIe=function*(e,t){(e.desiredSize||0)<=0&&(yield*i1(e.ready)),e.write(t)},xIe=e=>e instanceof Uint8Array?e:e.copyTo(new Uint8Array(e.byteLength),0),vIe=e=>e.children==null});var UC={};ne(UC,{context:()=>DIe,cut:()=>Xee,name:()=>Yee,type:()=>AIe,withMaxChunkSize:()=>NC});var Yee,DIe,AIe,NC,Xee,qC=b(()=>{Yee="fixed",DIe={maxChunkSize:262144},AIe="Stateless",NC=e=>({type:"Stateless",context:{maxChunkSize:e},name:Yee,cut:Xee}),Xee=({maxChunkSize:e},{byteLength:t},r)=>{let n=t/e|0,o=new Array(n).fill(e),i=r?t-n*e:0;return i>0&&o.push(i),o}});var df,d1,IIe,kIe,CIe,tte,TIe,ete,Sr,jC=b(()=>{df=class{constructor(t,r,n){this.id=t,this.children=r,this.metadata=n}},d1=e=>({open:()=>kIe({width:e}),write:CIe,close:TIe}),IIe={width:174},kIe=({width:e}=IIe)=>({width:e,head:null,leafIndex:[],nodeIndex:[],lastID:0}),CIe=(e,t)=>{if(t.length===0)return{layout:e,nodes:Sr,leaves:Sr};{let{lastID:r}=e,[n,o]=e.head?[null,(t.unshift(e.head),t)]:t.length===1&&e.leafIndex.length===0?[t[0],Sr]:[null,t];if(o.length===0)return{layout:{...e,head:n},nodes:Sr,leaves:Sr};{let i=[...e.leafIndex],a=[];for(let s of o){let u={id:++r,content:s};a.push(u),i.push(u.id)}return i.length>e.width?tte({...e,leafIndex:i,head:n,lastID:r},a):{layout:{...e,head:n,leafIndex:i,lastID:r},leaves:a,nodes:Sr}}}},tte=(e,t=Sr,r=[],n=!1)=>{let{lastID:o}=e,i=e.nodeIndex.map(c=>[...c]),a=[...e.leafIndex],{width:s}=e;for(;a.length>s||a.length>0&&n;){ete(i,1);let c=new df(++o,a.splice(0,s));i[0].push(c.id),r.push(c)}let u=0;for(;u<i.length;){let c=i[u];for(u++;c.length>s||c.length>0&&n&&u<i.length;){let l=new df(++o,c.splice(0,s));ete(i,u+1),i[u].push(l.id),r.push(l)}}return{layout:{...e,lastID:o,leafIndex:a,nodeIndex:i},leaves:t,nodes:r}},TIe=(e,t)=>{let r=e;if(e.head)return{root:{id:1,content:e.head,metadata:t},leaves:Sr,nodes:Sr};if(e.leafIndex.length===0)return{root:{id:1,metadata:t},leaves:Sr,nodes:Sr};{let{nodes:n,layout:o}=tte(r,Sr,[],!0),{nodeIndex:i}=o,a=i.length-1,s=i[a];if(s.length===1){let u=n[n.length-1];return n.length=n.length-1,{root:u,nodes:n,leaves:Sr}}else return{root:new df(o.lastID+1,s,t),nodes:n,leaves:Sr}}},ete=(e,t)=>{for(;e.length<t;)e.push([]);return e},Sr=[]});var _i,Pa,LC,ff,rte,nte,ote,WC,hf=b(()=>{tl();Qee();o1();p1();qC();na();o_();jC();mX();_i=()=>({chunker:UC,fileChunkEncoder:LC,smallFileEncoder:LC,fileEncoder:el,fileLayout:d1(174),hasher:ur,linker:{createLink:Vt.createV1}}),Pa=e=>({..._i(),...e}),LC={code:Xu,name:pC,encode:hC},ff=({writer:e,metadata:t={},settings:r=_i()})=>new WC(Vee(e,t,Pa(r))),rte=async(e,t)=>(await ote(e,a1({type:"write",bytes:t})),e),nte=async(e,{releaseLock:t=!1,closeWriter:r=!1}={})=>{await ote(e,a1({type:"close"}));let{state:n}=e;if(n.status==="linked")return r?await e.state.writer.close():t&&e.state.writer.releaseLock(),n.link;pf(`Expected writer to be in 'linked' state after close, but it is in "${n.status}" instead`)},ote=(e,t)=>il(Dee(t,r=>{let{state:n,effect:o}=Jee(r,e.state);return e.state=n,o})),WC=class{constructor(t){this.state=t}get writer(){return this.state.writer}get settings(){return this.state.config}write(t){return rte(this,t)}close(t){return nte(this,t)}}});var GC=b(()=>{});var OIe,mf,gf,yf,$C,ite,ate,ste,f1,bf=b(()=>{hf();tl();GC();OIe=_i,mf=({writer:e,settings:t=OIe(),metadata:r={}})=>new f1({writer:e,metadata:r,settings:t,entries:new Map,closed:!1}),gf=(e,t,r,{overwrite:n=!1}={})=>{let o=$C(e.state);if(t.includes("/"))throw new Error(`Directory entry name "${t}" contains forbidden "/" character`);if(!n&&o.entries.has(t))throw new Error(`Directory already contains entry with name "${t}"`);return o.entries.set(t,r),e},yf=(e,t)=>($C(e.state).entries.delete(t),e),$C=e=>{if(e.closed)throw new Error("Can not change written directory, but you can .fork() and make changes to it");return e},ite=async(e,{closeWriter:t=!1,releaseLock:r=!1}={})=>{let{writer:n,settings:o,metadata:i}=$C(e.state);e.state.closed=!0;let a=[...ate(e)],s=X0(a,i),u=r1(s),c=await o.hasher.digest(u),l=o.linker.createLink(Xu,c);return(n.desiredSize||0)<=0&&await n.ready,n.write({cid:l,bytes:u}),t?await n.close():r&&n.releaseLock(),{cid:l,dagByteLength:xa(u,a)}},ate=function*({state:e}){for(let[t,{dagByteLength:r,cid:n}]of e.entries)yield{name:t,dagByteLength:r,cid:n}},ste=({state:e},{writer:t=e.writer,metadata:r=e.metadata,settings:n=e.settings}={})=>new f1({writer:t,metadata:r,settings:n,entries:new Map(e.entries.entries()),closed:!1}),f1=class{constructor(t){this.state=t}get writer(){return this.state.writer}get settings(){return this.state.settings}links(){return ate(this)}set(t,r,n){return gf(this,t,r,n)}remove(t){return yf(this,t)}fork(t){return ste(this,t)}close(t){return ite(this,t)}entries(){return this.state.entries.entries()}has(t){return this.state.entries.has(t)}get size(){return this.state.entries.size}}});var sl=b(()=>{});var h1={};var zC=b(()=>{});var g1={};ne(g1,{API:()=>h1,and:()=>WIe,bitCount:()=>m1,empty:()=>cte,from:()=>BIe,fromBytes:()=>$Ie,get:()=>LIe,or:()=>MIe,popcount:()=>HC,set:()=>ute,size:()=>NIe,toBytes:()=>GIe,unset:()=>jIe});var cte,BIe,NIe,UIe,qIe,HC,ute,jIe,LIe,m1,WIe,MIe,GIe,$Ie,y1=b(()=>{zC();cte=(e=32)=>{if(e!==32)throw new Error(`Uint32 BitField does not support size: ${e}`);return 0},BIe=(e,t)=>{let r=cte(t);for(let n of e)r=ute(r,n);return r},NIe=e=>32,UIe=(e,t)=>e>>>t&31,qIe=(e,t)=>1<<UIe(e,t),HC=(e,t=31)=>m1(e&qIe(t,0)-1),ute=(e,t)=>e|1<<t,jIe=(e,t)=>e&(255^1<<t),LIe=(e,t)=>(e>>t&1)!==0,m1=e=>{let t=e-(e>>1&1431655765),r=(t&858993459)+(t>>2&858993459);return(r+(r>>4)&252645135)*16843009>>24},WIe=(e,t)=>e&t,MIe=(e,t)=>e|t,GIe=e=>Uint8Array.of(e>>24&255,e>>16&255,e>>8&255,e&255),$Ie=e=>{if(e.length!==4)throw new Error(`Expected 4 bytes instead got ${e.length}`);return(e[0]<<24)+(e[1]<<16)+(e[2]<<8)+e[3]}});var b1=b(()=>{});var lte=E((wf,w1)=>{(function(e,t){"use strict";var r={version:"3.0.0",x86:{},x64:{},inputValidation:!0};function n(m){if(!Array.isArray(m)&&!ArrayBuffer.isView(m))return!1;for(var p=0;p<m.length;p++)if(!Number.isInteger(m[p])||m[p]<0||m[p]>255)return!1;return!0}function o(m,p){return(m&65535)*p+(((m>>>16)*p&65535)<<16)}function i(m,p){return m<<p|m>>>32-p}function a(m){return m^=m>>>16,m=o(m,2246822507),m^=m>>>13,m=o(m,3266489909),m^=m>>>16,m}function s(m,p){m=[m[0]>>>16,m[0]&65535,m[1]>>>16,m[1]&65535],p=[p[0]>>>16,p[0]&65535,p[1]>>>16,p[1]&65535];var f=[0,0,0,0];return f[3]+=m[3]+p[3],f[2]+=f[3]>>>16,f[3]&=65535,f[2]+=m[2]+p[2],f[1]+=f[2]>>>16,f[2]&=65535,f[1]+=m[1]+p[1],f[0]+=f[1]>>>16,f[1]&=65535,f[0]+=m[0]+p[0],f[0]&=65535,[f[0]<<16|f[1],f[2]<<16|f[3]]}function u(m,p){m=[m[0]>>>16,m[0]&65535,m[1]>>>16,m[1]&65535],p=[p[0]>>>16,p[0]&65535,p[1]>>>16,p[1]&65535];var f=[0,0,0,0];return f[3]+=m[3]*p[3],f[2]+=f[3]>>>16,f[3]&=65535,f[2]+=m[2]*p[3],f[1]+=f[2]>>>16,f[2]&=65535,f[2]+=m[3]*p[2],f[1]+=f[2]>>>16,f[2]&=65535,f[1]+=m[1]*p[3],f[0]+=f[1]>>>16,f[1]&=65535,f[1]+=m[2]*p[2],f[0]+=f[1]>>>16,f[1]&=65535,f[1]+=m[3]*p[1],f[0]+=f[1]>>>16,f[1]&=65535,f[0]+=m[0]*p[3]+m[1]*p[2]+m[2]*p[1]+m[3]*p[0],f[0]&=65535,[f[0]<<16|f[1],f[2]<<16|f[3]]}function c(m,p){return p%=64,p===32?[m[1],m[0]]:p<32?[m[0]<<p|m[1]>>>32-p,m[1]<<p|m[0]>>>32-p]:(p-=32,[m[1]<<p|m[0]>>>32-p,m[0]<<p|m[1]>>>32-p])}function l(m,p){return p%=64,p===0?m:p<32?[m[0]<<p|m[1]>>>32-p,m[1]<<p]:[m[1]<<p-32,0]}function d(m,p){return[m[0]^p[0],m[1]^p[1]]}function w(m){return m=d(m,[0,m[0]>>>1]),m=u(m,[4283543511,3981806797]),m=d(m,[0,m[0]>>>1]),m=u(m,[3301882366,444984403]),m=d(m,[0,m[0]>>>1]),m}r.x86.hash32=function(m,p){if(r.inputValidation&&!n(m))return t;p=p||0;for(var f=m.length%4,g=m.length-f,h=p,y=0,_=3432918353,S=461845907,x=0;x<g;x=x+4)y=m[x]|m[x+1]<<8|m[x+2]<<16|m[x+3]<<24,y=o(y,_),y=i(y,15),y=o(y,S),h^=y,h=i(h,13),h=o(h,5)+3864292196;switch(y=0,f){case 3:y^=m[x+2]<<16;case 2:y^=m[x+1]<<8;case 1:y^=m[x],y=o(y,_),y=i(y,15),y=o(y,S),h^=y}return h^=m.length,h=a(h),h>>>0},r.x86.hash128=function(m,p){if(r.inputValidation&&!n(m))return t;p=p||0;for(var f=m.length%16,g=m.length-f,h=p,y=p,_=p,S=p,x=0,A=0,D=0,P=0,U=597399067,B=2869860233,O=951274213,k=2716044179,R=0;R<g;R=R+16)x=m[R]|m[R+1]<<8|m[R+2]<<16|m[R+3]<<24,A=m[R+4]|m[R+5]<<8|m[R+6]<<16|m[R+7]<<24,D=m[R+8]|m[R+9]<<8|m[R+10]<<16|m[R+11]<<24,P=m[R+12]|m[R+13]<<8|m[R+14]<<16|m[R+15]<<24,x=o(x,U),x=i(x,15),x=o(x,B),h^=x,h=i(h,19),h+=y,h=o(h,5)+1444728091,A=o(A,B),A=i(A,16),A=o(A,O),y^=A,y=i(y,17),y+=_,y=o(y,5)+197830471,D=o(D,O),D=i(D,17),D=o(D,k),_^=D,_=i(_,15),_+=S,_=o(_,5)+2530024501,P=o(P,k),P=i(P,18),P=o(P,U),S^=P,S=i(S,13),S+=h,S=o(S,5)+850148119;switch(x=0,A=0,D=0,P=0,f){case 15:P^=m[R+14]<<16;case 14:P^=m[R+13]<<8;case 13:P^=m[R+12],P=o(P,k),P=i(P,18),P=o(P,U),S^=P;case 12:D^=m[R+11]<<24;case 11:D^=m[R+10]<<16;case 10:D^=m[R+9]<<8;case 9:D^=m[R+8],D=o(D,O),D=i(D,17),D=o(D,k),_^=D;case 8:A^=m[R+7]<<24;case 7:A^=m[R+6]<<16;case 6:A^=m[R+5]<<8;case 5:A^=m[R+4],A=o(A,B),A=i(A,16),A=o(A,O),y^=A;case 4:x^=m[R+3]<<24;case 3:x^=m[R+2]<<16;case 2:x^=m[R+1]<<8;case 1:x^=m[R],x=o(x,U),x=i(x,15),x=o(x,B),h^=x}return h^=m.length,y^=m.length,_^=m.length,S^=m.length,h+=y,h+=_,h+=S,y+=h,_+=h,S+=h,h=a(h),y=a(y),_=a(_),S=a(S),h+=y,h+=_,h+=S,y+=h,_+=h,S+=h,("00000000"+(h>>>0).toString(16)).slice(-8)+("00000000"+(y>>>0).toString(16)).slice(-8)+("00000000"+(_>>>0).toString(16)).slice(-8)+("00000000"+(S>>>0).toString(16)).slice(-8)},r.x64.hash128=function(m,p){if(r.inputValidation&&!n(m))return t;p=p||0;for(var f=m.length%16,g=m.length-f,h=[0,p],y=[0,p],_=[0,0],S=[0,0],x=[2277735313,289559509],A=[1291169091,658871167],D=0;D<g;D=D+16)_=[m[D+4]|m[D+5]<<8|m[D+6]<<16|m[D+7]<<24,m[D]|m[D+1]<<8|m[D+2]<<16|m[D+3]<<24],S=[m[D+12]|m[D+13]<<8|m[D+14]<<16|m[D+15]<<24,m[D+8]|m[D+9]<<8|m[D+10]<<16|m[D+11]<<24],_=u(_,x),_=c(_,31),_=u(_,A),h=d(h,_),h=c(h,27),h=s(h,y),h=s(u(h,[0,5]),[0,1390208809]),S=u(S,A),S=c(S,33),S=u(S,x),y=d(y,S),y=c(y,31),y=s(y,h),y=s(u(y,[0,5]),[0,944331445]);switch(_=[0,0],S=[0,0],f){case 15:S=d(S,l([0,m[D+14]],48));case 14:S=d(S,l([0,m[D+13]],40));case 13:S=d(S,l([0,m[D+12]],32));case 12:S=d(S,l([0,m[D+11]],24));case 11:S=d(S,l([0,m[D+10]],16));case 10:S=d(S,l([0,m[D+9]],8));case 9:S=d(S,[0,m[D+8]]),S=u(S,A),S=c(S,33),S=u(S,x),y=d(y,S);case 8:_=d(_,l([0,m[D+7]],56));case 7:_=d(_,l([0,m[D+6]],48));case 6:_=d(_,l([0,m[D+5]],40));case 5:_=d(_,l([0,m[D+4]],32));case 4:_=d(_,l([0,m[D+3]],24));case 3:_=d(_,l([0,m[D+2]],16));case 2:_=d(_,l([0,m[D+1]],8));case 1:_=d(_,[0,m[D]]),_=u(_,x),_=c(_,31),_=u(_,A),h=d(h,_)}return h=d(h,[0,m.length]),y=d(y,[0,m.length]),h=s(h,y),y=s(y,h),h=w(h),y=w(y),h=s(h,y),y=s(y,h),("00000000"+(h[0]>>>0).toString(16)).slice(-8)+("00000000"+(h[1]>>>0).toString(16)).slice(-8)+("00000000"+(y[0]>>>0).toString(16)).slice(-8)+("00000000"+(y[1]>>>0).toString(16)).slice(-8)},typeof wf<"u"?(typeof w1<"u"&&w1.exports&&(wf=w1.exports=r),wf.murmurHash3=r):typeof define=="function"&&define.amd?define([],function(){return r}):(r._murmurHash3=e.murmurHash3,r.noConflict=function(){return e.murmurHash3=r._murmurHash3,r._murmurHash3=t,r.noConflict=t,r},e.murmurHash3=r)})(wf)});var KC=E((jst,pte)=>{pte.exports=lte()});var dte,zIe,HIe,fte,JC=b(()=>{b1();dte=L(KC(),1),zIe=new TextEncoder,HIe=dte.default.x64.hash126,fte=({bitWidth:e=5,hash:t=HIe})=>{if(e>4*8)throw new RangeError(`Can not use bitWidth ${e} which exceeds the hashSize 4`);if(4*8>32)throw new RangeError("Can not use hashSize 4 as it can not be encoded in Uint32");let n=4294967295>>>32-e;return{at:(a,s)=>a>>>s*e&n,from:a=>t(zIe.encode(a)),size:Math.ceil(4*8/e)}}});var cl,_1,KIe,JIe,VIe,ZIe,VC,Sf,S1,mte,ZC,QC,YC,gte,yte,Ef,bte,wte,QIe,YIe,_te,XIe,Ste,xf,vf,_f,Ete,Pf,E1,xte,e3e,t3e,x1=b(()=>{sl();sl();y1();JC();cl=class{constructor(t,r,n,o,i){this.edit=t,this.config=i,this.datamap=r,this.nodemap=n,this.children=o}get nodeArity(){return this.config.BitField.popcount(this.nodemap)}get dataArity(){return this.config.BitField.popcount(this.datamap)}empty(){return Sf(this.config)}lookup(t,r,n,o){return mte(this,t,r,n,o)}associate(t,r,n,o,i,a){return QC(this,t,r,n,o,i,a)}dissociate(t,r,n,o,i){return gte(this,t,r,n,o,i)}fork(t=null){return Ef(this,t)}entries(){return yte(this)}keys(){return bte(this)}values(){return wte(this)}},_1=class{constructor(t,r,n,o){this.edit=t,this.count=r,this.children=n,this.config=o}get nodeArity(){return 0}get dataArity(){return this.count}lookup(t,r,n,o){return KIe(this,n,o)}associate(t,r,n,o,i,a){return JIe(this,t,n,o,i,a)}dissociate(t,r,n,o,i){return VIe(this,t,n,o,i)}fork(t=null){return ZIe(this,t)}entries(){return yte(this)}keys(){return bte(this)}values(){return wte(this)}},KIe=(e,t,r)=>{let{children:n,count:o}=e,i=VC(n,o,t);return n[i]===t?n[i+1]:r},JIe=(e,t,r,n,o,i)=>{let{children:a,count:s}=e,u=VC(a,s,n);if(a[u]!==n){let c=e.fork(t);return i.value=!0,c.count+=1,c.children.splice(u,r,o),c}else if(a[u+1]!==o){let c=e.fork(t);return c.children[u+1]=o,c}else return e},VIe=(e,t,r,n,o)=>{let{children:i,count:a,config:s}=e,u=VC(i,a,n);if(i[u]!==n)return e;if(o.value=!0,a===2){let c=u===0?2:0;return QC(Sf(s),t,0,r,i[c],i[c+1],o)}else{let c=e.fork(t);return c.children.splice(u,2),c.count-=1,c}},ZIe=(e,t=null)=>xte(e.edit,t)?e:new _1(t,e.count,e.children.slice(),e.config),VC=(e,t,r)=>{let n=0;for(;n<t&&e[n]>r;)n+=2;return n},Sf=(e,t=null)=>new cl(t,e.BitField.empty(Math.pow(2,e.bitWidth)),e.BitField.empty(Math.pow(2,e.bitWidth)),[],e),S1=(e,t,r)=>mte(e,0,e.config.Path.from(t),t,r),mte=(e,t,r,n,o)=>{let{datamap:i,nodemap:a,config:s}=e,{Path:u,BitField:c}=s,l=u.at(r,t);if(c.get(i,l)){let d=c.popcount(i,l);return xf(e,d)===n?_f(e,d):o}else return c.get(a,l)?Pf(e,l).lookup(t+1,r,n,o):o},ZC=(e,t,r,n,o)=>QC(e,t,0,e.config.Path.from(r),r,n,o),QC=(e,t,r,n,o,i,a)=>{let{datamap:s,nodemap:u,config:c}=e,{Path:l,BitField:d}=c,w=l.at(n,r);if(d.get(s,w)){let m=d.popcount(s,w),p=xf(e,m);if(o===p)return _f(e,m)===i?e:QIe(e,t,m,i);{let f=Ste(c,t,r+1,l.from(p),p,_f(e,m),n,o,i);return a.value=!0,XIe(e,t,w,f)}}else if(d.get(u,w)){let m=Pf(e,w),p=m.associate(t,r+1,n,o,i,a);return m===p?e:_te(e,t,w,p)}else{let m=d.popcount(s,w);a.value=!0;let p=e.fork(t);return p.datamap=d.set(s,w),p.children.splice(vf(m),0,o,i),p}},YC=(e,t,r,n)=>gte(e,t,0,e.config.Path.from(r),r,n),gte=(e,t,r,n,o,i)=>{let{datamap:a,nodemap:s,config:u}=e,{BitField:c,Path:l}=u,d=l.at(n,r);if(c.get(a,d)){let w=c.popcount(a,d);if(o===xf(e,w)){i.value=!0;let m=Ef(e,t);return m.datamap=c.unset(e.datamap,d),m.children.splice(vf(w),2),m}else return e}else if(c.get(s,d)){let w=Pf(e,d),m=w.dissociate(t,r+1,n,o,i);return e3e(m)?t3e(e)?m:YIe(e,t,d,m):w===m?e:_te(e,t,d,m)}else return e},yte=function*({children:e}){let t=0,r=e.length;for(;t<r;){let n=e[t];if(typeof n=="string"){t+=1;let o=e[t];yield[n,o],t+=1}else break}for(;t<r;)yield*e[t].entries(),t+=1},Ef=(e,t)=>xte(e.edit,t)?e:new cl(t,e.datamap,e.nodemap,e.children.slice(),e.config),bte=function*({children:e}){let t=0,r=e.length;for(;t<r;){let n=e[t];if(typeof n=="string")yield n,t+=2;else break}for(;t<r;)yield*e[t].keys(),t+=1},wte=function*({children:e}){let t=0,r=e.length;for(;t<r&&typeof e[t]=="string";)t+=1,yield e[t],t+=1;for(;t<r;)yield*e[t].values(),t+=1},QIe=(e,t,r,n)=>{let o=e.fork(t);return o.children[Ete(r)]=n,o},YIe=(e,t,r,n)=>{let{datamap:o,nodemap:i,config:a}=e,{BitField:s}=a,u=Ef(e,t);return u.children.splice(E1(e,r),1),u.children.splice(vf(s.popcount(o,r)),0,n.children[0],n.children[1]),u.datamap=s.set(o,r),u.nodemap=s.unset(i,r),u},_te=(e,t,r,n)=>{let o=Ef(e,t);return o.children[E1(e,r)]=n,o},XIe=(e,t,r,n)=>{let{nodemap:o,datamap:i,config:a}=e,{BitField:s}=a,u=s.popcount(i,r),c=vf(u),l=E1(e,r),d=Ef(e,t);return d.datamap=s.unset(i,r),d.children.splice(c,2),d.nodemap=s.set(o,r),d.children.splice(l-1,0,n),d},Ste=(e,t,r,n,o,i,a,s,u)=>{let{BitField:c,Path:l}=e;if(l.size<r)return new _1(t,2,[o,i,s,u],e);{let d=l.at(n,r),w=l.at(a,r);return d===w?new cl(t,c.empty(Math.pow(2,e.bitWidth)),c.from([d],Math.pow(2,e.bitWidth)),[Ste(e,t,r+1,n,o,i,a,s,u)],e):new cl(t,c.from([d,w],Math.pow(2,e.bitWidth)),c.empty(Math.pow(2,e.bitWidth)),d<w?[o,i,s,u]:[s,u,o,i],e)}},xf=({children:e},t)=>e[vf(t)],vf=e=>e*2,_f=({children:e},t)=>e[Ete(t)],Ete=e=>e*2+1,Pf=(e,t)=>e.children[E1(e,t)],E1=({children:e,nodemap:t,config:r},n)=>e.length-1-r.BitField.popcount(t,n),xte=(e,t)=>e!=null&&e===t,e3e=e=>e.nodeArity===0&&e.dataArity===1,t3e=({config:{BitField:e},datamap:t,nodemap:r})=>e.popcount(t)===0&&e.popcount(r)===1});function r3e(e){let t=new Array(4);for(let r=0;r<4;r++)t[r]=e&255,e=e>>8;return new Uint8Array(t)}var v1,zst,Hst,ul,P1=b(()=>{_u();Zw();v1=L(KC(),1);zst=ws({name:"murmur3-32",code:35,encode:e=>r3e(v1.default.x86.hash32(e))}),Hst=ws({name:"murmur3-128",code:34,encode:e=>hs.fromHex(v1.default.x64.hash128(e))}),ul=ws({name:"murmur3-x64-64",code:34,encode:e=>hs.fromHex(v1.default.x64.hash128(e)).subarray(0,8)})});var n3e,o3e,Pte,XC,eT=b(()=>{b1();P1();n3e=new TextEncoder,o3e=e=>ul.encode(e),Pte=({bitWidth:e=8,hash:t=o3e}={})=>{let r=t(new Uint8Array).byteLength;return{from:i=>t(n3e.encode(i)),at:(i,a)=>{let s=a*e;if(s>r)throw new RangeError("Out of bounds");return XC(i,s,e)},size:Math.ceil(r*8/e)}},XC=(e,t,r)=>{let n=t/8|0,o=t%8,i=r,a=0;for(;i>0&&n<e.byteLength;){let s=e[n],u=8-o,c=u<i?u:i,l=8-o-c,w=(255>>o&s)>>l;a=(a<<c)+w,i-=c,n++,o=0}return a}});var tT={};ne(tT,{API:()=>h1,and:()=>m3e,empty:()=>Dte,from:()=>a3e,fromBytes:()=>d3e,get:()=>l3e,or:()=>h3e,popcount:()=>f3e,set:()=>c3e,size:()=>s3e,toBytes:()=>p3e,unset:()=>u3e});var Dte,a3e,s3e,Df,Ate,c3e,u3e,l3e,p3e,d3e,f3e,h3e,m3e,Ite=b(()=>{y1();zC();Dte=(e=256)=>{if(e%8!==0)throw new Error("Must be multiple of 8");return new Uint8Array(e/8)},a3e=(e,t)=>{let r=Dte(t);for(let n of e){let{byte:o,byteOffset:i,bitOffset:a}=Df(r,n);r[i]=o|1<<a}return r},s3e=e=>e.byteLength*8,Df=(e,t)=>{let r=e.byteLength-1-(t/8|0),n=t%8;return{byte:e[r],byteOffset:r,bitOffset:n}},Ate=(e,t,r)=>{if(e[t]!==r){let n=e.slice(0);return n[t]=r,n}return e},c3e=(e,t)=>{let{byte:r,byteOffset:n,bitOffset:o}=Df(e,t);return Ate(e,n,r|1<<o)},u3e=(e,t)=>{let{byte:r,byteOffset:n,bitOffset:o}=Df(e,t);return Ate(e,n,r&(255^1<<o))},l3e=(e,t)=>{var{byte:r,bitOffset:n}=Df(e,t);return(r>>n&1)!==0},p3e=e=>e,d3e=e=>e,f3e=(e,t=e.byteLength*8)=>{let{byteOffset:r,bitOffset:n,byte:o}=Df(e,t),i=HC(o,n),a=e.byteLength-1;for(;a>r;){let s=e[a];i+=m1(s),a--}return i},h3e=(e,t)=>{let r=e.slice(),n=0;for(;n<e.length;)r[n]|=t[n],n++;return r},m3e=(e,t)=>{let r=e.slice(),n=0;for(;n<e.length;)r[n]&=t[n],n++;return r}});var kte,g3e,Cte,nT,Tte,oT,rT,D1,iT=b(()=>{sl();x1();x1();sl();JC();eT();y1();Ite();kte=new RangeError("Not Found"),g3e=({bitWidth:e=5,BitField:t=e===5?g1:tT,Path:r=e===5?fte({bitWidth:e}):Pte({bitWidth:e})}={})=>({bitWidth:e,BitField:t,Path:r}),Cte=(e,t)=>{let r=oT(t);for(let[n,o]of e)r.set(n,o);return r.build()},nT=(e,t)=>S1(e.root,t,kte)!==kte,Tte=(e,t,r=void 0)=>S1(e.root,t,r),oT=e=>{let t={},r=g3e(e);return new D1(t,0,Sf(r,t),r)},rT=class e{constructor(t=0,r,n){this.count=t,this.root=r,this.config=n}get size(){return this.count}clone(){return new e(this.count,this.root,this.config)}empty(){return new e(0,Sf(this.config,null),this.config)}has(t){return nT(this,t)}get(t){return S1(this.root,t,void 0)}set(t,r){let n={value:!1},o=ZC(this.root,null,t,r,n);return o===this.root?this:new e(n.value?this.count+1:this.count,o,this.config)}delete(t){let r=YC(this.root,null,t,{value:!1});return r===this.root?this:new e(this.count-1,r,this.config)}get bitField(){return this.config.BitField.or(this.root.datamap,this.root.nodemap)}[Symbol.iterator](){return this.entries()}entries(){return this.root.entries()}keys(){return this.root.keys()}values(){return this.root.values()}createBuilder(){return new D1({},this.count,this.root,this.config)}},D1=class{constructor(t,r,n,o){this.edit=t,this.count=r,this.root=n,this.config=o}get size(){if(this.edit)return this.count;throw new Error(".size was accessed on the finalized builder")}set(t,r){if(this.edit){let n={value:!1},o=ZC(this.root,this.edit,t,r,n);return this.root!==o&&(this.root=o),n.value&&(this.count+=1),this}else throw new Error(".set was called on the finalized builder")}delete(t){if(this.edit){if(this.count===0)return this;let r={value:!1},n=YC(this.root,this.edit,t,r);return n!==this.root&&(this.root=n),r.value&&(this.count-=1),this}else throw new Error(".delete was called on the finalized builder")}build(){if(this.edit)return this.edit=null,new rT(this.count,this.root,this.config);throw new Error(".build was called on the finalized builder")}}});var y3e,b3e,Ote,w3e,_3e,Rte=b(()=>{b1();eT();P1();y3e=new TextEncoder,b3e=e=>ul.encode(e),Ote=({bitWidth:e=8,hash:t=b3e})=>{let r=t(new Uint8Array).byteLength,n={bitWidth:e,hash:t,hashSize:r};return{at:(a,s)=>w3e(a,s,n),from:a=>y3e.encode(a),size:1/0}},w3e=(e,t=0,{bitWidth:r=8,hash:n,hashSize:o})=>{let i=o*8,a=0,s=r,u=r*t;for(;s>0;){let c=u/i>>0,l=n(c===0?e:_3e(e,c)),d=i<=u?u%i:u,w=i-d,m=w<s?w:s;a=(a<<m)+XC(l,d,m),s-=m,u+=m}return a},_3e=(e,t)=>{let r=new Uint8Array(e.byteLength+1).fill(t,e.byteLength);return r.set(e),r}});var Bte,Nte,Ute,aT,qte,jte,E3e,Lte,Wte=b(()=>{iT();x1();Rte();sl();Bte=8,Nte={bitWidth:Bte,Path:Ote({bitWidth:Bte})},Ute=e=>Math.pow(2,e.config.bitWidth),aT=(e=Nte)=>oT(e),qte=(e,t=Nte)=>Cte(e,t),jte=({datamap:e,nodemap:t,config:{BitField:r}})=>E3e(r.toBytes(r.or(e,t))),E3e=e=>{let t=0;for(;t<e.byteLength;){if(e[t]!==0)return e.subarray(t);t+=1}return e.subarray(t)},Lte=function*(e){let{config:t,datamap:r,nodemap:n}=e,{BitField:o}=t,i=o.size(r),a=0,s=0;for(;a<i;){let u=a.toString(16).toUpperCase().padStart(2,"0");if(o.get(r,a)){let c=xf(e,s);yield{prefix:u,key:c,value:_f(e,s)},s++}else o.get(n,a)&&(yield{prefix:u,node:Pf(e,a)});a++}}});function A1({enumerable:e=!0,configurable:t=!1}={}){return{enumerable:e,configurable:t,writable:!1}}function*v3e(e,t){if(t!=null&&typeof t=="object")if(Array.isArray(t))for(let[r,n]of t.entries()){let o=[...e,r],i=Vt.asCID(n);i?yield[o.join("/"),i]:typeof n=="object"&&(yield*sT(n,o))}else{let r=Vt.asCID(t);r?yield[e.join("/"),r]:yield*sT(t,e)}}function*sT(e,t){if(e==null||e instanceof Uint8Array)return;let r=Vt.asCID(e);r&&(yield[t.join("/"),r]);for(let[n,o]of Object.entries(e)){let i=[...t,n];yield*v3e(i,o)}}function*P3e(e,t){if(Array.isArray(t))for(let[r,n]of t.entries()){let o=[...e,r];yield o.join("/"),typeof n=="object"&&!Vt.asCID(n)&&(yield*cT(n,o))}else yield*cT(t,e)}function*cT(e,t){if(!(e==null||typeof e!="object"))for(let[r,n]of Object.entries(e)){let o=[...t,r];yield o.join("/"),n!=null&&!(n instanceof Uint8Array)&&typeof n=="object"&&!Vt.asCID(n)&&(yield*P3e(o,n))}}function D3e(e,t){let r=e;for(let[n,o]of t.entries()){if(r=r[o],r==null)throw new Error(`Object has no property at ${t.slice(0,n+1).map(a=>`[${JSON.stringify(a)}]`).join("")}`);let i=Vt.asCID(r);if(i)return{value:i,remaining:t.slice(n+1).join("/")}}return{value:r}}var I1,Mte=b(()=>{Ps();I1=class{constructor({cid:t,bytes:r,value:n}){if(!t||!r||typeof n>"u")throw new Error("Missing required argument");this.cid=t,this.bytes=r,this.value=n,this.asBlock=this,Object.defineProperties(this,{cid:A1(),bytes:A1(),value:A1(),asBlock:A1()})}links(){return sT(this.value,[])}tree(){return cT(this.value,[])}get(t="/"){return D3e(this.value,t.split("/").filter(Boolean))}}});async function k3e(e,t){let r=n1(e),n=await t.hasher.digest(r),o=t.linker.createLink(H0,n);return new I1({cid:o,bytes:r,value:e})}var A3e,uT,I3e,Gte,$te,zte,k1,Af,Hte=b(()=>{iT();Wte();V4();P1();Mte();hf();tl();bf();GC();bf();A3e=_i,uT=({writer:e,settings:t=A3e(),metadata:r={}})=>new k1({writer:e,metadata:r,settings:t,entries:new Af,closed:!1}),I3e=e=>{if(e.closed)throw new Error("Can not change written HAMT directory, but you can .fork() and make changes to it");return e},Gte=async(e,{closeWriter:t=!1,releaseLock:r=!1}={})=>{let{writer:n,settings:o,metadata:i}=I3e(e.state);e.state.closed=!0;let{entries:a}=e.state;if(!(a instanceof Af))throw new Error(`not a HAMT: ${a}`);let s=a.builder.build(),u=$te(s,s.root,o),c=null;for await(let l of u)c=l,(n.desiredSize||0)<=0&&await n.ready,n.write(l);if(c==null)throw new Error("no root block yielded");return t?await n.close():r&&n.releaseLock(),{cid:c.cid,dagByteLength:xa(c.bytes,c.value.entries)}},$te=async function*(e,t,r){let n=[];for(let i of Lte(t))if("key"in i)n.push({name:`${i.prefix??""}${i.key??""}`,dagByteLength:i.value.dagByteLength,cid:i.value.cid});else{let a=null;for await(let s of $te(e,i.node,r))yield s,a=s;if(a==null)throw new Error("no root block yielded");n.push({name:i.prefix,dagByteLength:xa(a.bytes,a.value.entries),cid:a.cid})}let o=dC(n,jte(t),Ute(e),ul.code);yield await k3e(o,r)};zte=({state:e},{writer:t=e.writer,metadata:r=e.metadata,settings:n=e.settings}={})=>new k1({writer:t,metadata:r,settings:n,entries:new Af(qte(e.entries.entries()).createBuilder()),closed:!1}),k1=class{constructor(t){this.state=t}get writer(){return this.state.writer}get settings(){return this.state.settings}set(t,r,n){return gf(this,t,r,n)}remove(t){return yf(this,t)}fork(t){return zte(this,t)}close(t){return Gte(this,t)}entries(){return this.state.entries.entries()}has(t){return this.state.entries.has(t)}get size(){return this.state.entries.size}},Af=class extends Map{constructor(t=aT()){super(),this.builder=t}clear(){this.builder=aT()}delete(t){let{root:r}=this.builder;return this.builder.delete(t),this.builder.root!==r}forEach(t,r=this){for(let[n,o]of this.builder.root.entries())t.call(r,o,n,this)}get(t){return Tte(this.builder,t)}has(t){return nT(this.builder,t)}set(t,r){return this.builder.set(t,r),this}get size(){return this.builder.size}[Symbol.iterator](){return this.builder.root.entries()}entries(){return this.builder.root.entries()}keys(){return this.builder.root.keys()}values(){return this.builder.root.values()}}});var pT,C3e,lT,T3e,F3e,Kte,Jte=b(()=>{hf();bf();hX();tl();hf();bf();Hte();pT=({writable:e,settings:t=_i()})=>new lT({writer:e.getWriter(),settings:t}),C3e=async(e,{releaseLock:t=!0,closeWriter:r=!0}={})=>(r?await e.writer.close():t&&e.writer.releaseLock(),e),lT=class{constructor({writer:t,settings:r}){this.writer=t,this.settings=Pa(r)}createFileWriter({settings:t=this.settings,metadata:r}={}){return ff({writer:this.writer,settings:t,metadata:r})}createDirectoryWriter({settings:t=this.settings,metadata:r}={}){return mf({writer:this.writer,settings:t,metadata:r})}close(t){return C3e(this,t)}},T3e=1048576,F3e=T3e*100,Kte=(e=F3e)=>({highWaterMark:e,size:t=>t.bytes.length})});var Js={};ne(Js,{createDirectoryEncoderStream:()=>F1,createFileEncoderStream:()=>T1,encodeDirectory:()=>N3e,encodeFile:()=>B3e});async function B3e(e,t){let r=T1(e,t),n=await Qte(r);return{cid:n.at(-1).cid,blocks:n}}function T1(e,t){let{readable:r,writable:n}=new TransformStream({},Vte),o=t?.settings??Zte,i=pT({writable:n,settings:o}),a=new C1("",e);return(async()=>(await a.finalize(i),await i.close()))(),r}async function N3e(e,t){let r=F1(e,t),n=await Qte(r);return{cid:n.at(-1).cid,blocks:n}}function F1(e,t){let r=new If("",t);for(let s of e){let u=s.name.split("/");(u[0]===""||u[0]===".")&&u.shift();let c=r;for(let[l,d]of u.entries()){if(l===u.length-1){c.entries.set(d,new C1(u.join("/"),s));break}let w=c.entries.get(d);if(w==null){let m=c===r?d:`${c.name}/${d}`;w=new If(m,t),c.entries.set(d,w)}if(!(w instanceof If))throw new Error(`"${s.name}" cannot be a file and a directory`);c=w}}let{readable:n,writable:o}=new TransformStream({},Vte),i=t?.settings??Zte,a=pT({writable:o,settings:i});return(async()=>{let s=await r.finalize(a);t?.onDirectoryEntryLink&&t.onDirectoryEntryLink({name:"",...s}),await a.close()})(),n}async function Qte(e){let t=[];return await e.pipeTo(new WritableStream({write(r){t.push(r)}})),t}var R3e,Vte,Zte,C1,If,Yte=b(()=>{Jte();Mk();qC();jC();R3e=1e3,Vte=Kte(),Zte=Pa({fileChunkEncoder:Ud,smallFileEncoder:Ud,chunker:NC(1024*1024),fileLayout:d1(1024)});C1=class{#e;constructor(t,r){this.name=t,this.#e=r}async finalize(t){let r=ff(t);return await this.#e.stream().pipeTo(new WritableStream({async write(n){await r.write(n)}})),await r.close()}},If=class{#e;entries=new Map;constructor(t,r){this.name=t,this.#e=r}async finalize(t){let r=this.entries.size<=R3e?mf(t):uT(t);for(let[n,o]of this.entries){let i=await o.finalize(t);this.#e?.onDirectoryEntryLink&&this.#e.onDirectoryEntryLink({name:o.name,...i}),r.set(n,i)}return await r.close()}}});async function ll(e,t){let r=Ao(await e.upTo(8),e);if(r===0)throw new Error("Invalid CAR header (zero length)");let n=await e.exactly(r,!0),o=Jt(n);if(w_.toTyped(o)===void 0)throw new Error("Invalid CAR header format");if(o.version!==1&&o.version!==2||t!==void 0&&o.version!==t)throw new Error(`Invalid CAR version: ${o.version}${t!==void 0?` (expected ${t})`:""}`);if(o.version===1){if(!Array.isArray(o.roots))throw new Error("Invalid CAR header format");return o}if(o.roots!==void 0)throw new Error("Invalid CAR header format");let i=y_(await e.exactly(g_,!0));e.seek(i.dataOffset-e.pos);let a=await ll(e,1);return Object.assign(a,i)}async function U3e(e){let t=await e.exactly(2,!1);if(t[0]===aa.SHA2_256&&t[1]===aa.LENGTH){let a=await e.exactly(34,!0),s=dn(a);return $e.create(0,aa.DAG_PB,s)}let r=Ao(await e.upTo(8),e);if(r!==1)throw new Error(`Unexpected CID version (${r})`);let n=Ao(await e.upTo(8),e),o=await e.exactly(b_(await e.upTo(8)),!0),i=dn(o);return $e.create(r,n,i)}async function Xte(e){let t=e.pos,r=Ao(await e.upTo(8),e);if(r===0)throw new Error("Invalid CAR section (zero length)");r+=e.pos-t;let n=await U3e(e),o=r-Number(e.pos-t);return{cid:n,length:r,blockLength:o}}async function q3e(e){let{cid:t,blockLength:r}=await Xte(e);return{bytes:await e.exactly(r,!0),cid:t}}async function j3e(e){let t=e.pos,{cid:r,length:n,blockLength:o}=await Xte(e),i={cid:r,length:n,blockLength:o,offset:t,blockOffset:e.pos};return e.seek(i.blockLength),i}function O1(e){let t=(async()=>{let r=await ll(e);if(r.version===2){let n=e.pos-r.dataOffset;e=L3e(e,r.dataSize-n)}return r})();return{header:()=>t,async*blocks(){for(await t;(await e.upTo(8)).length>0;)yield await q3e(e)},async*blocksIndex(){for(await t;(await e.upTo(8)).length>0;)yield await j3e(e)}}}function pl(e){let t=0;return{async upTo(r){return e.subarray(t,t+Math.min(r,e.length-t))},async exactly(r,n=!1){if(r>e.length-t)throw new Error("Unexpected end of data");let o=e.subarray(t,t+r);return n&&(t+=r),o},seek(r){t+=r},get pos(){return t}}}function dT(e){let t=0,r=0,n=0,o=new Uint8Array(0),i=async a=>{r=o.length-n;let s=[o.subarray(n)];for(;r<a;){let c=await e();if(c==null)break;r<0?c.length>r&&s.push(c.subarray(-r)):s.push(c),r+=c.length}o=new Uint8Array(s.reduce((c,l)=>c+l.length,0));let u=0;for(let c of s)o.set(c,u),u+=c.length;n=0};return{async upTo(a){return o.length-n<a&&await i(a),o.subarray(n,n+Math.min(o.length-n,a))},async exactly(a,s=!1){if(o.length-n<a&&await i(a),o.length-n<a)throw new Error("Unexpected end of data");let u=o.subarray(n,n+a);return s&&(t+=a,n+=a),u},seek(a){t+=a,n+=a},get pos(){return t}}}function R1(e){let t=e[Symbol.asyncIterator]();async function r(){let n=await t.next();return n.done?null:n.value}return dT(r)}function L3e(e,t){let r=0;return{async upTo(n){let o=await e.upTo(n);return o.length+r>t&&(o=o.subarray(0,t-r)),o},async exactly(n,o=!1){let i=await e.exactly(n,o);if(i.length+r>t)throw new Error("Unexpected end of data");return o&&(r+=n),i},seek(n){r+=n,e.seek(n)},get pos(){return e.pos}}}var dl=b(()=>{$r();vo();ii();a8();s8()});var fT=b(()=>{dl()});var ere=b(()=>{dl()});var tre,rre,Fct,hT=b(()=>{tre=L(require("fs"),1),rre=require("util");ere();Fct=(0,rre.promisify)(tre.default.read)});var nre=b(()=>{vo();fT();hT()});async function G3e(e){if(!(e instanceof Uint8Array))throw new TypeError("fromBytes() requires a Uint8Array");return ore(pl(e))}async function $3e(e){if(!e||typeof e[Symbol.asyncIterator]!="function")throw new TypeError("fromIterable() requires an async iterable");return ore(R1(e))}async function ore(e){let t=O1(e),{version:r,roots:n}=await t.header();return{version:r,roots:n,iterator:t.blocks()}}var mT,kf,ire=b(()=>{dl();mT=class{constructor(t,r,n){this._version=t,this._roots=r,this._iterable=n,this._decoded=!1}get version(){return this._version}async getRoots(){return this._roots}},kf=class e extends mT{[Symbol.asyncIterator](){if(this._decoded)throw new Error("Cannot decode more than once");if(!this._iterable)throw new Error("Block iterable not found");return this._decoded=!0,this._iterable[Symbol.asyncIterator]()}static async fromBytes(t){let{version:r,roots:n,iterator:o}=await G3e(t);return new e(r,n,o)}static async fromIterable(t){let{version:r,roots:n,iterator:o}=await $3e(t);return new e(r,n,o)}}});function Cf(e){let t=Kt({version:are,roots:e}),r=gT.default.encode(t.length),n=new Uint8Array(r.length+t.length);return n.set(r,0),n.set(t,r.length),n}function sre(e){return{async setRoots(t){let r=Cf(t);await e.write(r)},async writeBlock(t){let{cid:r,bytes:n}=t;await e.write(new Uint8Array(gT.default.encode(r.bytes.length+n.length))),await e.write(r.bytes),n.length&&await e.write(n)},async close(){await e.end()},version(){return are}}}var gT,are,yT=b(()=>{$r();gT=L(qi(),1),are=1});function B1(){}function cre(){let e=[],t=null,r=B1,n=!1,o=null,i=B1,a=()=>(t||(t=new Promise(c=>{r=()=>{t=null,r=B1,c()}})),t),s={write(c){e.push(c);let l=a();return i(),l},async end(){n=!0;let c=a();i(),await c}},u={async next(){let c=e.shift();return c?(e.length===0&&r(),{done:!1,value:c}):n?(r(),{done:!0,value:void 0}):(o||(o=new Promise(l=>{i=()=>(o=null,i=B1,l(u.next()))})),o)}};return{writer:s,iterator:u}}var ure=b(()=>{});function lre(){let e=cre(),{writer:t,iterator:r}=e;return{encoder:sre(t),iterator:r}}function z3e(e){if(e===void 0)return[];if(!Array.isArray(e)){let r=$e.asCID(e);if(!r)throw new TypeError("roots must be a single CID or an array of CIDs");return[r]}let t=[];for(let r of e){let n=$e.asCID(r);if(!n)throw new TypeError("roots must be a single CID or an array of CIDs");t.push(n)}return t}var N1,U1,pre=b(()=>{vo();dl();yT();ure();N1=class e{constructor(t,r){this._encoder=r,this._mutex=r.setRoots(t),this._ended=!1}async put(t){if(!(t.bytes instanceof Uint8Array)||!t.cid)throw new TypeError("Can only write {cid, bytes} objects");if(this._ended)throw new Error("Already closed");let r=$e.asCID(t.cid);if(!r)throw new TypeError("Can only write {cid, bytes} objects");return this._mutex=this._mutex.then(()=>this._encoder.writeBlock({cid:r,bytes:t.bytes})),this._mutex}async close(){if(this._ended)throw new Error("Already closed");return await this._mutex,this._ended=!0,this._encoder.close()}version(){return this._encoder.version()}static create(t){t=z3e(t);let{encoder:r,iterator:n}=lre(),o=new e(t,r),i=new U1(n);return{writer:o,out:i}}static createAppender(){let{encoder:t,iterator:r}=lre();t.setRoots=()=>Promise.resolve();let n=new e([],t),o=new U1(r);return{writer:n,out:o}}static async updateRootsInBytes(t,r){let n=pl(t);await ll(n);let o=Cf(r);if(Number(n.pos)!==o.length)throw new Error(`updateRoots() can only overwrite a header of the same length (old header is ${n.pos} bytes, new header is ${o.length} bytes)`);return t.set(o,0),t}},U1=class{constructor(t){this._iterator=t}[Symbol.asyncIterator](){if(this._iterating)throw new Error("Multiple iterator not supported");return this._iterating=!0,this._iterator}}});var bT,wT,H3e,K3e,Tf,dre=b(()=>{bT=L(require("fs"),1),wT=require("util");dl();yT();pre();H3e=(0,wT.promisify)(bT.default.read),K3e=(0,wT.promisify)(bT.default.write),Tf=class extends N1{static async updateRootsInFile(t,r){let o,i=0,a;if(typeof t=="number")a=async()=>(await H3e(t,o,0,256,i)).bytesRead;else if(typeof t=="object"&&typeof t.read=="function")a=async()=>(await t.read(o,0,256,i)).bytesRead;else throw new TypeError("Bad fd");let s=dT(async()=>{o=new Uint8Array(256);let c=await a();return i+=c,c<256?o.subarray(0,c):o});await ll(s);let u=Cf(r);if(s.pos!==u.length)throw new Error(`updateRoots() can only overwrite a header of the same length (old header is ${s.pos} bytes, new header is ${u.length} bytes)`);typeof t=="number"?await K3e(t,u,0,u.length,0):typeof t=="object"&&typeof t.read=="function"&&await t.write(u,0,u.length,0)}}});var fre=b(()=>{c8();f8();nre();fT();ire();hT();dre()});var xT={};ne(xT,{BlockStream:()=>Ff,blockEncodingLength:()=>ST,blockHeaderEncodingLength:()=>Of,code:()=>q1,encode:()=>ET,headerEncodingLength:()=>fl});function fl(e){if(!e)return J3e;let t=Kt({version:1,roots:[e]}).length;return _T.default.encodingLength(t)+t}function Of(e){let t=e.cid.bytes.length+e.bytes.length;return _T.default.encodingLength(t)+e.cid.bytes.length}function ST(e){return Of(e)+e.bytes.length}async function ET(e,t){let{writer:r,out:n}=Tf.create(t),o;(async()=>{try{for await(let s of e)await r.put(s)}catch(s){o=s}finally{await r.close()}})();let i=[];for await(let s of n)i.push(s);if(o!=null)throw o;let a=t!=null?[t]:[];return Object.assign(new Blob(i),{version:1,roots:a})}function V3e(e){return Symbol.asyncIterator in e?e:async function*(){let t=e.getReader();try{for(;;){let{done:r,value:n}=await t.read();if(r)return;yield n}}finally{t.releaseLock()}}()}var _T,q1,J3e,Ff,vT=b(()=>{fre();$r();_T=L(qi(),1),q1=514,J3e=18;Ff=class extends ReadableStream{constructor(t){let r=null,n=()=>r||(r=kf.fromIterable(V3e(t.stream())),r),o=null;super({async start(){o=(await n())[Symbol.asyncIterator]()},async pull(i){if(!o)throw new Error("missing blocks iterator");let{value:a,done:s}=await o.next();if(s)return i.close();i.enqueue(a)}}),this.getRoots=async()=>await(await n()).getRoots()}}});var j1=b(()=>{});function Vs(e){return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}var Rf=b(()=>{});function Si(e=0){return Vs(PT.Buffer.alloc(e))}function hl(e=0){return Vs(PT.Buffer.allocUnsafe(e))}var PT,L1=b(()=>{PT=require("node:buffer");Rf()});var hre=b(()=>{L1();Rf()});function W1(e,t){return mre.Buffer.compare(e,t)}var mre,gre=b(()=>{mre=require("node:buffer")});function M1(e,t){return Vs(yre.Buffer.concat(e,t))}var yre,DT=b(()=>{yre=require("node:buffer");Rf()});var AT={};ne(AT,{base10:()=>Z3e});var Z3e,bre=b(()=>{zn();Z3e=Zi({prefix:"9",name:"base10",alphabet:"0123456789"})});var IT={};ne(IT,{base16:()=>Q3e,base16upper:()=>Y3e});var Q3e,Y3e,wre=b(()=>{zn();Q3e=tt({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Y3e=tt({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4})});var kT={};ne(kT,{base2:()=>X3e});var X3e,_re=b(()=>{zn();X3e=tt({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1})});var CT={};ne(CT,{base256emoji:()=>o8e});function r8e(e){return e.reduce((t,r)=>(t+=e8e[r],t),"")}function n8e(e){let t=[];for(let r of e){let n=r.codePointAt(0);if(n==null)throw new Error(`Invalid character: ${r}`);let o=t8e[n];if(o==null)throw new Error(`Non-base256emoji character: ${r}`);t.push(o)}return new Uint8Array(t)}var Sre,e8e,t8e,o8e,Ere=b(()=>{zn();Sre=Array.from("\u{1F680}\u{1FA90}\u2604\u{1F6F0}\u{1F30C}\u{1F311}\u{1F312}\u{1F313}\u{1F314}\u{1F315}\u{1F316}\u{1F317}\u{1F318}\u{1F30D}\u{1F30F}\u{1F30E}\u{1F409}\u2600\u{1F4BB}\u{1F5A5}\u{1F4BE}\u{1F4BF}\u{1F602}\u2764\u{1F60D}\u{1F923}\u{1F60A}\u{1F64F}\u{1F495}\u{1F62D}\u{1F618}\u{1F44D}\u{1F605}\u{1F44F}\u{1F601}\u{1F525}\u{1F970}\u{1F494}\u{1F496}\u{1F499}\u{1F622}\u{1F914}\u{1F606}\u{1F644}\u{1F4AA}\u{1F609}\u263A\u{1F44C}\u{1F917}\u{1F49C}\u{1F614}\u{1F60E}\u{1F607}\u{1F339}\u{1F926}\u{1F389}\u{1F49E}\u270C\u2728\u{1F937}\u{1F631}\u{1F60C}\u{1F338}\u{1F64C}\u{1F60B}\u{1F497}\u{1F49A}\u{1F60F}\u{1F49B}\u{1F642}\u{1F493}\u{1F929}\u{1F604}\u{1F600}\u{1F5A4}\u{1F603}\u{1F4AF}\u{1F648}\u{1F447}\u{1F3B6}\u{1F612}\u{1F92D}\u2763\u{1F61C}\u{1F48B}\u{1F440}\u{1F62A}\u{1F611}\u{1F4A5}\u{1F64B}\u{1F61E}\u{1F629}\u{1F621}\u{1F92A}\u{1F44A}\u{1F973}\u{1F625}\u{1F924}\u{1F449}\u{1F483}\u{1F633}\u270B\u{1F61A}\u{1F61D}\u{1F634}\u{1F31F}\u{1F62C}\u{1F643}\u{1F340}\u{1F337}\u{1F63B}\u{1F613}\u2B50\u2705\u{1F97A}\u{1F308}\u{1F608}\u{1F918}\u{1F4A6}\u2714\u{1F623}\u{1F3C3}\u{1F490}\u2639\u{1F38A}\u{1F498}\u{1F620}\u261D\u{1F615}\u{1F33A}\u{1F382}\u{1F33B}\u{1F610}\u{1F595}\u{1F49D}\u{1F64A}\u{1F639}\u{1F5E3}\u{1F4AB}\u{1F480}\u{1F451}\u{1F3B5}\u{1F91E}\u{1F61B}\u{1F534}\u{1F624}\u{1F33C}\u{1F62B}\u26BD\u{1F919}\u2615\u{1F3C6}\u{1F92B}\u{1F448}\u{1F62E}\u{1F646}\u{1F37B}\u{1F343}\u{1F436}\u{1F481}\u{1F632}\u{1F33F}\u{1F9E1}\u{1F381}\u26A1\u{1F31E}\u{1F388}\u274C\u270A\u{1F44B}\u{1F630}\u{1F928}\u{1F636}\u{1F91D}\u{1F6B6}\u{1F4B0}\u{1F353}\u{1F4A2}\u{1F91F}\u{1F641}\u{1F6A8}\u{1F4A8}\u{1F92C}\u2708\u{1F380}\u{1F37A}\u{1F913}\u{1F619}\u{1F49F}\u{1F331}\u{1F616}\u{1F476}\u{1F974}\u25B6\u27A1\u2753\u{1F48E}\u{1F4B8}\u2B07\u{1F628}\u{1F31A}\u{1F98B}\u{1F637}\u{1F57A}\u26A0\u{1F645}\u{1F61F}\u{1F635}\u{1F44E}\u{1F932}\u{1F920}\u{1F927}\u{1F4CC}\u{1F535}\u{1F485}\u{1F9D0}\u{1F43E}\u{1F352}\u{1F617}\u{1F911}\u{1F30A}\u{1F92F}\u{1F437}\u260E\u{1F4A7}\u{1F62F}\u{1F486}\u{1F446}\u{1F3A4}\u{1F647}\u{1F351}\u2744\u{1F334}\u{1F4A3}\u{1F438}\u{1F48C}\u{1F4CD}\u{1F940}\u{1F922}\u{1F445}\u{1F4A1}\u{1F4A9}\u{1F450}\u{1F4F8}\u{1F47B}\u{1F910}\u{1F92E}\u{1F3BC}\u{1F975}\u{1F6A9}\u{1F34E}\u{1F34A}\u{1F47C}\u{1F48D}\u{1F4E3}\u{1F942}"),e8e=Sre.reduce((e,t,r)=>(e[r]=t,e),[]),t8e=Sre.reduce((e,t,r)=>{let n=t.codePointAt(0);if(n==null)throw new Error(`Invalid character: ${t}`);return e[n]=r,e},[]);o8e=fu({prefix:"\u{1F680}",name:"base256emoji",encode:r8e,decode:n8e})});var TT={};ne(TT,{base8:()=>i8e});var i8e,xre=b(()=>{zn();i8e=tt({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3})});var FT={};ne(FT,{identity:()=>a8e});var a8e,vre=b(()=>{So();zn();a8e=fu({prefix:"\0",name:"identity",encode:e=>hI(e),decode:e=>fI(e)})});var vut,Put,Pre=b(()=>{vut=new TextEncoder,Put=new TextDecoder});var Dre=b(()=>{So()});var OT={};ne(OT,{identity:()=>p8e});function l8e(e){return bs(Are,Ire(e))}var Are,u8e,Ire,p8e,kre=b(()=>{So();ii();Are=0,u8e="identity",Ire=qr;p8e={code:Are,name:u8e,encode:Ire,digest:l8e}});var BT={};ne(BT,{sha256:()=>Bf,sha512:()=>d8e});var RT,Bf,d8e,G1=b(()=>{RT=L(require("crypto"),1);So();Zw();Bf=ws({name:"sha2-256",code:18,encode:e=>qr(RT.default.createHash("sha256").update(e).digest())}),d8e=ws({name:"sha2-512",code:19,encode:e=>qr(RT.default.createHash("sha512").update(e).digest())})});var NT,Tut,Cre=b(()=>{bre();wre();_re();Ere();LI();MI();jw();$3();xre();vre();Pre();Dre();kre();G1();_u();NT={...FT,...kT,...TT,...AT,...IT,...jI,...WI,...GI,...G3,...CT},Tut={...BT,...OT}});function Fre(e,t,r,n){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:n}}}var Tre,UT,But,qT=b(()=>{Cre();L1();Tre=Fre("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>new TextEncoder().encode(e.substring(1))),UT=Fre("ascii","a",e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},e=>{e=e.substring(1);let t=hl(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}),But={utf8:Tre,"utf-8":Tre,hex:NT.base16,latin1:UT,ascii:UT,binary:UT,...NT}});var Ore=b(()=>{qT();Rf()});var Rre=b(()=>{qT()});var Bre=b(()=>{Ad();hre();gre();DT();Ore();Rre()});var Nre,$1,Ei,jT=b(()=>{j1();jw();Nre=new WeakMap,$1=e=>{let t=Nre.get(e.bytes);return t||(t=pn.encode(e.bytes),Nre.set(e.bytes,t)),t},Ei=class{#e;constructor(t){this.#e=new Map;for(let[r,n]of t??[])this.set(r,n)}get[Symbol.toStringTag](){return"DigestMap"}clear(){this.#e.clear()}delete(t){let r=$1(t);return this.#e.delete(r)}forEach(t,r){for(let[n,o]of this.#e.values())t.call(r,o,n,this)}get(t){let r=this.#e.get($1(t));if(r)return r[1]}has(t){return this.#e.has($1(t))}set(t,r){return this.#e.set($1(t),[t,r]),this}get size(){return this.#e.size}[Symbol.iterator](){return this.entries()}*entries(){yield*this.#e.values()}*keys(){for(let[t]of this.#e.values())yield t}*values(){for(let[,t]of this.#e.values())yield t}}});var qre,alt,Ure,slt,LT,jre,h8e,WT=b(()=>{j1();yr();Bre();$r();ii();Gw();G1();jT();qre="index/sharded/dag@0.1",alt=j.variant({[qre]:j.struct({content:j.link(),shards:j.array(j.link())})}),Ure=j.bytes(),slt=j.tuple([Ure,j.array(j.tuple([Ure,j.tuple([j.number(),j.number()])]))]),LT=class{#e;#t;constructor(t){this.#e=t,this.#t=new Ei}get content(){return this.#e}get shards(){return this.#t}setSlice(t,r,n){let o=this.#t.get(t);o||(o=new Ei,this.#t.set(t,o)),o.set(r,n)}archive(){return h8e(this)}},jre=e=>new LT(e),h8e=async e=>{let t=new Map,r=[...e.shards.entries()].sort((s,u)=>W1(s[0].digest,u[0].digest)),n={content:e.content,shards:[]};for(let s of r){let u=[...s[1].entries()].sort((w,m)=>W1(w[0].digest,m[0].digest)).map(w=>[w[0].bytes,w[1]]),c=Kt([s[0].bytes,u]),l=await Bf.digest(c),d=bu(Po,l);t.set(d.toString(),{cid:d,bytes:c}),n.shards.push(d)}let o=Kt({[qre]:n}),i=await Bf.digest(o),a=bu(Po,i);return be(Ye.encode({roots:[{cid:a,bytes:o}],blocks:t}))}});function Lre(e,t){if(t==null||t<0)throw new RangeError("index is out of bounds");let r=0;for(let n of e){let o=r+n.byteLength;if(t<o)return{buf:n,index:t-r};r=o}throw new RangeError("index is out of bounds")}function z1(e){return!!e?.[Wre]}var Wre,H1,Mre=b(()=>{L1();DT();Ad();Wre=Symbol.for("@achingbrain/uint8arraylist");H1=class e{bufs;length;[Wre]=!0;constructor(...t){this.bufs=[],this.length=0,t.length>0&&this.appendAll(t)}*[Symbol.iterator](){yield*this.bufs}get byteLength(){return this.length}append(...t){this.appendAll(t)}appendAll(t){let r=0;for(let n of t)if(n instanceof Uint8Array)r+=n.byteLength,this.bufs.push(n);else if(z1(n))r+=n.byteLength,this.bufs.push(...n.bufs);else throw new Error("Could not append value, must be an Uint8Array or a Uint8ArrayList");this.length+=r}prepend(...t){this.prependAll(t)}prependAll(t){let r=0;for(let n of t.reverse())if(n instanceof Uint8Array)r+=n.byteLength,this.bufs.unshift(n);else if(z1(n))r+=n.byteLength,this.bufs.unshift(...n.bufs);else throw new Error("Could not prepend value, must be an Uint8Array or a Uint8ArrayList");this.length+=r}get(t){let r=Lre(this.bufs,t);return r.buf[r.index]}set(t,r){let n=Lre(this.bufs,t);n.buf[n.index]=r}write(t,r=0){if(t instanceof Uint8Array)for(let n=0;n<t.length;n++)this.set(r+n,t[n]);else if(z1(t))for(let n=0;n<t.length;n++)this.set(r+n,t.get(n));else throw new Error("Could not write value, must be an Uint8Array or a Uint8ArrayList")}consume(t){if(t=Math.trunc(t),!(Number.isNaN(t)||t<=0)){if(t===this.byteLength){this.bufs=[],this.length=0;return}for(;this.bufs.length>0;)if(t>=this.bufs[0].byteLength)t-=this.bufs[0].byteLength,this.length-=this.bufs[0].byteLength,this.bufs.shift();else{this.bufs[0]=this.bufs[0].subarray(t),this.length-=t;break}}}slice(t,r){let{bufs:n,length:o}=this._subList(t,r);return M1(n,o)}subarray(t,r){let{bufs:n,length:o}=this._subList(t,r);return n.length===1?n[0]:M1(n,o)}sublist(t,r){let{bufs:n,length:o}=this._subList(t,r),i=new e;return i.length=o,i.bufs=[...n],i}_subList(t,r){if(t=t??0,r=r??this.length,t<0&&(t=this.length+t),r<0&&(r=this.length+r),t<0||r>this.length)throw new RangeError("index is out of bounds");if(t===r)return{bufs:[],length:0};if(t===0&&r===this.length)return{bufs:this.bufs,length:this.length};let n=[],o=0;for(let i=0;i<this.bufs.length;i++){let a=this.bufs[i],s=o,u=s+a.byteLength;if(o=u,t>=u)continue;let c=t>=s&&t<u,l=r>s&&r<=u;if(c&&l){if(t===s&&r===u){n.push(a);break}let d=t-s;n.push(a.subarray(d,d+(r-t)));break}if(c){if(t===0){n.push(a);continue}n.push(a.subarray(t-s));continue}if(l){if(r===u){n.push(a);break}n.push(a.subarray(0,r-s));break}n.push(a)}return{bufs:n,length:r-t}}indexOf(t,r=0){if(!z1(t)&&!(t instanceof Uint8Array))throw new TypeError('The "value" argument must be a Uint8ArrayList or Uint8Array');let n=t instanceof Uint8Array?t:t.subarray();if(r=Number(r??0),isNaN(r)&&(r=0),r<0&&(r=this.length+r),r<0&&(r=0),t.length===0)return r>this.length?this.length:r;let o=n.byteLength;if(o===0)throw new TypeError("search must be at least 1 byte long");let i=256,a=new Int32Array(i);for(let d=0;d<i;d++)a[d]=-1;for(let d=0;d<o;d++)a[n[d]]=d;let s=a,u=this.byteLength-n.byteLength,c=n.byteLength-1,l;for(let d=r;d<=u;d+=l){l=0;for(let w=c;w>=0;w--){let m=this.get(d+w);if(n[w]!==m){l=Math.max(1,w-s[m]);break}}if(l===0)return d}return-1}getInt8(t){let r=this.subarray(t,t+1);return new DataView(r.buffer,r.byteOffset,r.byteLength).getInt8(0)}setInt8(t,r){let n=hl(1);new DataView(n.buffer,n.byteOffset,n.byteLength).setInt8(0,r),this.write(n,t)}getInt16(t,r){let n=this.subarray(t,t+2);return new DataView(n.buffer,n.byteOffset,n.byteLength).getInt16(0,r)}setInt16(t,r,n){let o=Si(2);new DataView(o.buffer,o.byteOffset,o.byteLength).setInt16(0,r,n),this.write(o,t)}getInt32(t,r){let n=this.subarray(t,t+4);return new DataView(n.buffer,n.byteOffset,n.byteLength).getInt32(0,r)}setInt32(t,r,n){let o=Si(4);new DataView(o.buffer,o.byteOffset,o.byteLength).setInt32(0,r,n),this.write(o,t)}getBigInt64(t,r){let n=this.subarray(t,t+8);return new DataView(n.buffer,n.byteOffset,n.byteLength).getBigInt64(0,r)}setBigInt64(t,r,n){let o=Si(8);new DataView(o.buffer,o.byteOffset,o.byteLength).setBigInt64(0,r,n),this.write(o,t)}getUint8(t){let r=this.subarray(t,t+1);return new DataView(r.buffer,r.byteOffset,r.byteLength).getUint8(0)}setUint8(t,r){let n=hl(1);new DataView(n.buffer,n.byteOffset,n.byteLength).setUint8(0,r),this.write(n,t)}getUint16(t,r){let n=this.subarray(t,t+2);return new DataView(n.buffer,n.byteOffset,n.byteLength).getUint16(0,r)}setUint16(t,r,n){let o=Si(2);new DataView(o.buffer,o.byteOffset,o.byteLength).setUint16(0,r,n),this.write(o,t)}getUint32(t,r){let n=this.subarray(t,t+4);return new DataView(n.buffer,n.byteOffset,n.byteLength).getUint32(0,r)}setUint32(t,r,n){let o=Si(4);new DataView(o.buffer,o.byteOffset,o.byteLength).setUint32(0,r,n),this.write(o,t)}getBigUint64(t,r){let n=this.subarray(t,t+8);return new DataView(n.buffer,n.byteOffset,n.byteLength).getBigUint64(0,r)}setBigUint64(t,r,n){let o=Si(8);new DataView(o.buffer,o.byteOffset,o.byteLength).setBigUint64(0,r,n),this.write(o,t)}getFloat32(t,r){let n=this.subarray(t,t+4);return new DataView(n.buffer,n.byteOffset,n.byteLength).getFloat32(0,r)}setFloat32(t,r,n){let o=Si(4);new DataView(o.buffer,o.byteOffset,o.byteLength).setFloat32(0,r,n),this.write(o,t)}getFloat64(t,r){let n=this.subarray(t,t+8);return new DataView(n.buffer,n.byteOffset,n.byteLength).getFloat64(0,r)}setFloat64(t,r,n){let o=Si(8);new DataView(o.buffer,o.byteOffset,o.byteLength).setFloat64(0,r,n),this.write(o,t)}equals(t){if(t==null||!(t instanceof e)||t.bufs.length!==this.bufs.length)return!1;for(let r=0;r<this.bufs.length;r++)if(!mi(this.bufs[r],t.bufs[r]))return!1;return!0}static fromUint8Arrays(t,r){let n=new e;return n.bufs=t,r==null&&(r=t.reduce((o,i)=>o+i.byteLength,0)),n.length=r,n}}});var g8e,MT,Zs,GT=b(()=>{g8e=Math.pow(2,31),MT=e=>{let t=[],r=0;for(;e>=g8e;)t[r++]=e&255|128,e/=128;for(;e&-128;)t[r++]=e&255|128,e>>>=7;return t[r]=e|0,t},Zs=(e,t)=>{let r=0;t=t||0;let n=0,o=t,i,a=e.length;do{if(o>=a||n>49)throw new RangeError("Could not decode varint");i=e.get(o++),r+=n<28?(i&127)<<n:(i&127)*Math.pow(2,n),n+=7}while(i>=128);return[r,o-t]}});var Bo,Gre,K1,y8e,$re=b(()=>{Mre();$r();ii();Gw();GT();Bo={ReadHeaderLength:0,ReadHeader:1,ReadBlockLength:2,ReadBlock:3},Gre={SHA2_256:18,LENGTH:32,DAG_PB:112},K1=class extends TransformStream{#e;constructor(t,r){let n=new H1,o=0,i=o,a=8,s=Bo.ReadHeaderLength,u,c=new Promise(l=>{u=l});super({transform(l,d){for(n.append(l);!(n.length<a);)if(s===Bo.ReadHeaderLength){let[w,m]=Zs(n);n.consume(m),i=o,o+=m,s=Bo.ReadHeader,a=w}else if(s===Bo.ReadHeader){let w=Jt(n.slice(0,a));u&&u(w),n.consume(a),i=o,o+=a,s=Bo.ReadBlockLength,a=8}else if(s===Bo.ReadBlockLength){let[w,m]=Zs(n);n.consume(m),i=o,o+=m,s=Bo.ReadBlock,a=w}else if(s===Bo.ReadBlock){let w=i,m=o-i+a;i=o;let p;if(n.get(0)===Gre.SHA2_256&&n.get(1)===Gre.LENGTH){let h=n.subarray(0,34),y=dn(h);p=LJ(y),n.consume(34),o+=34}else{let[h,y]=Zs(n);if(h!==1)throw new Error(`unexpected CID version (${h})`);n.consume(y),o+=y;let[_,S]=Zs(n);n.consume(S),o+=S;let x=y8e(n),A=dn(n.subarray(0,x));p=bu(_,A),n.consume(x),o+=x}let f=a-(o-i),g=n.subarray(0,f);d.enqueue({cid:p,bytes:g,offset:w,length:m,blockOffset:o,blockLength:f}),n.consume(f),i=o,o+=f,s=Bo.ReadBlockLength,a=8}},flush(l){s!==Bo.ReadBlockLength&&l.error(new Error("unexpected end of data"))}},t,r??new CountQueuingStrategy({highWaterMark:1})),this.#e=c}getHeader(){return this.#e}},y8e=e=>{let[,t]=Zs(e),[r,n]=Zs(e,t);return t+n+r}});var b8e,w8e,$T,zre=b(()=>{$r();GT();b8e=e=>{let t=Kt({version:1,roots:e}),r=MT(t.length),n=new Uint8Array(r.length+t.length);return n.set(r,0),n.set(t,r.length),n},w8e=e=>{let t=MT(e.cid.bytes.length+e.bytes.length),r=new Uint8Array(t.length+e.cid.bytes.length+e.bytes.length);return r.set(t),r.set(e.cid.bytes,t.length),r.set(e.bytes,t.length+e.cid.bytes.length),r},$T=class extends TransformStream{constructor(t=[],r,n){super({start:o=>o.enqueue(b8e(t)),transform:(o,i)=>i.enqueue(w8e(o))},r,n)}}});var Hre=b(()=>{$re();zre()});async function zT(e,t,r){let n=jre(e);for(let[o,i]of t.entries()){let a=r[o];n.shards.set(i.multihash,a)}return await n.archive()}var Kre=b(()=>{Hre();G1();j1();WT()});var HT=b(()=>{WT();jT();Kre()});function S8e(e,t,r){let n=r(e),o=r(t);return n===o?0:n<o?-1:1}var _8e,Uf,KT,Nf,JT=b(()=>{HT();vT();_8e=133169152,Uf=class extends TransformStream{constructor(t={}){let r=t.shardSize??_8e,n=r-fl(),o=[],i=null,a=new Ei,s=null,u=0;super({async transform(c,l){i!=null&&s!=null&&(l.enqueue(await Nf(i,s)),i=null,s=null);let d=Of(c),w=d+c.bytes.length;if(w>n)throw new Error(`block will cause CAR to exceed shard size: ${c.cid}`);o.length&&u+w>n&&(i=o,s=a,o=[],a=new Ei,u=0),o.push(c),a.set(c.cid.multihash,[fl()+u+d,c.bytes.length]),u+=w},async flush(c){i!=null&&s!=null&&c.enqueue(await Nf(i,s));let l=o.at(-1);if(l==null)return;let d=t.rootCID??l.cid,w=fl(d);if(w+u>r){let m=w+u-r,p=[],f=0;for(;f<m;){let h=o[o.length-1];if(o.pop(),a.delete(h.cid.multihash),p.unshift(h),f+=ST(h),o.length<1)throw new Error(`block will cause CAR to exceed shard size: ${h.cid}`)}c.enqueue(await Nf(o,a)),f=0;let g=new Ei;for(let h of o){let y=Of(h);g.set(h.cid.multihash,[w+f+y,h.bytes.length]),f+=y+h.bytes.length}c.enqueue(await Nf(p,g,d))}else{let m=w-fl();for(let p of a.values())p[0]+=m;c.enqueue(await Nf(o,a,d))}}})}},KT=(e,t,r=n=>n.name)=>S8e(e,t,r);Nf=async(e,t,r)=>Object.assign(await ET(e,r),{slices:t})});var ml={};ne(ml,{Blob:()=>j4,CAR:()=>xT,Index:()=>M4,Receipt:()=>B4,ShardingStream:()=>Uf,Store:()=>Vk,UnixFS:()=>Js,Upload:()=>z4,defaultFileComparator:()=>KT,receiptsEndpoint:()=>a0,uploadCAR:()=>v8e,uploadDirectory:()=>x8e,uploadFile:()=>E8e});async function E8e(e,t,r={}){return await VT(e,T1(t,r),r)}async function x8e(e,t,r={}){let{customOrder:n=!1}=r,o=n?t:[...t].sort(KT);return await VT(e,F1(o,r),r)}async function v8e(e,t,r={}){let n=new Ff(t);return r.rootCID=r.rootCID??(await n.getRoots())[0],await VT(e,n,r)}async function VT(e,t,{pieceHasher:r=s3,...n}={}){let o=typeof e=="function"?e:()=>e,i=[],a=[],s=null;if(await t.pipeThrough(new Uf(n)).pipeThrough(new TransformStream({async transform(p,f){let g=new Uint8Array(await p.arrayBuffer()),h=await Hk.digest(g),y=await o([{can:U4,nb:j0(h,g.length)}]);await Jd(y,h,g,n);let _=Nd(q1,h),S;if(r){let U=await r.digest(g);S=Nd(r0,U);let B=Nd(r0,h),O=await e0.filecoinOffer({issuer:y.issuer,audience:y.audience,with:y.issuer.did(),proofs:y.proofs},B,S,n);if(O.out.error)throw new Error("failed to offer piece for aggregation into filecoin deal",{cause:O.out.error})}let{version:x,roots:A,size:D,slices:P}=p;f.enqueue({version:x,roots:A,size:D,cid:_,piece:S,slices:P})}})).pipeTo(new WritableStream({write(p){s=s||p.roots[0],a.push(p.cid),p.slices.set(p.cid.multihash,[0,p.size]),i.push(p.slices),n.onShardStored&&n.onShardStored(p)}})),!s)throw new Error("missing root CID");let u=await zT(s,a,i);if(!u.ok)throw new Error("failed to archive DAG index",{cause:u.error});let c=await Hk.digest(u.ok),l=Nd(q1,c),[d,w,m]=await Promise.all([o([{can:U4,nb:j0(c,u.ok.length)}]),o([{can:oX,nb:L4(l)}]),o([{can:aX,nb:G4(s,a)}])]);return await Jd(d,c,u.ok,n),await W0(w,l,n),await $0(m,s,a,n),s}var Qs=b(()=>{mV();vQ();MQ();Mk();$Q();XQ();rX();q4();iX();W4();fX();$4();Yte();vT();JT();HT();JT();Vr();N4()});var XT=E(YT=>{"use strict";Object.defineProperty(YT,"__esModule",{value:!0});var k8e=require("crypto"),C8e=(e,t)=>(0,k8e.createHash)(e).update(t).digest();YT.default=C8e});var ot=E(St=>{"use strict";Object.defineProperty(St,"__esModule",{value:!0});St.concatKdf=St.lengthAndInput=St.uint32be=St.uint64be=St.p2s=St.concat=St.decoder=St.encoder=void 0;var T8e=XT();St.encoder=new TextEncoder;St.decoder=new TextDecoder;var cS=2**32;function t6(...e){let t=e.reduce((o,{length:i})=>o+i,0),r=new Uint8Array(t),n=0;return e.forEach(o=>{r.set(o,n),n+=o.length}),r}St.concat=t6;function F8e(e,t){return t6(St.encoder.encode(e),new Uint8Array([0]),t)}St.p2s=F8e;function e6(e,t,r){if(t<0||t>=cS)throw new RangeError(`value must be >= 0 and <= ${cS-1}. Received ${t}`);e.set([t>>>24,t>>>16,t>>>8,t&255],r)}function O8e(e){let t=Math.floor(e/cS),r=e%cS,n=new Uint8Array(8);return e6(n,t,0),e6(n,r,4),n}St.uint64be=O8e;function r6(e){let t=new Uint8Array(4);return e6(t,e),t}St.uint32be=r6;function R8e(e){return t6(r6(e.length),e)}St.lengthAndInput=R8e;async function B8e(e,t,r){let n=Math.ceil((t>>3)/32),o=new Uint8Array(n*32);for(let i=0;i<n;i++){let a=new Uint8Array(4+e.length+r.length);a.set(r6(i+1)),a.set(e,4),a.set(r,4+e.length),o.set(await(0,T8e.default)("sha256",a),i*32)}return o.slice(0,t>>3)}St.concatKdf=B8e});var Xt=E(En=>{"use strict";Object.defineProperty(En,"__esModule",{value:!0});En.decode=En.encode=En.encodeBase64=En.decodeBase64=void 0;var gl=require("buffer"),N8e=ot(),n6;En.encode=n6;function U8e(e){let t=e;return t instanceof Uint8Array&&(t=N8e.decoder.decode(t)),t}gl.Buffer.isEncoding("base64url")?En.encode=n6=e=>gl.Buffer.from(e).toString("base64url"):En.encode=n6=e=>gl.Buffer.from(e).toString("base64").replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_");var q8e=e=>gl.Buffer.from(e,"base64");En.decodeBase64=q8e;var j8e=e=>gl.Buffer.from(e).toString("base64");En.encodeBase64=j8e;var L8e=e=>gl.Buffer.from(U8e(e),"base64");En.decode=L8e});var De=E(Me=>{"use strict";Object.defineProperty(Me,"__esModule",{value:!0});Me.JWSSignatureVerificationFailed=Me.JWKSTimeout=Me.JWKSMultipleMatchingKeys=Me.JWKSNoMatchingKey=Me.JWKSInvalid=Me.JWKInvalid=Me.JWTInvalid=Me.JWSInvalid=Me.JWEInvalid=Me.JWEDecryptionFailed=Me.JOSENotSupported=Me.JOSEAlgNotAllowed=Me.JWTExpired=Me.JWTClaimValidationFailed=Me.JOSEError=void 0;var Wt=class extends Error{static get code(){return"ERR_JOSE_GENERIC"}constructor(t){var r;super(t),this.code="ERR_JOSE_GENERIC",this.name=this.constructor.name,(r=Error.captureStackTrace)===null||r===void 0||r.call(Error,this,this.constructor)}};Me.JOSEError=Wt;var o6=class extends Wt{static get code(){return"ERR_JWT_CLAIM_VALIDATION_FAILED"}constructor(t,r="unspecified",n="unspecified"){super(t),this.code="ERR_JWT_CLAIM_VALIDATION_FAILED",this.claim=r,this.reason=n}};Me.JWTClaimValidationFailed=o6;var i6=class extends Wt{static get code(){return"ERR_JWT_EXPIRED"}constructor(t,r="unspecified",n="unspecified"){super(t),this.code="ERR_JWT_EXPIRED",this.claim=r,this.reason=n}};Me.JWTExpired=i6;var a6=class extends Wt{constructor(){super(...arguments),this.code="ERR_JOSE_ALG_NOT_ALLOWED"}static get code(){return"ERR_JOSE_ALG_NOT_ALLOWED"}};Me.JOSEAlgNotAllowed=a6;var s6=class extends Wt{constructor(){super(...arguments),this.code="ERR_JOSE_NOT_SUPPORTED"}static get code(){return"ERR_JOSE_NOT_SUPPORTED"}};Me.JOSENotSupported=s6;var c6=class extends Wt{constructor(){super(...arguments),this.code="ERR_JWE_DECRYPTION_FAILED",this.message="decryption operation failed"}static get code(){return"ERR_JWE_DECRYPTION_FAILED"}};Me.JWEDecryptionFailed=c6;var u6=class extends Wt{constructor(){super(...arguments),this.code="ERR_JWE_INVALID"}static get code(){return"ERR_JWE_INVALID"}};Me.JWEInvalid=u6;var l6=class extends Wt{constructor(){super(...arguments),this.code="ERR_JWS_INVALID"}static get code(){return"ERR_JWS_INVALID"}};Me.JWSInvalid=l6;var p6=class extends Wt{constructor(){super(...arguments),this.code="ERR_JWT_INVALID"}static get code(){return"ERR_JWT_INVALID"}};Me.JWTInvalid=p6;var d6=class extends Wt{constructor(){super(...arguments),this.code="ERR_JWK_INVALID"}static get code(){return"ERR_JWK_INVALID"}};Me.JWKInvalid=d6;var f6=class extends Wt{constructor(){super(...arguments),this.code="ERR_JWKS_INVALID"}static get code(){return"ERR_JWKS_INVALID"}};Me.JWKSInvalid=f6;var h6=class extends Wt{constructor(){super(...arguments),this.code="ERR_JWKS_NO_MATCHING_KEY",this.message="no applicable key found in the JSON Web Key Set"}static get code(){return"ERR_JWKS_NO_MATCHING_KEY"}};Me.JWKSNoMatchingKey=h6;var m6=class extends Wt{constructor(){super(...arguments),this.code="ERR_JWKS_MULTIPLE_MATCHING_KEYS",this.message="multiple matching keys found in the JSON Web Key Set"}static get code(){return"ERR_JWKS_MULTIPLE_MATCHING_KEYS"}};Me.JWKSMultipleMatchingKeys=m6;var g6=class extends Wt{constructor(){super(...arguments),this.code="ERR_JWKS_TIMEOUT",this.message="request timed out"}static get code(){return"ERR_JWKS_TIMEOUT"}};Me.JWKSTimeout=g6;var y6=class extends Wt{constructor(){super(...arguments),this.code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED",this.message="signature verification failed"}static get code(){return"ERR_JWS_SIGNATURE_VERIFICATION_FAILED"}};Me.JWSSignatureVerificationFailed=y6});var Lf=E(uS=>{"use strict";Object.defineProperty(uS,"__esModule",{value:!0});uS.default=void 0;var W8e=require("crypto");Object.defineProperty(uS,"default",{enumerable:!0,get:function(){return W8e.randomFillSync}})});var lS=E(Wf=>{"use strict";Object.defineProperty(Wf,"__esModule",{value:!0});Wf.bitLength=void 0;var M8e=De(),G8e=Lf();function cne(e){switch(e){case"A128GCM":case"A128GCMKW":case"A192GCM":case"A192GCMKW":case"A256GCM":case"A256GCMKW":return 96;case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return 128;default:throw new M8e.JOSENotSupported(`Unsupported JWE Algorithm: ${e}`)}}Wf.bitLength=cne;Wf.default=e=>(0,G8e.default)(new Uint8Array(cne(e)>>3))});var w6=E(b6=>{"use strict";Object.defineProperty(b6,"__esModule",{value:!0});var $8e=De(),z8e=lS(),H8e=(e,t)=>{if(t.length<<3!==(0,z8e.bitLength)(e))throw new $8e.JWEInvalid("Invalid Initialization Vector length")};b6.default=H8e});var xn=E(_6=>{"use strict";Object.defineProperty(_6,"__esModule",{value:!0});var K8e=require("crypto"),une=require("util");_6.default=une.types.isKeyObject?e=>une.types.isKeyObject(e):e=>e!=null&&e instanceof K8e.KeyObject});var x6=E(E6=>{"use strict";Object.defineProperty(E6,"__esModule",{value:!0});var S6=De(),J8e=xn(),V8e=(e,t)=>{let r;switch(e){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":r=parseInt(e.slice(-3),10);break;case"A128GCM":case"A192GCM":case"A256GCM":r=parseInt(e.slice(1,4),10);break;default:throw new S6.JOSENotSupported(`Content Encryption Algorithm ${e} is not supported either by JOSE or your javascript runtime`)}if(t instanceof Uint8Array){let n=t.byteLength<<3;if(n!==r)throw new S6.JWEInvalid(`Invalid Content Encryption Key length. Expected ${r} bits, got ${n} bits`);return}if((0,J8e.default)(t)&&t.type==="secret"){let n=t.symmetricKeySize<<3;if(n!==r)throw new S6.JWEInvalid(`Invalid Content Encryption Key length. Expected ${r} bits, got ${n} bits`);return}throw new TypeError("Invalid Content Encryption Key type")};E6.default=V8e});var lne=E(v6=>{"use strict";Object.defineProperty(v6,"__esModule",{value:!0});var Z8e=require("crypto"),Q8e=Z8e.timingSafeEqual;v6.default=Q8e});var D6=E(P6=>{"use strict";Object.defineProperty(P6,"__esModule",{value:!0});var Y8e=require("crypto"),pne=ot();function X8e(e,t,r,n,o,i){let a=(0,pne.concat)(e,t,r,(0,pne.uint64be)(e.length<<3)),s=(0,Y8e.createHmac)(`sha${n}`,o);return s.update(a),s.digest().slice(0,i>>3)}P6.default=X8e});var vn=E(Mf=>{"use strict";Object.defineProperty(Mf,"__esModule",{value:!0});Mf.isCryptoKey=void 0;var eke=require("crypto"),dne=require("util"),tke=eke.webcrypto;Mf.default=tke;Mf.isCryptoKey=dne.types.isCryptoKey?e=>dne.types.isCryptoKey(e):e=>!1});var A6=E(pS=>{"use strict";Object.defineProperty(pS,"__esModule",{value:!0});pS.isCloudflareWorkers=void 0;function rke(){return!1}pS.isCloudflareWorkers=rke});var ka=E(yl=>{"use strict";Object.defineProperty(yl,"__esModule",{value:!0});yl.checkEncCryptoKey=yl.checkSigCryptoKey=void 0;var nke=A6();function Ft(e,t="algorithm.name"){return new TypeError(`CryptoKey does not support this operation, its ${t} must be ${e}`)}function xi(e,t){return e.name===t}function dS(e){return parseInt(e.name.slice(4),10)}function oke(e){switch(e){case"ES256":return"P-256";case"ES384":return"P-384";case"ES512":return"P-521";default:throw new Error("unreachable")}}function fne(e,t){if(t.length&&!t.some(r=>e.usages.includes(r))){let r="CryptoKey does not support this operation, its usages must include ";if(t.length>2){let n=t.pop();r+=`one of ${t.join(", ")}, or ${n}.`}else t.length===2?r+=`one of ${t[0]} or ${t[1]}.`:r+=`${t[0]}.`;throw new TypeError(r)}}function ike(e,t,...r){switch(t){case"HS256":case"HS384":case"HS512":{if(!xi(e.algorithm,"HMAC"))throw Ft("HMAC");let n=parseInt(t.slice(2),10);if(dS(e.algorithm.hash)!==n)throw Ft(`SHA-${n}`,"algorithm.hash");break}case"RS256":case"RS384":case"RS512":{if(!xi(e.algorithm,"RSASSA-PKCS1-v1_5"))throw Ft("RSASSA-PKCS1-v1_5");let n=parseInt(t.slice(2),10);if(dS(e.algorithm.hash)!==n)throw Ft(`SHA-${n}`,"algorithm.hash");break}case"PS256":case"PS384":case"PS512":{if(!xi(e.algorithm,"RSA-PSS"))throw Ft("RSA-PSS");let n=parseInt(t.slice(2),10);if(dS(e.algorithm.hash)!==n)throw Ft(`SHA-${n}`,"algorithm.hash");break}case((0,nke.isCloudflareWorkers)()&&"EdDSA"):{if(!xi(e.algorithm,"NODE-ED25519"))throw Ft("NODE-ED25519");break}case"EdDSA":{if(e.algorithm.name!=="Ed25519"&&e.algorithm.name!=="Ed448")throw Ft("Ed25519 or Ed448");break}case"ES256":case"ES384":case"ES512":{if(!xi(e.algorithm,"ECDSA"))throw Ft("ECDSA");let n=oke(t);if(e.algorithm.namedCurve!==n)throw Ft(n,"algorithm.namedCurve");break}default:throw new TypeError("CryptoKey does not support this operation")}fne(e,r)}yl.checkSigCryptoKey=ike;function ake(e,t,...r){switch(t){case"A128GCM":case"A192GCM":case"A256GCM":{if(!xi(e.algorithm,"AES-GCM"))throw Ft("AES-GCM");let n=parseInt(t.slice(1,4),10);if(e.algorithm.length!==n)throw Ft(n,"algorithm.length");break}case"A128KW":case"A192KW":case"A256KW":{if(!xi(e.algorithm,"AES-KW"))throw Ft("AES-KW");let n=parseInt(t.slice(1,4),10);if(e.algorithm.length!==n)throw Ft(n,"algorithm.length");break}case"ECDH":{switch(e.algorithm.name){case"ECDH":case"X25519":case"X448":break;default:throw Ft("ECDH, X25519, or X448")}break}case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":if(!xi(e.algorithm,"PBKDF2"))throw Ft("PBKDF2");break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":{if(!xi(e.algorithm,"RSA-OAEP"))throw Ft("RSA-OAEP");let n=parseInt(t.slice(9),10)||1;if(dS(e.algorithm.hash)!==n)throw Ft(`SHA-${n}`,"algorithm.hash");break}default:throw new TypeError("CryptoKey does not support this operation")}fne(e,r)}yl.checkEncCryptoKey=ake});var Pn=E(Gf=>{"use strict";Object.defineProperty(Gf,"__esModule",{value:!0});Gf.withAlg=void 0;function hne(e,t,...r){if(r.length>2){let n=r.pop();e+=`one of type ${r.join(", ")}, or ${n}.`}else r.length===2?e+=`one of type ${r[0]} or ${r[1]}.`:e+=`of type ${r[0]}.`;return t==null?e+=` Received ${t}`:typeof t=="function"&&t.name?e+=` Received function ${t.name}`:typeof t=="object"&&t!=null&&t.constructor&&t.constructor.name&&(e+=` Received an instance of ${t.constructor.name}`),e}Gf.default=(e,...t)=>hne("Key must be ",e,...t);function ske(e,t,...r){return hne(`Key for the ${e} algorithm must be `,t,...r)}Gf.withAlg=ske});var fS=E(k6=>{"use strict";Object.defineProperty(k6,"__esModule",{value:!0});var cke=require("crypto"),I6;k6.default=e=>(I6||(I6=new Set((0,cke.getCiphers)())),I6.has(e))});var Dn=E($f=>{"use strict";Object.defineProperty($f,"__esModule",{value:!0});$f.types=void 0;var hS=vn(),uke=xn();$f.default=e=>(0,uke.default)(e)||(0,hS.isCryptoKey)(e);var mne=["KeyObject"];$f.types=mne;(globalThis.CryptoKey||!(hS.default===null||hS.default===void 0)&&hS.default.CryptoKey)&&mne.push("CryptoKey")});var F6=E(T6=>{"use strict";Object.defineProperty(T6,"__esModule",{value:!0});var C6=require("crypto"),lke=w6(),pke=x6(),dke=ot(),bl=De(),fke=lne(),hke=D6(),mke=vn(),gke=ka(),gne=xn(),yke=Pn(),yne=fS(),bke=Dn();function wke(e,t,r,n,o,i){let a=parseInt(e.slice(1,4),10);(0,gne.default)(t)&&(t=t.export());let s=t.subarray(a>>3),u=t.subarray(0,a>>3),c=parseInt(e.slice(-3),10),l=`aes-${a}-cbc`;if(!(0,yne.default)(l))throw new bl.JOSENotSupported(`alg ${e} is not supported by your javascript runtime`);let d=(0,hke.default)(i,n,r,c,u,a),w;try{w=(0,fke.default)(o,d)}catch{}if(!w)throw new bl.JWEDecryptionFailed;let m;try{let p=(0,C6.createDecipheriv)(l,s,n);m=(0,dke.concat)(p.update(r),p.final())}catch{}if(!m)throw new bl.JWEDecryptionFailed;return m}function _ke(e,t,r,n,o,i){let s=`aes-${parseInt(e.slice(1,4),10)}-gcm`;if(!(0,yne.default)(s))throw new bl.JOSENotSupported(`alg ${e} is not supported by your javascript runtime`);try{let u=(0,C6.createDecipheriv)(s,t,n,{authTagLength:16});u.setAuthTag(o),i.byteLength&&u.setAAD(i,{plaintextLength:r.length});let c=u.update(r);return u.final(),c}catch{throw new bl.JWEDecryptionFailed}}var Ske=(e,t,r,n,o,i)=>{let a;if((0,mke.isCryptoKey)(t))(0,gke.checkEncCryptoKey)(t,e,"decrypt"),a=C6.KeyObject.from(t);else if(t instanceof Uint8Array||(0,gne.default)(t))a=t;else throw new TypeError((0,yke.default)(t,...bke.types,"Uint8Array"));switch((0,pke.default)(e,a),(0,lke.default)(e,n),e){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return wke(e,a,r,n,o,i);case"A128GCM":case"A192GCM":case"A256GCM":return _ke(e,a,r,n,o,i);default:throw new bl.JOSENotSupported("Unsupported JWE Content Encryption Algorithm")}};T6.default=Ske});var O6=E(wl=>{"use strict";Object.defineProperty(wl,"__esModule",{value:!0});wl.deflate=wl.inflate=void 0;var bne=require("util"),wne=require("zlib"),Eke=(0,bne.promisify)(wne.inflateRaw),xke=(0,bne.promisify)(wne.deflateRaw),vke=e=>Eke(e);wl.inflate=vke;var Pke=e=>xke(e);wl.deflate=Pke});var _l=E(R6=>{"use strict";Object.defineProperty(R6,"__esModule",{value:!0});var Dke=(...e)=>{let t=e.filter(Boolean);if(t.length===0||t.length===1)return!0;let r;for(let n of t){let o=Object.keys(n);if(!r||r.size===0){r=new Set(o);continue}for(let i of o){if(r.has(i))return!1;r.add(i)}}return!0};R6.default=Dke});var xr=E(B6=>{"use strict";Object.defineProperty(B6,"__esModule",{value:!0});function Ake(e){return typeof e=="object"&&e!==null}function Ike(e){if(!Ake(e)||Object.prototype.toString.call(e)!=="[object Object]")return!1;if(Object.getPrototypeOf(e)===null)return!0;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}B6.default=Ike});var gS=E(Sl=>{"use strict";Object.defineProperty(Sl,"__esModule",{value:!0});Sl.unwrap=Sl.wrap=void 0;var _ne=require("buffer"),mS=require("crypto"),Sne=De(),Ene=ot(),kke=vn(),Cke=ka(),Tke=xn(),Fke=Pn(),xne=fS(),Oke=Dn();function vne(e,t){if(e.symmetricKeySize<<3!==parseInt(t.slice(1,4),10))throw new TypeError(`Invalid key size for alg: ${t}`)}function Pne(e,t,r){if((0,Tke.default)(e))return e;if(e instanceof Uint8Array)return(0,mS.createSecretKey)(e);if((0,kke.isCryptoKey)(e))return(0,Cke.checkEncCryptoKey)(e,t,r),mS.KeyObject.from(e);throw new TypeError((0,Fke.default)(e,...Oke.types,"Uint8Array"))}var Rke=(e,t,r)=>{let o=`aes${parseInt(e.slice(1,4),10)}-wrap`;if(!(0,xne.default)(o))throw new Sne.JOSENotSupported(`alg ${e} is not supported either by JOSE or your javascript runtime`);let i=Pne(t,e,"wrapKey");vne(i,e);let a=(0,mS.createCipheriv)(o,i,_ne.Buffer.alloc(8,166));return(0,Ene.concat)(a.update(r),a.final())};Sl.wrap=Rke;var Bke=(e,t,r)=>{let o=`aes${parseInt(e.slice(1,4),10)}-wrap`;if(!(0,xne.default)(o))throw new Sne.JOSENotSupported(`alg ${e} is not supported either by JOSE or your javascript runtime`);let i=Pne(t,e,"unwrapKey");vne(i,e);let a=(0,mS.createDecipheriv)(o,i,_ne.Buffer.alloc(8,166));return(0,Ene.concat)(a.update(r),a.final())};Sl.unwrap=Bke});var zf=E(eo=>{"use strict";Object.defineProperty(eo,"__esModule",{value:!0});eo.setCurve=eo.weakMap=void 0;var yS=require("buffer"),Dne=require("crypto"),Ane=De(),Nke=vn(),Uke=xn(),qke=Pn(),jke=Dn(),Lke=yS.Buffer.from([42,134,72,206,61,3,1,7]),Wke=yS.Buffer.from([43,129,4,0,34]),Mke=yS.Buffer.from([43,129,4,0,35]),Gke=yS.Buffer.from([43,129,4,0,10]);eo.weakMap=new WeakMap;var $ke=e=>{switch(e){case"prime256v1":return"P-256";case"secp384r1":return"P-384";case"secp521r1":return"P-521";case"secp256k1":return"secp256k1";default:throw new Ane.JOSENotSupported("Unsupported key curve for this operation")}},Ine=(e,t)=>{var r;let n;if((0,Nke.isCryptoKey)(e))n=Dne.KeyObject.from(e);else if((0,Uke.default)(e))n=e;else throw new TypeError((0,qke.default)(e,...jke.types));if(n.type==="secret")throw new TypeError('only "private" or "public" type keys can be used for this operation');switch(n.asymmetricKeyType){case"ed25519":case"ed448":return`Ed${n.asymmetricKeyType.slice(2)}`;case"x25519":case"x448":return`X${n.asymmetricKeyType.slice(1)}`;case"ec":{if(eo.weakMap.has(n))return eo.weakMap.get(n);let o=(r=n.asymmetricKeyDetails)===null||r===void 0?void 0:r.namedCurve;if(!o&&n.type==="private")o=Ine((0,Dne.createPublicKey)(n),!0);else if(!o){let a=n.export({format:"der",type:"spki"}),s=a[1]<128?14:15,u=a[s],c=a.slice(s+1,s+1+u);if(c.equals(Lke))o="prime256v1";else if(c.equals(Wke))o="secp384r1";else if(c.equals(Mke))o="secp521r1";else if(c.equals(Gke))o="secp256k1";else throw new Ane.JOSENotSupported("Unsupported key curve for this operation")}if(t)return o;let i=$ke(o);return eo.weakMap.set(n,i),i}default:throw new TypeError("Invalid asymmetric key type for this operation")}};function zke(e,t){eo.weakMap.set(e,t)}eo.setCurve=zke;eo.default=Ine});var W6=E(Ca=>{"use strict";Object.defineProperty(Ca,"__esModule",{value:!0});Ca.ecdhAllowed=Ca.generateEpk=Ca.deriveKey=void 0;var Hf=require("crypto"),Hke=require("util"),Cne=zf(),Ys=ot(),Kke=De(),U6=vn(),kne=ka(),q6=xn(),j6=Pn(),L6=Dn(),N6=(0,Hke.promisify)(Hf.generateKeyPair);async function Jke(e,t,r,n,o=new Uint8Array(0),i=new Uint8Array(0)){let a;if((0,U6.isCryptoKey)(e))(0,kne.checkEncCryptoKey)(e,"ECDH"),a=Hf.KeyObject.from(e);else if((0,q6.default)(e))a=e;else throw new TypeError((0,j6.default)(e,...L6.types));let s;if((0,U6.isCryptoKey)(t))(0,kne.checkEncCryptoKey)(t,"ECDH","deriveBits"),s=Hf.KeyObject.from(t);else if((0,q6.default)(t))s=t;else throw new TypeError((0,j6.default)(t,...L6.types));let u=(0,Ys.concat)((0,Ys.lengthAndInput)(Ys.encoder.encode(r)),(0,Ys.lengthAndInput)(o),(0,Ys.lengthAndInput)(i),(0,Ys.uint32be)(n)),c=(0,Hf.diffieHellman)({privateKey:s,publicKey:a});return(0,Ys.concatKdf)(c,n,u)}Ca.deriveKey=Jke;async function Vke(e){let t;if((0,U6.isCryptoKey)(e))t=Hf.KeyObject.from(e);else if((0,q6.default)(e))t=e;else throw new TypeError((0,j6.default)(e,...L6.types));switch(t.asymmetricKeyType){case"x25519":return N6("x25519");case"x448":return N6("x448");case"ec":{let r=(0,Cne.default)(t);return N6("ec",{namedCurve:r})}default:throw new Kke.JOSENotSupported("Invalid or unsupported EPK")}}Ca.generateEpk=Vke;var Zke=e=>["P-256","P-384","P-521","X25519","X448"].includes((0,Cne.default)(e));Ca.ecdhAllowed=Zke});var Tne=E(M6=>{"use strict";Object.defineProperty(M6,"__esModule",{value:!0});var Qke=De();function Yke(e){if(!(e instanceof Uint8Array)||e.length<8)throw new Qke.JWEInvalid("PBES2 Salt Input must be 8 or more octets")}M6.default=Yke});var G6=E(El=>{"use strict";Object.defineProperty(El,"__esModule",{value:!0});El.decrypt=El.encrypt=void 0;var Xke=require("util"),Fne=require("crypto"),e4e=Lf(),One=ot(),t4e=Xt(),Rne=gS(),Bne=Tne(),r4e=vn(),n4e=ka(),o4e=xn(),i4e=Pn(),a4e=Dn(),Nne=(0,Xke.promisify)(Fne.pbkdf2);function Une(e,t){if((0,o4e.default)(e))return e.export();if(e instanceof Uint8Array)return e;if((0,r4e.isCryptoKey)(e))return(0,n4e.checkEncCryptoKey)(e,t,"deriveBits","deriveKey"),Fne.KeyObject.from(e).export();throw new TypeError((0,i4e.default)(e,...a4e.types,"Uint8Array"))}var s4e=async(e,t,r,n=2048,o=(0,e4e.default)(new Uint8Array(16)))=>{(0,Bne.default)(o);let i=(0,One.p2s)(e,o),a=parseInt(e.slice(13,16),10)>>3,s=Une(t,e),u=await Nne(s,i,n,a,`sha${e.slice(8,11)}`);return{encryptedKey:await(0,Rne.wrap)(e.slice(-6),u,r),p2c:n,p2s:(0,t4e.encode)(o)}};El.encrypt=s4e;var c4e=async(e,t,r,n,o)=>{(0,Bne.default)(o);let i=(0,One.p2s)(e,o),a=parseInt(e.slice(13,16),10)>>3,s=Une(t,e),u=await Nne(s,i,n,a,`sha${e.slice(8,11)}`);return(0,Rne.unwrap)(e.slice(-6),u,r)};El.decrypt=c4e});var Kf=E(to=>{"use strict";Object.defineProperty(to,"__esModule",{value:!0});to.setModulusLength=to.weakMap=void 0;to.weakMap=new WeakMap;var bS=(e,t)=>{let r=e.readUInt8(1);if(!(r&128))return t===0?r:bS(e.subarray(2+r),t-1);let n=r&127;r=0;for(let o=0;o<n;o++){r<<=8;let i=e.readUInt8(2+o);r|=i}return t===0?r:bS(e.subarray(2+r),t-1)},u4e=(e,t)=>{let r=e.readUInt8(1);if(!(r&128))return bS(e.subarray(2),t);let n=r&127;return bS(e.subarray(2+n),t)},l4e=e=>{var t,r;if(to.weakMap.has(e))return to.weakMap.get(e);let n=(r=(t=e.asymmetricKeyDetails)===null||t===void 0?void 0:t.modulusLength)!==null&&r!==void 0?r:u4e(e.export({format:"der",type:"pkcs1"}),e.type==="private"?1:0)-1<<3;return to.weakMap.set(e,n),n},p4e=(e,t)=>{to.weakMap.set(e,t)};to.setModulusLength=p4e;to.default=(e,t)=>{if(l4e(e)<2048)throw new TypeError(`${t} requires key modulusLength to be 2048 bits or larger`)}});var $6=E(xl=>{"use strict";Object.defineProperty(xl,"__esModule",{value:!0});xl.decrypt=xl.encrypt=void 0;var Jf=require("crypto"),d4e=Kf(),f4e=vn(),h4e=ka(),m4e=xn(),g4e=Pn(),y4e=Dn(),qne=(e,t)=>{if(e.asymmetricKeyType!=="rsa")throw new TypeError("Invalid key for this operation, its asymmetricKeyType must be rsa");(0,d4e.default)(e,t)},jne=e=>{switch(e){case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":return Jf.constants.RSA_PKCS1_OAEP_PADDING;case"RSA1_5":return Jf.constants.RSA_PKCS1_PADDING;default:return}},Lne=e=>{switch(e){case"RSA-OAEP":return"sha1";case"RSA-OAEP-256":return"sha256";case"RSA-OAEP-384":return"sha384";case"RSA-OAEP-512":return"sha512";default:return}};function Wne(e,t,...r){if((0,m4e.default)(e))return e;if((0,f4e.isCryptoKey)(e))return(0,h4e.checkEncCryptoKey)(e,t,...r),Jf.KeyObject.from(e);throw new TypeError((0,g4e.default)(e,...y4e.types))}var b4e=(e,t,r)=>{let n=jne(e),o=Lne(e),i=Wne(t,e,"wrapKey","encrypt");return qne(i,e),(0,Jf.publicEncrypt)({key:i,oaepHash:o,padding:n},r)};xl.encrypt=b4e;var w4e=(e,t,r)=>{let n=jne(e),o=Lne(e),i=Wne(t,e,"unwrapKey","decrypt");return qne(i,e),(0,Jf.privateDecrypt)({key:i,oaepHash:o,padding:n},r)};xl.decrypt=w4e});var Zf=E(Vf=>{"use strict";Object.defineProperty(Vf,"__esModule",{value:!0});Vf.bitLength=void 0;var _4e=De(),S4e=Lf();function Mne(e){switch(e){case"A128GCM":return 128;case"A192GCM":return 192;case"A256GCM":case"A128CBC-HS256":return 256;case"A192CBC-HS384":return 384;case"A256CBC-HS512":return 512;default:throw new _4e.JOSENotSupported(`Unsupported JWE Algorithm: ${e}`)}}Vf.bitLength=Mne;Vf.default=e=>(0,S4e.default)(new Uint8Array(Mne(e)>>3))});var Qf=E(Uo=>{"use strict";Object.defineProperty(Uo,"__esModule",{value:!0});Uo.fromSPKI=Uo.fromPKCS8=Uo.toPKCS8=Uo.toSPKI=void 0;var z6=require("crypto"),Gne=require("buffer"),E4e=vn(),x4e=xn(),v4e=Pn(),P4e=Dn(),$ne=(e,t,r)=>{let n;if((0,E4e.isCryptoKey)(r)){if(!r.extractable)throw new TypeError("CryptoKey is not extractable");n=z6.KeyObject.from(r)}else if((0,x4e.default)(r))n=r;else throw new TypeError((0,v4e.default)(r,...P4e.types));if(n.type!==e)throw new TypeError(`key is not a ${e} key`);return n.export({format:"pem",type:t})},D4e=e=>$ne("public","spki",e);Uo.toSPKI=D4e;var A4e=e=>$ne("private","pkcs8",e);Uo.toPKCS8=A4e;var I4e=e=>(0,z6.createPrivateKey)({key:Gne.Buffer.from(e.replace(/(?:-----(?:BEGIN|END) PRIVATE KEY-----|\s)/g,""),"base64"),type:"pkcs8",format:"der"});Uo.fromPKCS8=I4e;var k4e=e=>(0,z6.createPublicKey)({key:Gne.Buffer.from(e.replace(/(?:-----(?:BEGIN|END) PUBLIC KEY-----|\s)/g,""),"base64"),type:"spki",format:"der"});Uo.fromSPKI=k4e});var zne=E(J6=>{"use strict";Object.defineProperty(J6,"__esModule",{value:!0});var yt=require("buffer"),C4e=De(),T4e=2,F4e=3,O4e=4,R4e=48,H6=yt.Buffer.from([0]),wS=yt.Buffer.from([T4e]),B4e=yt.Buffer.from([F4e]),N4e=yt.Buffer.from([R4e]),U4e=yt.Buffer.from([O4e]),Ta=e=>{if(e<128)return yt.Buffer.from([e]);let t=yt.Buffer.alloc(5);t.writeUInt32BE(e,1);let r=1;for(;t[r]===0;)r++;return t[r-1]=128|5-r,t.slice(r-1)},q4e=new Map([["P-256",yt.Buffer.from("06 08 2A 86 48 CE 3D 03 01 07".replace(/ /g,""),"hex")],["secp256k1",yt.Buffer.from("06 05 2B 81 04 00 0A".replace(/ /g,""),"hex")],["P-384",yt.Buffer.from("06 05 2B 81 04 00 22".replace(/ /g,""),"hex")],["P-521",yt.Buffer.from("06 05 2B 81 04 00 23".replace(/ /g,""),"hex")],["ecPublicKey",yt.Buffer.from("06 07 2A 86 48 CE 3D 02 01".replace(/ /g,""),"hex")],["X25519",yt.Buffer.from("06 03 2B 65 6E".replace(/ /g,""),"hex")],["X448",yt.Buffer.from("06 03 2B 65 6F".replace(/ /g,""),"hex")],["Ed25519",yt.Buffer.from("06 03 2B 65 70".replace(/ /g,""),"hex")],["Ed448",yt.Buffer.from("06 03 2B 65 71".replace(/ /g,""),"hex")]]),K6=class{constructor(){this.length=0,this.elements=[]}oidFor(t){let r=q4e.get(t);if(!r)throw new C4e.JOSENotSupported("Invalid or unsupported OID");this.elements.push(r),this.length+=r.length}zero(){this.elements.push(wS,yt.Buffer.from([1]),H6),this.length+=3}one(){this.elements.push(wS,yt.Buffer.from([1]),yt.Buffer.from([1])),this.length+=3}unsignedInteger(t){if(t[0]&128){let r=Ta(t.length+1);this.elements.push(wS,r,H6,t),this.length+=2+r.length+t.length}else{let r=0;for(;t[r]===0&&!(t[r+1]&128);)r++;let n=Ta(t.length-r);this.elements.push(wS,Ta(t.length-r),t.slice(r)),this.length+=1+n.length+t.length-r}}octStr(t){let r=Ta(t.length);this.elements.push(U4e,Ta(t.length),t),this.length+=1+r.length+t.length}bitStr(t){let r=Ta(t.length+1);this.elements.push(B4e,Ta(t.length+1),H6,t),this.length+=1+r.length+t.length+1}add(t){this.elements.push(t),this.length+=t.length}end(t=N4e){let r=Ta(this.length);return yt.Buffer.concat([t,r,...this.elements],1+r.length+this.length)}};J6.default=K6});var Yf=E(qo=>{"use strict";Object.defineProperty(qo,"__esModule",{value:!0});qo.jwkImport=qo.jwkExport=qo.rsaPssParams=qo.oneShotCallback=void 0;var[Fa,_S]=process.versions.node.split(".").map(e=>parseInt(e,10));qo.oneShotCallback=Fa>=16||Fa===15&&_S>=13;qo.rsaPssParams=!("electron"in process.versions)&&(Fa>=17||Fa===16&&_S>=9);qo.jwkExport=Fa>=16||Fa===15&&_S>=9;qo.jwkImport=Fa>=16||Fa===15&&_S>=12});var Kne=E(V6=>{"use strict";Object.defineProperty(V6,"__esModule",{value:!0});var Ot=require("buffer"),vi=require("crypto"),j4e=Xt(),L4e=De(),Hne=zf(),W4e=Kf(),ro=zne(),M4e=Yf(),G4e=e=>{if(M4e.jwkImport&&e.kty!=="oct")return e.d?(0,vi.createPrivateKey)({format:"jwk",key:e}):(0,vi.createPublicKey)({format:"jwk",key:e});switch(e.kty){case"oct":return(0,vi.createSecretKey)((0,j4e.decode)(e.k));case"RSA":{let t=new ro.default,r=e.d!==void 0,n=Ot.Buffer.from(e.n,"base64"),o=Ot.Buffer.from(e.e,"base64");r?(t.zero(),t.unsignedInteger(n),t.unsignedInteger(o),t.unsignedInteger(Ot.Buffer.from(e.d,"base64")),t.unsignedInteger(Ot.Buffer.from(e.p,"base64")),t.unsignedInteger(Ot.Buffer.from(e.q,"base64")),t.unsignedInteger(Ot.Buffer.from(e.dp,"base64")),t.unsignedInteger(Ot.Buffer.from(e.dq,"base64")),t.unsignedInteger(Ot.Buffer.from(e.qi,"base64"))):(t.unsignedInteger(n),t.unsignedInteger(o));let a={key:t.end(),format:"der",type:"pkcs1"},s=r?(0,vi.createPrivateKey)(a):(0,vi.createPublicKey)(a);return(0,W4e.setModulusLength)(s,n.length<<3),s}case"EC":{let t=new ro.default,r=e.d!==void 0,n=Ot.Buffer.concat([Ot.Buffer.alloc(1,4),Ot.Buffer.from(e.x,"base64"),Ot.Buffer.from(e.y,"base64")]);if(r){t.zero();let s=new ro.default;s.oidFor("ecPublicKey"),s.oidFor(e.crv),t.add(s.end());let u=new ro.default;u.one(),u.octStr(Ot.Buffer.from(e.d,"base64"));let c=new ro.default;c.bitStr(n);let l=c.end(Ot.Buffer.from([161]));u.add(l);let d=u.end(),w=new ro.default;w.add(d);let m=w.end(Ot.Buffer.from([4]));t.add(m);let p=t.end(),f=(0,vi.createPrivateKey)({key:p,format:"der",type:"pkcs8"});return(0,Hne.setCurve)(f,e.crv),f}let o=new ro.default;o.oidFor("ecPublicKey"),o.oidFor(e.crv),t.add(o.end()),t.bitStr(n);let i=t.end(),a=(0,vi.createPublicKey)({key:i,format:"der",type:"spki"});return(0,Hne.setCurve)(a,e.crv),a}case"OKP":{let t=new ro.default;if(e.d!==void 0){t.zero();let i=new ro.default;i.oidFor(e.crv),t.add(i.end());let a=new ro.default;a.octStr(Ot.Buffer.from(e.d,"base64"));let s=a.end(Ot.Buffer.from([4]));t.add(s);let u=t.end();return(0,vi.createPrivateKey)({key:u,format:"der",type:"pkcs8"})}let n=new ro.default;n.oidFor(e.crv),t.add(n.end()),t.bitStr(Ot.Buffer.from(e.x,"base64"));let o=t.end();return(0,vi.createPublicKey)({key:o,format:"der",type:"spki"})}default:throw new L4e.JOSENotSupported('Invalid or unsupported JWK "kty" (Key Type) Parameter value')}};V6.default=G4e});var Jne=E(Z6=>{"use strict";Object.defineProperty(Z6,"__esModule",{value:!0});Z6.default=(e,t)=>{let r=(e.match(/.{1,64}/g)||[]).join(`
`);return`-----BEGIN ${t}-----
${r}
-----END ${t}-----`}});var Xf=E(jo=>{"use strict";Object.defineProperty(jo,"__esModule",{value:!0});jo.importJWK=jo.importPKCS8=jo.importX509=jo.importSPKI=void 0;var Q6=Xt(),Yne=Qf(),$4e=Qf(),Vne=Kne(),Zne=De(),z4e=Jne(),H4e=xr();function Qne(e){let t=[],r=0;for(;r<e.length;){let n=Xne(e.subarray(r));t.push(n),r+=n.byteLength}return t}function Xne(e){let t=0,r=e[0]&31;if(t++,r===31){for(r=0;e[t]>=128;)r=r*128+e[t]-128,t++;r=r*128+e[t]-128,t++}let n=0;if(e[t]<128)n=e[t],t++;else if(n===128){for(n=0;e[t+n]!==0||e[t+n+1]!==0;){if(n>e.byteLength)throw new TypeError("invalid indefinite form length");n++}let i=t+n+2;return{byteLength:i,contents:e.subarray(t,t+n),raw:e.subarray(0,i)}}else{let i=e[t]&127;t++,n=0;for(let a=0;a<i;a++)n=n*256+e[t],t++}let o=t+n;return{byteLength:o,contents:e.subarray(t,o),raw:e.subarray(0,o)}}function K4e(e){let t=Qne(Qne(Xne(e).contents)[0].contents);return(0,Q6.encodeBase64)(t[t[0].raw[0]===160?6:5].raw)}function J4e(e){let t=e.replace(/(?:-----(?:BEGIN|END) CERTIFICATE-----|\s)/g,""),r=(0,Q6.decodeBase64)(t);return(0,z4e.default)(K4e(r),"PUBLIC KEY")}async function V4e(e,t,r){if(typeof e!="string"||e.indexOf("-----BEGIN PUBLIC KEY-----")!==0)throw new TypeError('"spki" must be SPKI formatted string');return(0,Yne.fromSPKI)(e,t,r)}jo.importSPKI=V4e;async function Z4e(e,t,r){if(typeof e!="string"||e.indexOf("-----BEGIN CERTIFICATE-----")!==0)throw new TypeError('"x509" must be X.509 formatted string');let n;try{n=J4e(e)}catch(o){throw new TypeError("failed to parse the X.509 certificate",{cause:o})}return(0,Yne.fromSPKI)(n,t,r)}jo.importX509=Z4e;async function Q4e(e,t,r){if(typeof e!="string"||e.indexOf("-----BEGIN PRIVATE KEY-----")!==0)throw new TypeError('"pkcs8" must be PKCS#8 formatted string');return(0,$4e.fromPKCS8)(e,t,r)}jo.importPKCS8=Q4e;async function Y4e(e,t,r){var n;if(!(0,H4e.default)(e))throw new TypeError("JWK must be an object");if(t||(t=e.alg),typeof t!="string"||!t)throw new TypeError('"alg" argument is required when "jwk.alg" is not present');switch(e.kty){case"oct":if(typeof e.k!="string"||!e.k)throw new TypeError('missing "k" (Key Value) Parameter value');return r??(r=e.ext!==!0),r?(0,Vne.default)({...e,alg:t,ext:(n=e.ext)!==null&&n!==void 0?n:!1}):(0,Q6.decode)(e.k);case"RSA":if(e.oth!==void 0)throw new Zne.JOSENotSupported('RSA JWK "oth" (Other Primes Info) Parameter value is not supported');case"EC":case"OKP":return(0,Vne.default)({...e,alg:t});default:throw new Zne.JOSENotSupported('Unsupported "kty" (Key Type) Parameter value')}}jo.importJWK=Y4e});var eh=E(Y6=>{"use strict";Object.defineProperty(Y6,"__esModule",{value:!0});var eoe=Pn(),Lo=Dn(),X4e=(e,t)=>{if(!(t instanceof Uint8Array)){if(!(0,Lo.default)(t))throw new TypeError((0,eoe.withAlg)(e,t,...Lo.types,"Uint8Array"));if(t.type!=="secret")throw new TypeError(`${Lo.types.join(" or ")} instances for symmetric algorithms must be of type "secret"`)}},eCe=(e,t,r)=>{if(!(0,Lo.default)(t))throw new TypeError((0,eoe.withAlg)(e,t,...Lo.types));if(t.type==="secret")throw new TypeError(`${Lo.types.join(" or ")} instances for asymmetric algorithms must not be of type "secret"`);if(r==="sign"&&t.type==="public")throw new TypeError(`${Lo.types.join(" or ")} instances for asymmetric algorithm signing must be of type "private"`);if(r==="decrypt"&&t.type==="public")throw new TypeError(`${Lo.types.join(" or ")} instances for asymmetric algorithm decryption must be of type "private"`);if(t.algorithm&&r==="verify"&&t.type==="private")throw new TypeError(`${Lo.types.join(" or ")} instances for asymmetric algorithm verifying must be of type "public"`);if(t.algorithm&&r==="encrypt"&&t.type==="private")throw new TypeError(`${Lo.types.join(" or ")} instances for asymmetric algorithm encryption must be of type "public"`)},tCe=(e,t,r)=>{e.startsWith("HS")||e==="dir"||e.startsWith("PBES2")||/^A\d{3}(?:GCM)?KW$/.test(e)?X4e(e,t):eCe(e,t,r)};Y6.default=tCe});var rF=E(tF=>{"use strict";Object.defineProperty(tF,"__esModule",{value:!0});var X6=require("crypto"),rCe=w6(),nCe=x6(),oCe=ot(),iCe=D6(),aCe=vn(),sCe=ka(),toe=xn(),cCe=Pn(),eF=De(),roe=fS(),uCe=Dn();function lCe(e,t,r,n,o){let i=parseInt(e.slice(1,4),10);(0,toe.default)(r)&&(r=r.export());let a=r.subarray(i>>3),s=r.subarray(0,i>>3),u=`aes-${i}-cbc`;if(!(0,roe.default)(u))throw new eF.JOSENotSupported(`alg ${e} is not supported by your javascript runtime`);let c=(0,X6.createCipheriv)(u,a,n),l=(0,oCe.concat)(c.update(t),c.final()),d=parseInt(e.slice(-3),10),w=(0,iCe.default)(o,n,l,d,s,i);return{ciphertext:l,tag:w}}function pCe(e,t,r,n,o){let a=`aes-${parseInt(e.slice(1,4),10)}-gcm`;if(!(0,roe.default)(a))throw new eF.JOSENotSupported(`alg ${e} is not supported by your javascript runtime`);let s=(0,X6.createCipheriv)(a,r,n,{authTagLength:16});o.byteLength&&s.setAAD(o,{plaintextLength:t.length});let u=s.update(t);s.final();let c=s.getAuthTag();return{ciphertext:u,tag:c}}var dCe=(e,t,r,n,o)=>{let i;if((0,aCe.isCryptoKey)(r))(0,sCe.checkEncCryptoKey)(r,e,"encrypt"),i=X6.KeyObject.from(r);else if(r instanceof Uint8Array||(0,toe.default)(r))i=r;else throw new TypeError((0,cCe.default)(r,...uCe.types,"Uint8Array"));switch((0,nCe.default)(e,i),(0,rCe.default)(e,n),e){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return lCe(e,t,i,n,o);case"A128GCM":case"A192GCM":case"A256GCM":return pCe(e,t,i,n,o);default:throw new eF.JOSENotSupported("Unsupported JWE Content Encryption Algorithm")}};tF.default=dCe});var nF=E(vl=>{"use strict";Object.defineProperty(vl,"__esModule",{value:!0});vl.unwrap=vl.wrap=void 0;var fCe=rF(),hCe=F6(),mCe=lS(),noe=Xt();async function gCe(e,t,r,n){let o=e.slice(0,7);n||(n=(0,mCe.default)(o));let{ciphertext:i,tag:a}=await(0,fCe.default)(o,r,t,n,new Uint8Array(0));return{encryptedKey:i,iv:(0,noe.encode)(n),tag:(0,noe.encode)(a)}}vl.wrap=gCe;async function yCe(e,t,r,n,o){let i=e.slice(0,7);return(0,hCe.default)(i,t,r,n,o,new Uint8Array(0))}vl.unwrap=yCe});var aoe=E(oF=>{"use strict";Object.defineProperty(oF,"__esModule",{value:!0});var ooe=gS(),ioe=W6(),bCe=G6(),wCe=$6(),th=Xt(),Mt=De(),_Ce=Zf(),SCe=Xf(),ECe=eh(),xCe=xr(),vCe=nF();async function PCe(e,t,r,n,o){switch((0,ECe.default)(e,t,"decrypt"),e){case"dir":{if(r!==void 0)throw new Mt.JWEInvalid("Encountered unexpected JWE Encrypted Key");return t}case"ECDH-ES":if(r!==void 0)throw new Mt.JWEInvalid("Encountered unexpected JWE Encrypted Key");case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{if(!(0,xCe.default)(n.epk))throw new Mt.JWEInvalid('JOSE Header "epk" (Ephemeral Public Key) missing or invalid');if(!ioe.ecdhAllowed(t))throw new Mt.JOSENotSupported("ECDH with the provided key is not allowed or not supported by your javascript runtime");let i=await(0,SCe.importJWK)(n.epk,e),a,s;if(n.apu!==void 0){if(typeof n.apu!="string")throw new Mt.JWEInvalid('JOSE Header "apu" (Agreement PartyUInfo) invalid');a=(0,th.decode)(n.apu)}if(n.apv!==void 0){if(typeof n.apv!="string")throw new Mt.JWEInvalid('JOSE Header "apv" (Agreement PartyVInfo) invalid');s=(0,th.decode)(n.apv)}let u=await ioe.deriveKey(i,t,e==="ECDH-ES"?n.enc:e,e==="ECDH-ES"?(0,_Ce.bitLength)(n.enc):parseInt(e.slice(-5,-2),10),a,s);if(e==="ECDH-ES")return u;if(r===void 0)throw new Mt.JWEInvalid("JWE Encrypted Key missing");return(0,ooe.unwrap)(e.slice(-6),u,r)}case"RSA1_5":case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":{if(r===void 0)throw new Mt.JWEInvalid("JWE Encrypted Key missing");return(0,wCe.decrypt)(e,t,r)}case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{if(r===void 0)throw new Mt.JWEInvalid("JWE Encrypted Key missing");if(typeof n.p2c!="number")throw new Mt.JWEInvalid('JOSE Header "p2c" (PBES2 Count) missing or invalid');let i=o?.maxPBES2Count||1e4;if(n.p2c>i)throw new Mt.JWEInvalid('JOSE Header "p2c" (PBES2 Count) out is of acceptable bounds');if(typeof n.p2s!="string")throw new Mt.JWEInvalid('JOSE Header "p2s" (PBES2 Salt) missing or invalid');return(0,bCe.decrypt)(e,t,r,n.p2c,(0,th.decode)(n.p2s))}case"A128KW":case"A192KW":case"A256KW":{if(r===void 0)throw new Mt.JWEInvalid("JWE Encrypted Key missing");return(0,ooe.unwrap)(e,t,r)}case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":{if(r===void 0)throw new Mt.JWEInvalid("JWE Encrypted Key missing");if(typeof n.iv!="string")throw new Mt.JWEInvalid('JOSE Header "iv" (Initialization Vector) missing or invalid');if(typeof n.tag!="string")throw new Mt.JWEInvalid('JOSE Header "tag" (Authentication Tag) missing or invalid');let i=(0,th.decode)(n.iv),a=(0,th.decode)(n.tag);return(0,vCe.unwrap)(e,t,r,i,a)}default:throw new Mt.JOSENotSupported('Invalid or unsupported "alg" (JWE Algorithm) header value')}}oF.default=PCe});var Pl=E(iF=>{"use strict";Object.defineProperty(iF,"__esModule",{value:!0});var DCe=De();function ACe(e,t,r,n,o){if(o.crit!==void 0&&n.crit===void 0)throw new e('"crit" (Critical) Header Parameter MUST be integrity protected');if(!n||n.crit===void 0)return new Set;if(!Array.isArray(n.crit)||n.crit.length===0||n.crit.some(a=>typeof a!="string"||a.length===0))throw new e('"crit" (Critical) Header Parameter MUST be an array of non-empty strings when present');let i;r!==void 0?i=new Map([...Object.entries(r),...t.entries()]):i=t;for(let a of n.crit){if(!i.has(a))throw new DCe.JOSENotSupported(`Extension Header Parameter "${a}" is not recognized`);if(o[a]===void 0)throw new e(`Extension Header Parameter "${a}" is missing`);if(i.get(a)&&n[a]===void 0)throw new e(`Extension Header Parameter "${a}" MUST be integrity protected`)}return new Set(n.crit)}iF.default=ACe});var sF=E(aF=>{"use strict";Object.defineProperty(aF,"__esModule",{value:!0});var ICe=(e,t)=>{if(t!==void 0&&(!Array.isArray(t)||t.some(r=>typeof r!="string")))throw new TypeError(`"${e}" option must be an array of strings`);if(t)return new Set(t)};aF.default=ICe});var ES=E(SS=>{"use strict";Object.defineProperty(SS,"__esModule",{value:!0});SS.flattenedDecrypt=void 0;var Dl=Xt(),kCe=F6(),CCe=O6(),lt=De(),TCe=_l(),cF=xr(),FCe=aoe(),rh=ot(),OCe=Zf(),RCe=Pl(),soe=sF();async function BCe(e,t,r){var n;if(!(0,cF.default)(e))throw new lt.JWEInvalid("Flattened JWE must be an object");if(e.protected===void 0&&e.header===void 0&&e.unprotected===void 0)throw new lt.JWEInvalid("JOSE Header missing");if(typeof e.iv!="string")throw new lt.JWEInvalid("JWE Initialization Vector missing or incorrect type");if(typeof e.ciphertext!="string")throw new lt.JWEInvalid("JWE Ciphertext missing or incorrect type");if(typeof e.tag!="string")throw new lt.JWEInvalid("JWE Authentication Tag missing or incorrect type");if(e.protected!==void 0&&typeof e.protected!="string")throw new lt.JWEInvalid("JWE Protected Header incorrect type");if(e.encrypted_key!==void 0&&typeof e.encrypted_key!="string")throw new lt.JWEInvalid("JWE Encrypted Key incorrect type");if(e.aad!==void 0&&typeof e.aad!="string")throw new lt.JWEInvalid("JWE AAD incorrect type");if(e.header!==void 0&&!(0,cF.default)(e.header))throw new lt.JWEInvalid("JWE Shared Unprotected Header incorrect type");if(e.unprotected!==void 0&&!(0,cF.default)(e.unprotected))throw new lt.JWEInvalid("JWE Per-Recipient Unprotected Header incorrect type");let o;if(e.protected)try{let _=(0,Dl.decode)(e.protected);o=JSON.parse(rh.decoder.decode(_))}catch{throw new lt.JWEInvalid("JWE Protected Header is invalid")}if(!(0,TCe.default)(o,e.header,e.unprotected))throw new lt.JWEInvalid("JWE Protected, JWE Unprotected Header, and JWE Per-Recipient Unprotected Header Parameter names must be disjoint");let i={...o,...e.header,...e.unprotected};if((0,RCe.default)(lt.JWEInvalid,new Map,r?.crit,o,i),i.zip!==void 0){if(!o||!o.zip)throw new lt.JWEInvalid('JWE "zip" (Compression Algorithm) Header MUST be integrity protected');if(i.zip!=="DEF")throw new lt.JOSENotSupported('Unsupported JWE "zip" (Compression Algorithm) Header Parameter value')}let{alg:a,enc:s}=i;if(typeof a!="string"||!a)throw new lt.JWEInvalid("missing JWE Algorithm (alg) in JWE Header");if(typeof s!="string"||!s)throw new lt.JWEInvalid("missing JWE Encryption Algorithm (enc) in JWE Header");let u=r&&(0,soe.default)("keyManagementAlgorithms",r.keyManagementAlgorithms),c=r&&(0,soe.default)("contentEncryptionAlgorithms",r.contentEncryptionAlgorithms);if(u&&!u.has(a))throw new lt.JOSEAlgNotAllowed('"alg" (Algorithm) Header Parameter not allowed');if(c&&!c.has(s))throw new lt.JOSEAlgNotAllowed('"enc" (Encryption Algorithm) Header Parameter not allowed');let l;e.encrypted_key!==void 0&&(l=(0,Dl.decode)(e.encrypted_key));let d=!1;typeof t=="function"&&(t=await t(o,e),d=!0);let w;try{w=await(0,FCe.default)(a,t,l,i,r)}catch(_){if(_ instanceof TypeError||_ instanceof lt.JWEInvalid||_ instanceof lt.JOSENotSupported)throw _;w=(0,OCe.default)(s)}let m=(0,Dl.decode)(e.iv),p=(0,Dl.decode)(e.tag),f=rh.encoder.encode((n=e.protected)!==null&&n!==void 0?n:""),g;e.aad!==void 0?g=(0,rh.concat)(f,rh.encoder.encode("."),rh.encoder.encode(e.aad)):g=f;let h=await(0,kCe.default)(s,w,(0,Dl.decode)(e.ciphertext),m,p,g);i.zip==="DEF"&&(h=await(r?.inflateRaw||CCe.inflate)(h));let y={plaintext:h};return e.protected!==void 0&&(y.protectedHeader=o),e.aad!==void 0&&(y.additionalAuthenticatedData=(0,Dl.decode)(e.aad)),e.unprotected!==void 0&&(y.sharedUnprotectedHeader=e.unprotected),e.header!==void 0&&(y.unprotectedHeader=e.header),d?{...y,key:t}:y}SS.flattenedDecrypt=BCe});var uF=E(xS=>{"use strict";Object.defineProperty(xS,"__esModule",{value:!0});xS.compactDecrypt=void 0;var NCe=ES(),coe=De(),UCe=ot();async function qCe(e,t,r){if(e instanceof Uint8Array&&(e=UCe.decoder.decode(e)),typeof e!="string")throw new coe.JWEInvalid("Compact JWE must be a string or Uint8Array");let{0:n,1:o,2:i,3:a,4:s,length:u}=e.split(".");if(u!==5)throw new coe.JWEInvalid("Invalid Compact JWE");let c=await(0,NCe.flattenedDecrypt)({ciphertext:a,iv:i||void 0,protected:n||void 0,tag:s||void 0,encrypted_key:o||void 0},t,r),l={plaintext:c.plaintext,protectedHeader:c.protectedHeader};return typeof t=="function"?{...l,key:c.key}:l}xS.compactDecrypt=qCe});var loe=E(PS=>{"use strict";Object.defineProperty(PS,"__esModule",{value:!0});PS.generalDecrypt=void 0;var jCe=ES(),vS=De(),uoe=xr();async function LCe(e,t,r){if(!(0,uoe.default)(e))throw new vS.JWEInvalid("General JWE must be an object");if(!Array.isArray(e.recipients)||!e.recipients.every(uoe.default))throw new vS.JWEInvalid("JWE Recipients missing or incorrect type");if(!e.recipients.length)throw new vS.JWEInvalid("JWE Recipients has no members");for(let n of e.recipients)try{return await(0,jCe.flattenedDecrypt)({aad:e.aad,ciphertext:e.ciphertext,encrypted_key:n.encrypted_key,header:n.header,iv:e.iv,protected:e.protected,tag:e.tag,unprotected:e.unprotected},t,r)}catch{}throw new vS.JWEDecryptionFailed}PS.generalDecrypt=LCe});var poe=E(pF=>{"use strict";Object.defineProperty(pF,"__esModule",{value:!0});var WCe=2,MCe=48,lF=class{constructor(t){if(t[0]!==MCe)throw new TypeError;if(this.buffer=t,this.offset=1,this.decodeLength()!==t.length-this.offset)throw new TypeError}decodeLength(){let t=this.buffer[this.offset++];if(t&128){let r=t&-129;t=0;for(let n=0;n<r;n++)t=t<<8|this.buffer[this.offset+n];this.offset+=r}return t}unsignedInteger(){if(this.buffer[this.offset++]!==WCe)throw new TypeError;let t=this.decodeLength();this.buffer[this.offset]===0&&(this.offset++,t--);let r=this.buffer.slice(this.offset,this.offset+t);return this.offset+=t,r}end(){if(this.offset!==this.buffer.length)throw new TypeError}};pF.default=lF});var doe=E(fF=>{"use strict";Object.defineProperty(fF,"__esModule",{value:!0});var DS=require("crypto"),Gt=Xt(),GCe=poe(),AS=De(),dF=zf(),$Ce=vn(),zCe=xn(),HCe=Pn(),KCe=Dn(),JCe=Yf(),IS=e=>{let t;if((0,$Ce.isCryptoKey)(e)){if(!e.extractable)throw new TypeError("CryptoKey is not extractable");t=DS.KeyObject.from(e)}else if((0,zCe.default)(e))t=e;else{if(e instanceof Uint8Array)return{kty:"oct",k:(0,Gt.encode)(e)};throw new TypeError((0,HCe.default)(e,...KCe.types,"Uint8Array"))}if(JCe.jwkExport){if(t.type!=="secret"&&!["rsa","ec","ed25519","x25519","ed448","x448"].includes(t.asymmetricKeyType))throw new AS.JOSENotSupported("Unsupported key asymmetricKeyType");return t.export({format:"jwk"})}switch(t.type){case"secret":return{kty:"oct",k:(0,Gt.encode)(t.export())};case"private":case"public":switch(t.asymmetricKeyType){case"rsa":{let r=t.export({format:"der",type:"pkcs1"}),n=new GCe.default(r);t.type==="private"&&n.unsignedInteger();let o=(0,Gt.encode)(n.unsignedInteger()),i=(0,Gt.encode)(n.unsignedInteger()),a;return t.type==="private"&&(a={d:(0,Gt.encode)(n.unsignedInteger()),p:(0,Gt.encode)(n.unsignedInteger()),q:(0,Gt.encode)(n.unsignedInteger()),dp:(0,Gt.encode)(n.unsignedInteger()),dq:(0,Gt.encode)(n.unsignedInteger()),qi:(0,Gt.encode)(n.unsignedInteger())}),n.end(),{kty:"RSA",n:o,e:i,...a}}case"ec":{let r=(0,dF.default)(t),n,o,i;switch(r){case"secp256k1":n=64,o=33,i=-1;break;case"P-256":n=64,o=36,i=-1;break;case"P-384":n=96,o=35,i=-3;break;case"P-521":n=132,o=35,i=-3;break;default:throw new AS.JOSENotSupported("Unsupported curve")}if(t.type==="public"){let s=t.export({type:"spki",format:"der"});return{kty:"EC",crv:r,x:(0,Gt.encode)(s.subarray(-n,-n/2)),y:(0,Gt.encode)(s.subarray(-n/2))}}let a=t.export({type:"pkcs8",format:"der"});return a.length<100&&(o+=i),{...IS((0,DS.createPublicKey)(t)),d:(0,Gt.encode)(a.subarray(o,o+n/2))}}case"ed25519":case"x25519":{let r=(0,dF.default)(t);if(t.type==="public"){let o=t.export({type:"spki",format:"der"});return{kty:"OKP",crv:r,x:(0,Gt.encode)(o.subarray(-32))}}let n=t.export({type:"pkcs8",format:"der"});return{...IS((0,DS.createPublicKey)(t)),d:(0,Gt.encode)(n.subarray(-32))}}case"ed448":case"x448":{let r=(0,dF.default)(t);if(t.type==="public"){let o=t.export({type:"spki",format:"der"});return{kty:"OKP",crv:r,x:(0,Gt.encode)(o.subarray(r==="Ed448"?-57:-56))}}let n=t.export({type:"pkcs8",format:"der"});return{...IS((0,DS.createPublicKey)(t)),d:(0,Gt.encode)(n.subarray(r==="Ed448"?-57:-56))}}default:throw new AS.JOSENotSupported("Unsupported key asymmetricKeyType")}default:throw new AS.JOSENotSupported("Unsupported key type")}};fF.default=IS});var hF=E(Oa=>{"use strict";Object.defineProperty(Oa,"__esModule",{value:!0});Oa.exportJWK=Oa.exportPKCS8=Oa.exportSPKI=void 0;var VCe=Qf(),ZCe=Qf(),QCe=doe();async function YCe(e){return(0,VCe.toSPKI)(e)}Oa.exportSPKI=YCe;async function XCe(e){return(0,ZCe.toPKCS8)(e)}Oa.exportPKCS8=XCe;async function eTe(e){return(0,QCe.default)(e)}Oa.exportJWK=eTe});var yF=E(gF=>{"use strict";Object.defineProperty(gF,"__esModule",{value:!0});var foe=gS(),mF=W6(),tTe=G6(),rTe=$6(),hoe=Xt(),Al=Zf(),moe=De(),nTe=hF(),oTe=eh(),iTe=nF();async function aTe(e,t,r,n,o={}){let i,a,s;switch((0,oTe.default)(e,r,"encrypt"),e){case"dir":{s=r;break}case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{if(!mF.ecdhAllowed(r))throw new moe.JOSENotSupported("ECDH with the provided key is not allowed or not supported by your javascript runtime");let{apu:u,apv:c}=o,{epk:l}=o;l||(l=(await mF.generateEpk(r)).privateKey);let{x:d,y:w,crv:m,kty:p}=await(0,nTe.exportJWK)(l),f=await mF.deriveKey(r,l,e==="ECDH-ES"?t:e,e==="ECDH-ES"?(0,Al.bitLength)(t):parseInt(e.slice(-5,-2),10),u,c);if(a={epk:{x:d,crv:m,kty:p}},p==="EC"&&(a.epk.y=w),u&&(a.apu=(0,hoe.encode)(u)),c&&(a.apv=(0,hoe.encode)(c)),e==="ECDH-ES"){s=f;break}s=n||(0,Al.default)(t);let g=e.slice(-6);i=await(0,foe.wrap)(g,f,s);break}case"RSA1_5":case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":{s=n||(0,Al.default)(t),i=await(0,rTe.encrypt)(e,r,s);break}case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{s=n||(0,Al.default)(t);let{p2c:u,p2s:c}=o;({encryptedKey:i,...a}=await(0,tTe.encrypt)(e,r,s,u,c));break}case"A128KW":case"A192KW":case"A256KW":{s=n||(0,Al.default)(t),i=await(0,foe.wrap)(e,r,s);break}case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":{s=n||(0,Al.default)(t);let{iv:u}=o;({encryptedKey:i,...a}=await(0,iTe.wrap)(e,r,s,u));break}default:throw new moe.JOSENotSupported('Invalid or unsupported "alg" (JWE Algorithm) header value')}return{cek:s,encryptedKey:i,parameters:a}}gF.default=aTe});var kS=E(ec=>{"use strict";Object.defineProperty(ec,"__esModule",{value:!0});ec.FlattenedEncrypt=ec.unprotected=void 0;var Il=Xt(),goe=rF(),sTe=O6(),cTe=lS(),uTe=yF(),Xs=De(),lTe=_l(),kl=ot(),pTe=Pl();ec.unprotected=Symbol();var bF=class{constructor(t){if(!(t instanceof Uint8Array))throw new TypeError("plaintext must be an instance of Uint8Array");this._plaintext=t}setKeyManagementParameters(t){if(this._keyManagementParameters)throw new TypeError("setKeyManagementParameters can only be called once");return this._keyManagementParameters=t,this}setProtectedHeader(t){if(this._protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this._protectedHeader=t,this}setSharedUnprotectedHeader(t){if(this._sharedUnprotectedHeader)throw new TypeError("setSharedUnprotectedHeader can only be called once");return this._sharedUnprotectedHeader=t,this}setUnprotectedHeader(t){if(this._unprotectedHeader)throw new TypeError("setUnprotectedHeader can only be called once");return this._unprotectedHeader=t,this}setAdditionalAuthenticatedData(t){return this._aad=t,this}setContentEncryptionKey(t){if(this._cek)throw new TypeError("setContentEncryptionKey can only be called once");return this._cek=t,this}setInitializationVector(t){if(this._iv)throw new TypeError("setInitializationVector can only be called once");return this._iv=t,this}async encrypt(t,r){if(!this._protectedHeader&&!this._unprotectedHeader&&!this._sharedUnprotectedHeader)throw new Xs.JWEInvalid("either setProtectedHeader, setUnprotectedHeader, or sharedUnprotectedHeader must be called before #encrypt()");if(!(0,lTe.default)(this._protectedHeader,this._unprotectedHeader,this._sharedUnprotectedHeader))throw new Xs.JWEInvalid("JWE Protected, JWE Shared Unprotected and JWE Per-Recipient Header Parameter names must be disjoint");let n={...this._protectedHeader,...this._unprotectedHeader,...this._sharedUnprotectedHeader};if((0,pTe.default)(Xs.JWEInvalid,new Map,r?.crit,this._protectedHeader,n),n.zip!==void 0){if(!this._protectedHeader||!this._protectedHeader.zip)throw new Xs.JWEInvalid('JWE "zip" (Compression Algorithm) Header MUST be integrity protected');if(n.zip!=="DEF")throw new Xs.JOSENotSupported('Unsupported JWE "zip" (Compression Algorithm) Header Parameter value')}let{alg:o,enc:i}=n;if(typeof o!="string"||!o)throw new Xs.JWEInvalid('JWE "alg" (Algorithm) Header Parameter missing or invalid');if(typeof i!="string"||!i)throw new Xs.JWEInvalid('JWE "enc" (Encryption Algorithm) Header Parameter missing or invalid');let a;if(o==="dir"){if(this._cek)throw new TypeError("setContentEncryptionKey cannot be called when using Direct Encryption")}else if(o==="ECDH-ES"&&this._cek)throw new TypeError("setContentEncryptionKey cannot be called when using Direct Key Agreement");let s;{let p;({cek:s,encryptedKey:a,parameters:p}=await(0,uTe.default)(o,i,t,this._cek,this._keyManagementParameters)),p&&(r&&ec.unprotected in r?this._unprotectedHeader?this._unprotectedHeader={...this._unprotectedHeader,...p}:this.setUnprotectedHeader(p):this._protectedHeader?this._protectedHeader={...this._protectedHeader,...p}:this.setProtectedHeader(p))}this._iv||(this._iv=(0,cTe.default)(i));let u,c,l;this._protectedHeader?c=kl.encoder.encode((0,Il.encode)(JSON.stringify(this._protectedHeader))):c=kl.encoder.encode(""),this._aad?(l=(0,Il.encode)(this._aad),u=(0,kl.concat)(c,kl.encoder.encode("."),kl.encoder.encode(l))):u=c;let d,w;if(n.zip==="DEF"){let p=await(r?.deflateRaw||sTe.deflate)(this._plaintext);({ciphertext:d,tag:w}=await(0,goe.default)(i,p,s,this._iv,u))}else({ciphertext:d,tag:w}=await(0,goe.default)(i,this._plaintext,s,this._iv,u));let m={ciphertext:(0,Il.encode)(d),iv:(0,Il.encode)(this._iv),tag:(0,Il.encode)(w)};return a&&(m.encrypted_key=(0,Il.encode)(a)),l&&(m.aad=l),this._protectedHeader&&(m.protected=kl.decoder.decode(c)),this._sharedUnprotectedHeader&&(m.unprotected=this._sharedUnprotectedHeader),this._unprotectedHeader&&(m.header=this._unprotectedHeader),m}};ec.FlattenedEncrypt=bF});var yoe=E(CS=>{"use strict";Object.defineProperty(CS,"__esModule",{value:!0});CS.GeneralEncrypt=void 0;var wF=kS(),Ra=De(),dTe=Zf(),fTe=_l(),hTe=yF(),mTe=Xt(),gTe=Pl(),_F=class{constructor(t,r,n){this.parent=t,this.key=r,this.options=n}setUnprotectedHeader(t){if(this.unprotectedHeader)throw new TypeError("setUnprotectedHeader can only be called once");return this.unprotectedHeader=t,this}addRecipient(...t){return this.parent.addRecipient(...t)}encrypt(...t){return this.parent.encrypt(...t)}done(){return this.parent}},SF=class{constructor(t){this._recipients=[],this._plaintext=t}addRecipient(t,r){let n=new _F(this,t,{crit:r?.crit});return this._recipients.push(n),n}setProtectedHeader(t){if(this._protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this._protectedHeader=t,this}setSharedUnprotectedHeader(t){if(this._unprotectedHeader)throw new TypeError("setSharedUnprotectedHeader can only be called once");return this._unprotectedHeader=t,this}setAdditionalAuthenticatedData(t){return this._aad=t,this}async encrypt(t){var r,n,o;if(!this._recipients.length)throw new Ra.JWEInvalid("at least one recipient must be added");if(t={deflateRaw:t?.deflateRaw},this._recipients.length===1){let[u]=this._recipients,c=await new wF.FlattenedEncrypt(this._plaintext).setAdditionalAuthenticatedData(this._aad).setProtectedHeader(this._protectedHeader).setSharedUnprotectedHeader(this._unprotectedHeader).setUnprotectedHeader(u.unprotectedHeader).encrypt(u.key,{...u.options,...t}),l={ciphertext:c.ciphertext,iv:c.iv,recipients:[{}],tag:c.tag};return c.aad&&(l.aad=c.aad),c.protected&&(l.protected=c.protected),c.unprotected&&(l.unprotected=c.unprotected),c.encrypted_key&&(l.recipients[0].encrypted_key=c.encrypted_key),c.header&&(l.recipients[0].header=c.header),l}let i;for(let u=0;u<this._recipients.length;u++){let c=this._recipients[u];if(!(0,fTe.default)(this._protectedHeader,this._unprotectedHeader,c.unprotectedHeader))throw new Ra.JWEInvalid("JWE Protected, JWE Shared Unprotected and JWE Per-Recipient Header Parameter names must be disjoint");let l={...this._protectedHeader,...this._unprotectedHeader,...c.unprotectedHeader},{alg:d}=l;if(typeof d!="string"||!d)throw new Ra.JWEInvalid('JWE "alg" (Algorithm) Header Parameter missing or invalid');if(d==="dir"||d==="ECDH-ES")throw new Ra.JWEInvalid('"dir" and "ECDH-ES" alg may only be used with a single recipient');if(typeof l.enc!="string"||!l.enc)throw new Ra.JWEInvalid('JWE "enc" (Encryption Algorithm) Header Parameter missing or invalid');if(!i)i=l.enc;else if(i!==l.enc)throw new Ra.JWEInvalid('JWE "enc" (Encryption Algorithm) Header Parameter must be the same for all recipients');if((0,gTe.default)(Ra.JWEInvalid,new Map,c.options.crit,this._protectedHeader,l),l.zip!==void 0&&(!this._protectedHeader||!this._protectedHeader.zip))throw new Ra.JWEInvalid('JWE "zip" (Compression Algorithm) Header MUST be integrity protected')}let a=(0,dTe.default)(i),s={ciphertext:"",iv:"",recipients:[],tag:""};for(let u=0;u<this._recipients.length;u++){let c=this._recipients[u],l={};s.recipients.push(l);let w={...this._protectedHeader,...this._unprotectedHeader,...c.unprotectedHeader}.alg.startsWith("PBES2")?2048+u:void 0;if(u===0){let f=await new wF.FlattenedEncrypt(this._plaintext).setAdditionalAuthenticatedData(this._aad).setContentEncryptionKey(a).setProtectedHeader(this._protectedHeader).setSharedUnprotectedHeader(this._unprotectedHeader).setUnprotectedHeader(c.unprotectedHeader).setKeyManagementParameters({p2c:w}).encrypt(c.key,{...c.options,...t,[wF.unprotected]:!0});s.ciphertext=f.ciphertext,s.iv=f.iv,s.tag=f.tag,f.aad&&(s.aad=f.aad),f.protected&&(s.protected=f.protected),f.unprotected&&(s.unprotected=f.unprotected),l.encrypted_key=f.encrypted_key,f.header&&(l.header=f.header);continue}let{encryptedKey:m,parameters:p}=await(0,hTe.default)(((r=c.unprotectedHeader)===null||r===void 0?void 0:r.alg)||((n=this._protectedHeader)===null||n===void 0?void 0:n.alg)||((o=this._unprotectedHeader)===null||o===void 0?void 0:o.alg),i,c.key,a,{p2c:w});l.encrypted_key=(0,mTe.encode)(m),(c.unprotectedHeader||p)&&(l.header={...c.unprotectedHeader,...p})}return s}};CS.GeneralEncrypt=SF});var xF=E(EF=>{"use strict";Object.defineProperty(EF,"__esModule",{value:!0});var yTe=De();function bTe(e){switch(e){case"PS256":case"RS256":case"ES256":case"ES256K":return"sha256";case"PS384":case"RS384":case"ES384":return"sha384";case"PS512":case"RS512":case"ES512":return"sha512";case"EdDSA":return;default:throw new yTe.JOSENotSupported(`alg ${e} is not supported either by JOSE or your javascript runtime`)}}EF.default=bTe});var DF=E(PF=>{"use strict";Object.defineProperty(PF,"__esModule",{value:!0});var boe=require("crypto"),wTe=zf(),_Te=De(),vF=Kf(),Cl=Yf(),woe={padding:boe.constants.RSA_PKCS1_PSS_PADDING,saltLength:boe.constants.RSA_PSS_SALTLEN_DIGEST},STe=new Map([["ES256","P-256"],["ES256K","secp256k1"],["ES384","P-384"],["ES512","P-521"]]);function ETe(e,t){switch(e){case"EdDSA":if(!["ed25519","ed448"].includes(t.asymmetricKeyType))throw new TypeError("Invalid key for this operation, its asymmetricKeyType must be ed25519 or ed448");return t;case"RS256":case"RS384":case"RS512":if(t.asymmetricKeyType!=="rsa")throw new TypeError("Invalid key for this operation, its asymmetricKeyType must be rsa");return(0,vF.default)(t,e),t;case(Cl.rsaPssParams&&"PS256"):case(Cl.rsaPssParams&&"PS384"):case(Cl.rsaPssParams&&"PS512"):if(t.asymmetricKeyType==="rsa-pss"){let{hashAlgorithm:r,mgf1HashAlgorithm:n,saltLength:o}=t.asymmetricKeyDetails,i=parseInt(e.slice(-3),10);if(r!==void 0&&(r!==`sha${i}`||n!==r))throw new TypeError(`Invalid key for this operation, its RSA-PSS parameters do not meet the requirements of "alg" ${e}`);if(o!==void 0&&o>i>>3)throw new TypeError(`Invalid key for this operation, its RSA-PSS parameter saltLength does not meet the requirements of "alg" ${e}`)}else if(t.asymmetricKeyType!=="rsa")throw new TypeError("Invalid key for this operation, its asymmetricKeyType must be rsa or rsa-pss");return(0,vF.default)(t,e),{key:t,...woe};case(!Cl.rsaPssParams&&"PS256"):case(!Cl.rsaPssParams&&"PS384"):case(!Cl.rsaPssParams&&"PS512"):if(t.asymmetricKeyType!=="rsa")throw new TypeError("Invalid key for this operation, its asymmetricKeyType must be rsa");return(0,vF.default)(t,e),{key:t,...woe};case"ES256":case"ES256K":case"ES384":case"ES512":{if(t.asymmetricKeyType!=="ec")throw new TypeError("Invalid key for this operation, its asymmetricKeyType must be ec");let r=(0,wTe.default)(t),n=STe.get(e);if(r!==n)throw new TypeError(`Invalid key curve for the algorithm, its curve must be ${n}, got ${r}`);return{dsaEncoding:"ieee-p1363",key:t}}default:throw new _Te.JOSENotSupported(`alg ${e} is not supported either by JOSE or your javascript runtime`)}}PF.default=ETe});var _oe=E(AF=>{"use strict";Object.defineProperty(AF,"__esModule",{value:!0});var xTe=De();function vTe(e){switch(e){case"HS256":return"sha256";case"HS384":return"sha384";case"HS512":return"sha512";default:throw new xTe.JOSENotSupported(`alg ${e} is not supported either by JOSE or your javascript runtime`)}}AF.default=vTe});var CF=E(kF=>{"use strict";Object.defineProperty(kF,"__esModule",{value:!0});var IF=require("crypto"),PTe=vn(),DTe=ka(),Soe=Pn(),Eoe=Dn();function ATe(e,t,r){if(t instanceof Uint8Array){if(!e.startsWith("HS"))throw new TypeError((0,Soe.default)(t,...Eoe.types));return(0,IF.createSecretKey)(t)}if(t instanceof IF.KeyObject)return t;if((0,PTe.isCryptoKey)(t))return(0,DTe.checkSigCryptoKey)(t,e,r),IF.KeyObject.from(t);throw new TypeError((0,Soe.default)(t,...Eoe.types,"Uint8Array"))}kF.default=ATe});var OF=E(FF=>{"use strict";Object.defineProperty(FF,"__esModule",{value:!0});var TS=require("crypto"),ITe=require("util"),kTe=xF(),CTe=_oe(),TTe=DF(),FTe=CF(),TF;TS.sign.length>3?TF=(0,ITe.promisify)(TS.sign):TF=TS.sign;var OTe=async(e,t,r)=>{let n=(0,FTe.default)(e,t,"sign");if(e.startsWith("HS")){let o=TS.createHmac((0,CTe.default)(e),n);return o.update(r),o.digest()}return TF((0,kTe.default)(e),r,(0,TTe.default)(e,n))};FF.default=OTe});var xoe=E(BF=>{"use strict";Object.defineProperty(BF,"__esModule",{value:!0});var FS=require("crypto"),RTe=require("util"),BTe=xF(),NTe=DF(),UTe=OF(),qTe=CF(),jTe=Yf(),RF;FS.verify.length>4&&jTe.oneShotCallback?RF=(0,RTe.promisify)(FS.verify):RF=FS.verify;var LTe=async(e,t,r,n)=>{let o=(0,qTe.default)(e,t,"verify");if(e.startsWith("HS")){let s=await(0,UTe.default)(e,o,n),u=r;try{return FS.timingSafeEqual(u,s)}catch{return!1}}let i=(0,BTe.default)(e),a=(0,NTe.default)(e,o);try{return await RF(i,n,a,r)}catch{return!1}};BF.default=LTe});var RS=E(OS=>{"use strict";Object.defineProperty(OS,"__esModule",{value:!0});OS.flattenedVerify=void 0;var NF=Xt(),WTe=xoe(),lr=De(),Tl=ot(),MTe=_l(),voe=xr(),GTe=eh(),$Te=Pl(),zTe=sF();async function HTe(e,t,r){var n;if(!(0,voe.default)(e))throw new lr.JWSInvalid("Flattened JWS must be an object");if(e.protected===void 0&&e.header===void 0)throw new lr.JWSInvalid('Flattened JWS must have either of the "protected" or "header" members');if(e.protected!==void 0&&typeof e.protected!="string")throw new lr.JWSInvalid("JWS Protected Header incorrect type");if(e.payload===void 0)throw new lr.JWSInvalid("JWS Payload missing");if(typeof e.signature!="string")throw new lr.JWSInvalid("JWS Signature missing or incorrect type");if(e.header!==void 0&&!(0,voe.default)(e.header))throw new lr.JWSInvalid("JWS Unprotected Header incorrect type");let o={};if(e.protected)try{let g=(0,NF.decode)(e.protected);o=JSON.parse(Tl.decoder.decode(g))}catch{throw new lr.JWSInvalid("JWS Protected Header is invalid")}if(!(0,MTe.default)(o,e.header))throw new lr.JWSInvalid("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");let i={...o,...e.header},a=(0,$Te.default)(lr.JWSInvalid,new Map([["b64",!0]]),r?.crit,o,i),s=!0;if(a.has("b64")&&(s=o.b64,typeof s!="boolean"))throw new lr.JWSInvalid('The "b64" (base64url-encode payload) Header Parameter must be a boolean');let{alg:u}=i;if(typeof u!="string"||!u)throw new lr.JWSInvalid('JWS "alg" (Algorithm) Header Parameter missing or invalid');let c=r&&(0,zTe.default)("algorithms",r.algorithms);if(c&&!c.has(u))throw new lr.JOSEAlgNotAllowed('"alg" (Algorithm) Header Parameter not allowed');if(s){if(typeof e.payload!="string")throw new lr.JWSInvalid("JWS Payload must be a string")}else if(typeof e.payload!="string"&&!(e.payload instanceof Uint8Array))throw new lr.JWSInvalid("JWS Payload must be a string or an Uint8Array instance");let l=!1;typeof t=="function"&&(t=await t(o,e),l=!0),(0,GTe.default)(u,t,"verify");let d=(0,Tl.concat)(Tl.encoder.encode((n=e.protected)!==null&&n!==void 0?n:""),Tl.encoder.encode("."),typeof e.payload=="string"?Tl.encoder.encode(e.payload):e.payload),w=(0,NF.decode)(e.signature);if(!await(0,WTe.default)(u,t,w,d))throw new lr.JWSSignatureVerificationFailed;let p;s?p=(0,NF.decode)(e.payload):typeof e.payload=="string"?p=Tl.encoder.encode(e.payload):p=e.payload;let f={payload:p};return e.protected!==void 0&&(f.protectedHeader=o),e.header!==void 0&&(f.unprotectedHeader=e.header),l?{...f,key:t}:f}OS.flattenedVerify=HTe});var UF=E(BS=>{"use strict";Object.defineProperty(BS,"__esModule",{value:!0});BS.compactVerify=void 0;var KTe=RS(),Poe=De(),JTe=ot();async function VTe(e,t,r){if(e instanceof Uint8Array&&(e=JTe.decoder.decode(e)),typeof e!="string")throw new Poe.JWSInvalid("Compact JWS must be a string or Uint8Array");let{0:n,1:o,2:i,length:a}=e.split(".");if(a!==3)throw new Poe.JWSInvalid("Invalid Compact JWS");let s=await(0,KTe.flattenedVerify)({payload:o,protected:n,signature:i},t,r),u={payload:s.payload,protectedHeader:s.protectedHeader};return typeof t=="function"?{...u,key:s.key}:u}BS.compactVerify=VTe});var Aoe=E(NS=>{"use strict";Object.defineProperty(NS,"__esModule",{value:!0});NS.generalVerify=void 0;var ZTe=RS(),qF=De(),Doe=xr();async function QTe(e,t,r){if(!(0,Doe.default)(e))throw new qF.JWSInvalid("General JWS must be an object");if(!Array.isArray(e.signatures)||!e.signatures.every(Doe.default))throw new qF.JWSInvalid("JWS Signatures missing or incorrect type");for(let n of e.signatures)try{return await(0,ZTe.flattenedVerify)({header:n.header,payload:e.payload,protected:n.protected,signature:n.signature},t,r)}catch{}throw new qF.JWSSignatureVerificationFailed}NS.generalVerify=QTe});var LF=E(jF=>{"use strict";Object.defineProperty(jF,"__esModule",{value:!0});jF.default=e=>Math.floor(e.getTime()/1e3)});var GF=E(MF=>{"use strict";Object.defineProperty(MF,"__esModule",{value:!0});var Ioe=60,koe=Ioe*60,WF=koe*24,YTe=WF*7,XTe=WF*365.25,e6e=/^(\d+|\d+\.\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)$/i;MF.default=e=>{let t=e6e.exec(e);if(!t)throw new TypeError("Invalid time period format");let r=parseFloat(t[1]);switch(t[2].toLowerCase()){case"sec":case"secs":case"second":case"seconds":case"s":return Math.round(r);case"minute":case"minutes":case"min":case"mins":case"m":return Math.round(r*Ioe);case"hour":case"hours":case"hr":case"hrs":case"h":return Math.round(r*koe);case"day":case"days":case"d":return Math.round(r*WF);case"week":case"weeks":case"w":return Math.round(r*YTe);default:return Math.round(r*XTe)}}});var US=E($F=>{"use strict";Object.defineProperty($F,"__esModule",{value:!0});var An=De(),t6e=ot(),r6e=LF(),Coe=GF(),n6e=xr(),Toe=e=>e.toLowerCase().replace(/^application\//,""),o6e=(e,t)=>typeof e=="string"?t.includes(e):Array.isArray(e)?t.some(Set.prototype.has.bind(new Set(e))):!1;$F.default=(e,t,r={})=>{let{typ:n}=r;if(n&&(typeof e.typ!="string"||Toe(e.typ)!==Toe(n)))throw new An.JWTClaimValidationFailed('unexpected "typ" JWT header value',"typ","check_failed");let o;try{o=JSON.parse(t6e.decoder.decode(t))}catch{}if(!(0,n6e.default)(o))throw new An.JWTInvalid("JWT Claims Set must be a top-level JSON object");let{issuer:i}=r;if(i&&!(Array.isArray(i)?i:[i]).includes(o.iss))throw new An.JWTClaimValidationFailed('unexpected "iss" claim value',"iss","check_failed");let{subject:a}=r;if(a&&o.sub!==a)throw new An.JWTClaimValidationFailed('unexpected "sub" claim value',"sub","check_failed");let{audience:s}=r;if(s&&!o6e(o.aud,typeof s=="string"?[s]:s))throw new An.JWTClaimValidationFailed('unexpected "aud" claim value',"aud","check_failed");let u;switch(typeof r.clockTolerance){case"string":u=(0,Coe.default)(r.clockTolerance);break;case"number":u=r.clockTolerance;break;case"undefined":u=0;break;default:throw new TypeError("Invalid clockTolerance option type")}let{currentDate:c}=r,l=(0,r6e.default)(c||new Date);if((o.iat!==void 0||r.maxTokenAge)&&typeof o.iat!="number")throw new An.JWTClaimValidationFailed('"iat" claim must be a number',"iat","invalid");if(o.nbf!==void 0){if(typeof o.nbf!="number")throw new An.JWTClaimValidationFailed('"nbf" claim must be a number',"nbf","invalid");if(o.nbf>l+u)throw new An.JWTClaimValidationFailed('"nbf" claim timestamp check failed',"nbf","check_failed")}if(o.exp!==void 0){if(typeof o.exp!="number")throw new An.JWTClaimValidationFailed('"exp" claim must be a number',"exp","invalid");if(o.exp<=l-u)throw new An.JWTExpired('"exp" claim timestamp check failed',"exp","check_failed")}if(r.maxTokenAge){let d=l-o.iat,w=typeof r.maxTokenAge=="number"?r.maxTokenAge:(0,Coe.default)(r.maxTokenAge);if(d-u>w)throw new An.JWTExpired('"iat" claim timestamp check failed (too far in the past)',"iat","check_failed");if(d<0-u)throw new An.JWTClaimValidationFailed('"iat" claim timestamp check failed (it should be in the past)',"iat","check_failed")}return o}});var Foe=E(qS=>{"use strict";Object.defineProperty(qS,"__esModule",{value:!0});qS.jwtVerify=void 0;var i6e=UF(),a6e=US(),s6e=De();async function c6e(e,t,r){var n;let o=await(0,i6e.compactVerify)(e,t,r);if(!((n=o.protectedHeader.crit)===null||n===void 0)&&n.includes("b64")&&o.protectedHeader.b64===!1)throw new s6e.JWTInvalid("JWTs MUST NOT use unencoded payload");let a={payload:(0,a6e.default)(o.protectedHeader,o.payload,r),protectedHeader:o.protectedHeader};return typeof t=="function"?{...a,key:o.key}:a}qS.jwtVerify=c6e});var Ooe=E(jS=>{"use strict";Object.defineProperty(jS,"__esModule",{value:!0});jS.jwtDecrypt=void 0;var u6e=uF(),l6e=US(),zF=De();async function p6e(e,t,r){let n=await(0,u6e.compactDecrypt)(e,t,r),o=(0,l6e.default)(n.protectedHeader,n.plaintext,r),{protectedHeader:i}=n;if(i.iss!==void 0&&i.iss!==o.iss)throw new zF.JWTClaimValidationFailed('replicated "iss" claim header parameter mismatch',"iss","mismatch");if(i.sub!==void 0&&i.sub!==o.sub)throw new zF.JWTClaimValidationFailed('replicated "sub" claim header parameter mismatch',"sub","mismatch");if(i.aud!==void 0&&JSON.stringify(i.aud)!==JSON.stringify(o.aud))throw new zF.JWTClaimValidationFailed('replicated "aud" claim header parameter mismatch',"aud","mismatch");let a={payload:o,protectedHeader:i};return typeof t=="function"?{...a,key:n.key}:a}jS.jwtDecrypt=p6e});var KF=E(LS=>{"use strict";Object.defineProperty(LS,"__esModule",{value:!0});LS.CompactEncrypt=void 0;var d6e=kS(),HF=class{constructor(t){this._flattened=new d6e.FlattenedEncrypt(t)}setContentEncryptionKey(t){return this._flattened.setContentEncryptionKey(t),this}setInitializationVector(t){return this._flattened.setInitializationVector(t),this}setProtectedHeader(t){return this._flattened.setProtectedHeader(t),this}setKeyManagementParameters(t){return this._flattened.setKeyManagementParameters(t),this}async encrypt(t,r){let n=await this._flattened.encrypt(t,r);return[n.protected,n.encrypted_key,n.iv,n.ciphertext,n.tag].join(".")}};LS.CompactEncrypt=HF});var MS=E(WS=>{"use strict";Object.defineProperty(WS,"__esModule",{value:!0});WS.FlattenedSign=void 0;var JF=Xt(),f6e=OF(),h6e=_l(),nh=De(),tc=ot(),m6e=eh(),g6e=Pl(),VF=class{constructor(t){if(!(t instanceof Uint8Array))throw new TypeError("payload must be an instance of Uint8Array");this._payload=t}setProtectedHeader(t){if(this._protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this._protectedHeader=t,this}setUnprotectedHeader(t){if(this._unprotectedHeader)throw new TypeError("setUnprotectedHeader can only be called once");return this._unprotectedHeader=t,this}async sign(t,r){if(!this._protectedHeader&&!this._unprotectedHeader)throw new nh.JWSInvalid("either setProtectedHeader or setUnprotectedHeader must be called before #sign()");if(!(0,h6e.default)(this._protectedHeader,this._unprotectedHeader))throw new nh.JWSInvalid("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");let n={...this._protectedHeader,...this._unprotectedHeader},o=(0,g6e.default)(nh.JWSInvalid,new Map([["b64",!0]]),r?.crit,this._protectedHeader,n),i=!0;if(o.has("b64")&&(i=this._protectedHeader.b64,typeof i!="boolean"))throw new nh.JWSInvalid('The "b64" (base64url-encode payload) Header Parameter must be a boolean');let{alg:a}=n;if(typeof a!="string"||!a)throw new nh.JWSInvalid('JWS "alg" (Algorithm) Header Parameter missing or invalid');(0,m6e.default)(a,t,"sign");let s=this._payload;i&&(s=tc.encoder.encode((0,JF.encode)(s)));let u;this._protectedHeader?u=tc.encoder.encode((0,JF.encode)(JSON.stringify(this._protectedHeader))):u=tc.encoder.encode("");let c=(0,tc.concat)(u,tc.encoder.encode("."),s),l=await(0,f6e.default)(a,t,c),d={signature:(0,JF.encode)(l),payload:""};return i&&(d.payload=tc.decoder.decode(s)),this._unprotectedHeader&&(d.header=this._unprotectedHeader),this._protectedHeader&&(d.protected=tc.decoder.decode(u)),d}};WS.FlattenedSign=VF});var QF=E(GS=>{"use strict";Object.defineProperty(GS,"__esModule",{value:!0});GS.CompactSign=void 0;var y6e=MS(),ZF=class{constructor(t){this._flattened=new y6e.FlattenedSign(t)}setProtectedHeader(t){return this._flattened.setProtectedHeader(t),this}async sign(t,r){let n=await this._flattened.sign(t,r);if(n.payload===void 0)throw new TypeError("use the flattened module for creating JWS with b64: false");return`${n.protected}.${n.payload}.${n.signature}`}};GS.CompactSign=ZF});var Boe=E($S=>{"use strict";Object.defineProperty($S,"__esModule",{value:!0});$S.GeneralSign=void 0;var b6e=MS(),Roe=De(),YF=class{constructor(t,r,n){this.parent=t,this.key=r,this.options=n}setProtectedHeader(t){if(this.protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this.protectedHeader=t,this}setUnprotectedHeader(t){if(this.unprotectedHeader)throw new TypeError("setUnprotectedHeader can only be called once");return this.unprotectedHeader=t,this}addSignature(...t){return this.parent.addSignature(...t)}sign(...t){return this.parent.sign(...t)}done(){return this.parent}},XF=class{constructor(t){this._signatures=[],this._payload=t}addSignature(t,r){let n=new YF(this,t,r);return this._signatures.push(n),n}async sign(){if(!this._signatures.length)throw new Roe.JWSInvalid("at least one signature must be added");let t={signatures:[],payload:""};for(let r=0;r<this._signatures.length;r++){let n=this._signatures[r],o=new b6e.FlattenedSign(this._payload);o.setProtectedHeader(n.protectedHeader),o.setUnprotectedHeader(n.unprotectedHeader);let{payload:i,...a}=await o.sign(n.key,n.options);if(r===0)t.payload=i;else if(t.payload!==i)throw new Roe.JWSInvalid("inconsistent use of JWS Unencoded Payload Option (RFC7797)");t.signatures.push(a)}return t}};$S.GeneralSign=XF});var HS=E(zS=>{"use strict";Object.defineProperty(zS,"__esModule",{value:!0});zS.ProduceJWT=void 0;var e5=LF(),w6e=xr(),Noe=GF(),t5=class{constructor(t){if(!(0,w6e.default)(t))throw new TypeError("JWT Claims Set MUST be an object");this._payload=t}setIssuer(t){return this._payload={...this._payload,iss:t},this}setSubject(t){return this._payload={...this._payload,sub:t},this}setAudience(t){return this._payload={...this._payload,aud:t},this}setJti(t){return this._payload={...this._payload,jti:t},this}setNotBefore(t){return typeof t=="number"?this._payload={...this._payload,nbf:t}:this._payload={...this._payload,nbf:(0,e5.default)(new Date)+(0,Noe.default)(t)},this}setExpirationTime(t){return typeof t=="number"?this._payload={...this._payload,exp:t}:this._payload={...this._payload,exp:(0,e5.default)(new Date)+(0,Noe.default)(t)},this}setIssuedAt(t){return typeof t>"u"?this._payload={...this._payload,iat:(0,e5.default)(new Date)}:this._payload={...this._payload,iat:t},this}};zS.ProduceJWT=t5});var Uoe=E(KS=>{"use strict";Object.defineProperty(KS,"__esModule",{value:!0});KS.SignJWT=void 0;var _6e=QF(),S6e=De(),E6e=ot(),x6e=HS(),r5=class extends x6e.ProduceJWT{setProtectedHeader(t){return this._protectedHeader=t,this}async sign(t,r){var n;let o=new _6e.CompactSign(E6e.encoder.encode(JSON.stringify(this._payload)));if(o.setProtectedHeader(this._protectedHeader),Array.isArray((n=this._protectedHeader)===null||n===void 0?void 0:n.crit)&&this._protectedHeader.crit.includes("b64")&&this._protectedHeader.b64===!1)throw new S6e.JWTInvalid("JWTs MUST NOT use unencoded payload");return o.sign(t,r)}};KS.SignJWT=r5});var qoe=E(JS=>{"use strict";Object.defineProperty(JS,"__esModule",{value:!0});JS.EncryptJWT=void 0;var v6e=KF(),P6e=ot(),D6e=HS(),n5=class extends D6e.ProduceJWT{setProtectedHeader(t){if(this._protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this._protectedHeader=t,this}setKeyManagementParameters(t){if(this._keyManagementParameters)throw new TypeError("setKeyManagementParameters can only be called once");return this._keyManagementParameters=t,this}setContentEncryptionKey(t){if(this._cek)throw new TypeError("setContentEncryptionKey can only be called once");return this._cek=t,this}setInitializationVector(t){if(this._iv)throw new TypeError("setInitializationVector can only be called once");return this._iv=t,this}replicateIssuerAsHeader(){return this._replicateIssuerAsHeader=!0,this}replicateSubjectAsHeader(){return this._replicateSubjectAsHeader=!0,this}replicateAudienceAsHeader(){return this._replicateAudienceAsHeader=!0,this}async encrypt(t,r){let n=new v6e.CompactEncrypt(P6e.encoder.encode(JSON.stringify(this._payload)));return this._replicateIssuerAsHeader&&(this._protectedHeader={...this._protectedHeader,iss:this._payload.iss}),this._replicateSubjectAsHeader&&(this._protectedHeader={...this._protectedHeader,sub:this._payload.sub}),this._replicateAudienceAsHeader&&(this._protectedHeader={...this._protectedHeader,aud:this._payload.aud}),n.setProtectedHeader(this._protectedHeader),this._iv&&n.setInitializationVector(this._iv),this._cek&&n.setContentEncryptionKey(this._cek),this._keyManagementParameters&&n.setKeyManagementParameters(this._keyManagementParameters),n.encrypt(t,r)}};JS.EncryptJWT=n5});var Woe=E(Fl=>{"use strict";Object.defineProperty(Fl,"__esModule",{value:!0});Fl.calculateJwkThumbprintUri=Fl.calculateJwkThumbprint=void 0;var A6e=XT(),I6e=Xt(),joe=De(),k6e=ot(),C6e=xr(),Ba=(e,t)=>{if(typeof e!="string"||!e)throw new joe.JWKInvalid(`${t} missing or invalid`)};async function Loe(e,t){if(!(0,C6e.default)(e))throw new TypeError("JWK must be an object");if(t??(t="sha256"),t!=="sha256"&&t!=="sha384"&&t!=="sha512")throw new TypeError('digestAlgorithm must one of "sha256", "sha384", or "sha512"');let r;switch(e.kty){case"EC":Ba(e.crv,'"crv" (Curve) Parameter'),Ba(e.x,'"x" (X Coordinate) Parameter'),Ba(e.y,'"y" (Y Coordinate) Parameter'),r={crv:e.crv,kty:e.kty,x:e.x,y:e.y};break;case"OKP":Ba(e.crv,'"crv" (Subtype of Key Pair) Parameter'),Ba(e.x,'"x" (Public Key) Parameter'),r={crv:e.crv,kty:e.kty,x:e.x};break;case"RSA":Ba(e.e,'"e" (Exponent) Parameter'),Ba(e.n,'"n" (Modulus) Parameter'),r={e:e.e,kty:e.kty,n:e.n};break;case"oct":Ba(e.k,'"k" (Key Value) Parameter'),r={k:e.k,kty:e.kty};break;default:throw new joe.JOSENotSupported('"kty" (Key Type) Parameter missing or unsupported')}let n=k6e.encoder.encode(JSON.stringify(r));return(0,I6e.encode)(await(0,A6e.default)(t,n))}Fl.calculateJwkThumbprint=Loe;async function T6e(e,t){t??(t="sha256");let r=await Loe(e,t);return`urn:ietf:params:oauth:jwk-thumbprint:sha-${t.slice(-3)}:${r}`}Fl.calculateJwkThumbprintUri=T6e});var Goe=E(VS=>{"use strict";Object.defineProperty(VS,"__esModule",{value:!0});VS.EmbeddedJWK=void 0;var F6e=Xf(),O6e=xr(),Moe=De();async function R6e(e,t){let r={...e,...t.header};if(!(0,O6e.default)(r.jwk))throw new Moe.JWSInvalid('"jwk" (JSON Web Key) Header Parameter must be a JSON object');let n=await(0,F6e.importJWK)({...r.jwk,ext:!0},r.alg,!0);if(n instanceof Uint8Array||n.type!=="public")throw new Moe.JWSInvalid('"jwk" (JSON Web Key) Header Parameter must be a public key');return n}VS.EmbeddedJWK=R6e});var o5=E(Na=>{"use strict";Object.defineProperty(Na,"__esModule",{value:!0});Na.createLocalJWKSet=Na.LocalJWKSet=Na.isJWKSLike=void 0;var B6e=Xf(),oh=De(),N6e=xr();function U6e(e){switch(typeof e=="string"&&e.slice(0,2)){case"RS":case"PS":return"RSA";case"ES":return"EC";case"Ed":return"OKP";default:throw new oh.JOSENotSupported('Unsupported "alg" value for a JSON Web Key Set')}}function $oe(e){return e&&typeof e=="object"&&Array.isArray(e.keys)&&e.keys.every(q6e)}Na.isJWKSLike=$oe;function q6e(e){return(0,N6e.default)(e)}function j6e(e){return typeof structuredClone=="function"?structuredClone(e):JSON.parse(JSON.stringify(e))}var ih=class{constructor(t){if(this._cached=new WeakMap,!$oe(t))throw new oh.JWKSInvalid("JSON Web Key Set malformed");this._jwks=j6e(t)}async getKey(t,r){let{alg:n,kid:o}={...t,...r.header},i=U6e(n),a=this._jwks.keys.filter(l=>{let d=i===l.kty;if(d&&typeof o=="string"&&(d=o===l.kid),d&&typeof l.alg=="string"&&(d=n===l.alg),d&&typeof l.use=="string"&&(d=l.use==="sig"),d&&Array.isArray(l.key_ops)&&(d=l.key_ops.includes("verify")),d&&n==="EdDSA"&&(d=l.crv==="Ed25519"||l.crv==="Ed448"),d)switch(n){case"ES256":d=l.crv==="P-256";break;case"ES256K":d=l.crv==="secp256k1";break;case"ES384":d=l.crv==="P-384";break;case"ES512":d=l.crv==="P-521";break}return d}),{0:s,length:u}=a;if(u===0)throw new oh.JWKSNoMatchingKey;if(u!==1)throw new oh.JWKSMultipleMatchingKeys;let c=this._cached.get(s)||this._cached.set(s,{}).get(s);if(c[n]===void 0){let l=await(0,B6e.importJWK)({...s,ext:!0},n);if(l instanceof Uint8Array||l.type!=="public")throw new oh.JWKSInvalid("JSON Web Key Set members must be public keys");c[n]=l}return c[n]}};Na.LocalJWKSet=ih;function L6e(e){return ih.prototype.getKey.bind(new ih(e))}Na.createLocalJWKSet=L6e});var Koe=E(a5=>{"use strict";Object.defineProperty(a5,"__esModule",{value:!0});var W6e=require("http"),M6e=require("https"),zoe=require("events"),i5=De(),Hoe=ot(),G6e=async(e,t,r)=>{let n;switch(e.protocol){case"https:":n=M6e.get;break;case"http:":n=W6e.get;break;default:throw new TypeError("Unsupported URL protocol.")}let{agent:o,headers:i}=r,a=n(e.href,{agent:o,timeout:t,headers:i}),[s]=await Promise.race([(0,zoe.once)(a,"response"),(0,zoe.once)(a,"timeout")]);if(!s)throw a.destroy(),new i5.JWKSTimeout;if(s.statusCode!==200)throw new i5.JOSEError("Expected 200 OK from the JSON Web Key Set HTTP response");let u=[];for await(let c of s)u.push(c);try{return JSON.parse(Hoe.decoder.decode((0,Hoe.concat)(...u)))}catch{throw new i5.JOSEError("Failed to parse the JSON Web Key Set HTTP response as JSON")}};a5.default=G6e});var Zoe=E(QS=>{"use strict";Object.defineProperty(QS,"__esModule",{value:!0});QS.createRemoteJWKSet=void 0;var $6e=Koe(),z6e=A6(),Joe=De(),Voe=o5(),ZS=class extends Voe.LocalJWKSet{constructor(t,r){if(super({keys:[]}),this._jwks=void 0,!(t instanceof URL))throw new TypeError("url must be an instance of URL");this._url=new URL(t.href),this._options={agent:r?.agent,headers:r?.headers},this._timeoutDuration=typeof r?.timeoutDuration=="number"?r?.timeoutDuration:5e3,this._cooldownDuration=typeof r?.cooldownDuration=="number"?r?.cooldownDuration:3e4,this._cacheMaxAge=typeof r?.cacheMaxAge=="number"?r?.cacheMaxAge:6e5}coolingDown(){return typeof this._jwksTimestamp=="number"?Date.now()<this._jwksTimestamp+this._cooldownDuration:!1}fresh(){return typeof this._jwksTimestamp=="number"?Date.now()<this._jwksTimestamp+this._cacheMaxAge:!1}async getKey(t,r){(!this._jwks||!this.fresh())&&await this.reload();try{return await super.getKey(t,r)}catch(n){if(n instanceof Joe.JWKSNoMatchingKey&&this.coolingDown()===!1)return await this.reload(),super.getKey(t,r);throw n}}async reload(){if(this._pendingFetch&&(0,z6e.isCloudflareWorkers)())return new Promise(t=>{let r=()=>{this._pendingFetch===void 0?t():setTimeout(r,5)};r()});this._pendingFetch||(this._pendingFetch=(0,$6e.default)(this._url,this._timeoutDuration,this._options).then(t=>{if(!(0,Voe.isJWKSLike)(t))throw new Joe.JWKSInvalid("JSON Web Key Set malformed");this._jwks={keys:t.keys},this._jwksTimestamp=Date.now(),this._pendingFetch=void 0}).catch(t=>{throw this._pendingFetch=void 0,t})),await this._pendingFetch}};function H6e(e,t){return ZS.prototype.getKey.bind(new ZS(e,t))}QS.createRemoteJWKSet=H6e});var Qoe=E(XS=>{"use strict";Object.defineProperty(XS,"__esModule",{value:!0});XS.UnsecuredJWT=void 0;var YS=Xt(),K6e=ot(),s5=De(),J6e=US(),V6e=HS(),c5=class extends V6e.ProduceJWT{encode(){let t=YS.encode(JSON.stringify({alg:"none"})),r=YS.encode(JSON.stringify(this._payload));return`${t}.${r}.`}static decode(t,r){if(typeof t!="string")throw new s5.JWTInvalid("Unsecured JWT must be a string");let{0:n,1:o,2:i,length:a}=t.split(".");if(a!==3||i!=="")throw new s5.JWTInvalid("Invalid Unsecured JWT");let s;try{if(s=JSON.parse(K6e.decoder.decode(YS.decode(n))),s.alg!=="none")throw new Error}catch{throw new s5.JWTInvalid("Invalid Unsecured JWT")}return{payload:(0,J6e.default)(s,YS.decode(o),r),header:s}}};XS.UnsecuredJWT=c5});var eE=E(Ol=>{"use strict";Object.defineProperty(Ol,"__esModule",{value:!0});Ol.decode=Ol.encode=void 0;var Yoe=Xt();Ol.encode=Yoe.encode;Ol.decode=Yoe.decode});var Xoe=E(tE=>{"use strict";Object.defineProperty(tE,"__esModule",{value:!0});tE.decodeProtectedHeader=void 0;var Z6e=eE(),Q6e=ot(),Y6e=xr();function X6e(e){let t;if(typeof e=="string"){let r=e.split(".");(r.length===3||r.length===5)&&([t]=r)}else if(typeof e=="object"&&e)if("protected"in e)t=e.protected;else throw new TypeError("Token does not contain a Protected Header");try{if(typeof t!="string"||!t)throw new Error;let r=JSON.parse(Q6e.decoder.decode((0,Z6e.decode)(t)));if(!(0,Y6e.default)(r))throw new Error;return r}catch{throw new TypeError("Invalid Token or Protected Header formatting")}}tE.decodeProtectedHeader=X6e});var eie=E(rE=>{"use strict";Object.defineProperty(rE,"__esModule",{value:!0});rE.decodeJwt=void 0;var eFe=eE(),tFe=ot(),rFe=xr(),rc=De();function nFe(e){if(typeof e!="string")throw new rc.JWTInvalid("JWTs must use Compact JWS serialization, JWT must be a string");let{1:t,length:r}=e.split(".");if(r===5)throw new rc.JWTInvalid("Only JWTs using Compact JWS serialization can be decoded");if(r!==3)throw new rc.JWTInvalid("Invalid JWT");if(!t)throw new rc.JWTInvalid("JWTs must contain a payload");let n;try{n=(0,eFe.decode)(t)}catch{throw new rc.JWTInvalid("Failed to parse the base64url encoded payload")}let o;try{o=JSON.parse(tFe.decoder.decode(n))}catch{throw new rc.JWTInvalid("Failed to parse the decoded payload as JSON")}if(!(0,rFe.default)(o))throw new rc.JWTInvalid("Invalid JWT Claims Set");return o}rE.decodeJwt=nFe});var u5=E(Rl=>{"use strict";Object.defineProperty(Rl,"__esModule",{value:!0});Rl.generateKeyPair=Rl.generateSecret=void 0;var rie=require("crypto"),oFe=require("util"),iFe=Lf(),tie=Kf(),ah=De(),Wo=(0,oFe.promisify)(rie.generateKeyPair);async function aFe(e,t){let r;switch(e){case"HS256":case"HS384":case"HS512":case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":r=parseInt(e.slice(-3),10);break;case"A128KW":case"A192KW":case"A256KW":case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":case"A128GCM":case"A192GCM":case"A256GCM":r=parseInt(e.slice(1,4),10);break;default:throw new ah.JOSENotSupported('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}return(0,rie.createSecretKey)((0,iFe.default)(new Uint8Array(r>>3)))}Rl.generateSecret=aFe;async function sFe(e,t){var r,n;switch(e){case"RS256":case"RS384":case"RS512":case"PS256":case"PS384":case"PS512":case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":case"RSA1_5":{let i=(r=t?.modulusLength)!==null&&r!==void 0?r:2048;if(typeof i!="number"||i<2048)throw new ah.JOSENotSupported("Invalid or unsupported modulusLength option provided, 2048 bits or larger keys must be used");let a=await Wo("rsa",{modulusLength:i,publicExponent:65537});return(0,tie.setModulusLength)(a.privateKey,i),(0,tie.setModulusLength)(a.publicKey,i),a}case"ES256":return Wo("ec",{namedCurve:"P-256"});case"ES256K":return Wo("ec",{namedCurve:"secp256k1"});case"ES384":return Wo("ec",{namedCurve:"P-384"});case"ES512":return Wo("ec",{namedCurve:"P-521"});case"EdDSA":switch(t?.crv){case void 0:case"Ed25519":return Wo("ed25519");case"Ed448":return Wo("ed448");default:throw new ah.JOSENotSupported("Invalid or unsupported crv option provided, supported values are Ed25519 and Ed448")}case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":let o=(n=t?.crv)!==null&&n!==void 0?n:"P-256";switch(o){case void 0:case"P-256":case"P-384":case"P-521":return Wo("ec",{namedCurve:o});case"X25519":return Wo("x25519");case"X448":return Wo("x448");default:throw new ah.JOSENotSupported("Invalid or unsupported crv option provided, supported values are P-256, P-384, P-521, X25519, and X448")}default:throw new ah.JOSENotSupported('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}}Rl.generateKeyPair=sFe});var nie=E(nE=>{"use strict";Object.defineProperty(nE,"__esModule",{value:!0});nE.generateKeyPair=void 0;var cFe=u5();async function uFe(e,t){return(0,cFe.generateKeyPair)(e,t)}nE.generateKeyPair=uFe});var oie=E(oE=>{"use strict";Object.defineProperty(oE,"__esModule",{value:!0});oE.generateSecret=void 0;var lFe=u5();async function pFe(e,t){return(0,lFe.generateSecret)(e,t)}oE.generateSecret=pFe});var aE=E(ie=>{"use strict";Object.defineProperty(ie,"__esModule",{value:!0});ie.base64url=ie.generateSecret=ie.generateKeyPair=ie.errors=ie.decodeJwt=ie.decodeProtectedHeader=ie.importJWK=ie.importX509=ie.importPKCS8=ie.importSPKI=ie.exportJWK=ie.exportSPKI=ie.exportPKCS8=ie.UnsecuredJWT=ie.createRemoteJWKSet=ie.createLocalJWKSet=ie.EmbeddedJWK=ie.calculateJwkThumbprintUri=ie.calculateJwkThumbprint=ie.EncryptJWT=ie.SignJWT=ie.GeneralSign=ie.FlattenedSign=ie.CompactSign=ie.FlattenedEncrypt=ie.CompactEncrypt=ie.jwtDecrypt=ie.jwtVerify=ie.generalVerify=ie.flattenedVerify=ie.compactVerify=ie.GeneralEncrypt=ie.generalDecrypt=ie.flattenedDecrypt=ie.compactDecrypt=void 0;var dFe=uF();Object.defineProperty(ie,"compactDecrypt",{enumerable:!0,get:function(){return dFe.compactDecrypt}});var fFe=ES();Object.defineProperty(ie,"flattenedDecrypt",{enumerable:!0,get:function(){return fFe.flattenedDecrypt}});var hFe=loe();Object.defineProperty(ie,"generalDecrypt",{enumerable:!0,get:function(){return hFe.generalDecrypt}});var mFe=yoe();Object.defineProperty(ie,"GeneralEncrypt",{enumerable:!0,get:function(){return mFe.GeneralEncrypt}});var gFe=UF();Object.defineProperty(ie,"compactVerify",{enumerable:!0,get:function(){return gFe.compactVerify}});var yFe=RS();Object.defineProperty(ie,"flattenedVerify",{enumerable:!0,get:function(){return yFe.flattenedVerify}});var bFe=Aoe();Object.defineProperty(ie,"generalVerify",{enumerable:!0,get:function(){return bFe.generalVerify}});var wFe=Foe();Object.defineProperty(ie,"jwtVerify",{enumerable:!0,get:function(){return wFe.jwtVerify}});var _Fe=Ooe();Object.defineProperty(ie,"jwtDecrypt",{enumerable:!0,get:function(){return _Fe.jwtDecrypt}});var SFe=KF();Object.defineProperty(ie,"CompactEncrypt",{enumerable:!0,get:function(){return SFe.CompactEncrypt}});var EFe=kS();Object.defineProperty(ie,"FlattenedEncrypt",{enumerable:!0,get:function(){return EFe.FlattenedEncrypt}});var xFe=QF();Object.defineProperty(ie,"CompactSign",{enumerable:!0,get:function(){return xFe.CompactSign}});var vFe=MS();Object.defineProperty(ie,"FlattenedSign",{enumerable:!0,get:function(){return vFe.FlattenedSign}});var PFe=Boe();Object.defineProperty(ie,"GeneralSign",{enumerable:!0,get:function(){return PFe.GeneralSign}});var DFe=Uoe();Object.defineProperty(ie,"SignJWT",{enumerable:!0,get:function(){return DFe.SignJWT}});var AFe=qoe();Object.defineProperty(ie,"EncryptJWT",{enumerable:!0,get:function(){return AFe.EncryptJWT}});var iie=Woe();Object.defineProperty(ie,"calculateJwkThumbprint",{enumerable:!0,get:function(){return iie.calculateJwkThumbprint}});Object.defineProperty(ie,"calculateJwkThumbprintUri",{enumerable:!0,get:function(){return iie.calculateJwkThumbprintUri}});var IFe=Goe();Object.defineProperty(ie,"EmbeddedJWK",{enumerable:!0,get:function(){return IFe.EmbeddedJWK}});var kFe=o5();Object.defineProperty(ie,"createLocalJWKSet",{enumerable:!0,get:function(){return kFe.createLocalJWKSet}});var CFe=Zoe();Object.defineProperty(ie,"createRemoteJWKSet",{enumerable:!0,get:function(){return CFe.createRemoteJWKSet}});var TFe=Qoe();Object.defineProperty(ie,"UnsecuredJWT",{enumerable:!0,get:function(){return TFe.UnsecuredJWT}});var l5=hF();Object.defineProperty(ie,"exportPKCS8",{enumerable:!0,get:function(){return l5.exportPKCS8}});Object.defineProperty(ie,"exportSPKI",{enumerable:!0,get:function(){return l5.exportSPKI}});Object.defineProperty(ie,"exportJWK",{enumerable:!0,get:function(){return l5.exportJWK}});var iE=Xf();Object.defineProperty(ie,"importSPKI",{enumerable:!0,get:function(){return iE.importSPKI}});Object.defineProperty(ie,"importPKCS8",{enumerable:!0,get:function(){return iE.importPKCS8}});Object.defineProperty(ie,"importX509",{enumerable:!0,get:function(){return iE.importX509}});Object.defineProperty(ie,"importJWK",{enumerable:!0,get:function(){return iE.importJWK}});var FFe=Xoe();Object.defineProperty(ie,"decodeProtectedHeader",{enumerable:!0,get:function(){return FFe.decodeProtectedHeader}});var OFe=eie();Object.defineProperty(ie,"decodeJwt",{enumerable:!0,get:function(){return OFe.decodeJwt}});ie.errors=De();var RFe=nie();Object.defineProperty(ie,"generateKeyPair",{enumerable:!0,get:function(){return RFe.generateKeyPair}});var BFe=oie();Object.defineProperty(ie,"generateSecret",{enumerable:!0,get:function(){return BFe.generateSecret}});ie.base64url=eE()});var sh=E(Ua=>{"use strict";var NFe=Ua&&Ua.__awaiter||function(e,t,r,n){function o(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function s(l){try{c(n.next(l))}catch(d){a(d)}}function u(l){try{c(n.throw(l))}catch(d){a(d)}}function c(l){l.done?i(l.value):o(l.value).then(s,u)}c((n=n.apply(e,t||[])).next())})},UFe=Ua&&Ua.__generator||function(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(c){return function(l){return u([c,l])}}function u(c){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(r=0)),r;)try{if(n=1,o&&(i=c[0]&2?o.return:c[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,c[1])).done)return i;switch(o=0,i&&(c=[c[0]&2,i.value]),c[0]){case 0:case 1:i=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,o=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){r.label=c[1];break}if(c[0]===6&&r.label<i[1]){r.label=i[1],i=c;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(c);break}i[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(l){c=[6,l],o=0}finally{n=i=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}};Object.defineProperty(Ua,"__esModule",{value:!0});Ua.createToken=void 0;var qFe=aE(),jFe=new TextEncoder,LFe=function(e){var t=e.payload,r=e.secret,n=e.expiration;return NFe(void 0,void 0,void 0,function(){var o,i;return UFe(this,function(a){return o=jFe.encode(r),i=new qFe.SignJWT(t).setProtectedHeader({alg:"HS256"}),n&&i.setExpirationTime(n),[2,i.sign(o)]})})};Ua.createToken=LFe});var aie=E(qa=>{"use strict";var WFe=qa&&qa.__awaiter||function(e,t,r,n){function o(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function s(l){try{c(n.next(l))}catch(d){a(d)}}function u(l){try{c(n.throw(l))}catch(d){a(d)}}function c(l){l.done?i(l.value):o(l.value).then(s,u)}c((n=n.apply(e,t||[])).next())})},MFe=qa&&qa.__generator||function(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(c){return function(l){return u([c,l])}}function u(c){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(r=0)),r;)try{if(n=1,o&&(i=c[0]&2?o.return:c[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,c[1])).done)return i;switch(o=0,i&&(c=[c[0]&2,i.value]),c[0]){case 0:case 1:i=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,o=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){r.label=c[1];break}if(c[0]===6&&r.label<i[1]){r.label=i[1],i=c;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(c);break}i[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(l){c=[6,l],o=0}finally{n=i=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}};Object.defineProperty(qa,"__esModule",{value:!0});qa.createAccessToken=void 0;var GFe=sh(),$Fe=function(e){return WFe(void 0,void 0,void 0,function(){return MFe(this,function(t){return[2,(0,GFe.createToken)(e)]})})};qa.createAccessToken=$Fe});var sie=E(ja=>{"use strict";var zFe=ja&&ja.__awaiter||function(e,t,r,n){function o(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function s(l){try{c(n.next(l))}catch(d){a(d)}}function u(l){try{c(n.throw(l))}catch(d){a(d)}}function c(l){l.done?i(l.value):o(l.value).then(s,u)}c((n=n.apply(e,t||[])).next())})},HFe=ja&&ja.__generator||function(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(c){return function(l){return u([c,l])}}function u(c){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(r=0)),r;)try{if(n=1,o&&(i=c[0]&2?o.return:c[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,c[1])).done)return i;switch(o=0,i&&(c=[c[0]&2,i.value]),c[0]){case 0:case 1:i=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,o=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){r.label=c[1];break}if(c[0]===6&&r.label<i[1]){r.label=i[1],i=c;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(c);break}i[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(l){c=[6,l],o=0}finally{n=i=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}};Object.defineProperty(ja,"__esModule",{value:!0});ja.createAssetsAccessToken=void 0;var KFe=sh(),JFe=function(e){return zFe(void 0,void 0,void 0,function(){return HFe(this,function(t){return[2,(0,KFe.createToken)(e)]})})};ja.createAssetsAccessToken=JFe});var uie=E((_ft,cie)=>{var VFe="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";cie.exports={urlAlphabet:VFe}});var sE=E((Sft,mie)=>{var lie=require("crypto"),{urlAlphabet:pie}=uie(),ZFe=128,La,Wa,die=e=>{!La||La.length<e?(La=Buffer.allocUnsafe(e*ZFe),lie.randomFillSync(La),Wa=0):Wa+e>La.length&&(lie.randomFillSync(La),Wa=0),Wa+=e},fie=e=>(die(e-=0),La.subarray(Wa-e,Wa)),hie=(e,t,r)=>{let n=(2<<31-Math.clz32(e.length-1|1))-1,o=Math.ceil(1.6*n*t/e.length);return(i=t)=>{let a="";for(;;){let s=r(o),u=o;for(;u--;)if(a+=e[s[u]&n]||"",a.length===i)return a}}},QFe=(e,t=21)=>hie(e,t,fie),YFe=(e=21)=>{die(e-=0);let t="";for(let r=Wa-e;r<Wa;r++)t+=pie[La[r]&63];return t};mie.exports={nanoid:YFe,customAlphabet:QFe,customRandom:hie,urlAlphabet:pie,random:fie}});var gie=E(Ma=>{"use strict";var XFe=Ma&&Ma.__awaiter||function(e,t,r,n){function o(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function s(l){try{c(n.next(l))}catch(d){a(d)}}function u(l){try{c(n.throw(l))}catch(d){a(d)}}function c(l){l.done?i(l.value):o(l.value).then(s,u)}c((n=n.apply(e,t||[])).next())})},e5e=Ma&&Ma.__generator||function(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(c){return function(l){return u([c,l])}}function u(c){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(r=0)),r;)try{if(n=1,o&&(i=c[0]&2?o.return:c[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,c[1])).done)return i;switch(o=0,i&&(c=[c[0]&2,i.value]),c[0]){case 0:case 1:i=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,o=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){r.label=c[1];break}if(c[0]===6&&r.label<i[1]){r.label=i[1],i=c;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(c);break}i[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(l){c=[6,l],o=0}finally{n=i=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}};Object.defineProperty(Ma,"__esModule",{value:!0});Ma.createChallengeToken=void 0;var t5e=sE(),r5e=sh(),n5e=function(e){var t=e.secret;return XFe(void 0,void 0,void 0,function(){return e5e(this,function(r){return[2,(0,r5e.createToken)({payload:{challenge:(0,t5e.nanoid)(20)},secret:t,expiration:"10m"})]})})};Ma.createChallengeToken=n5e});var yie=E(Ga=>{"use strict";var o5e=Ga&&Ga.__awaiter||function(e,t,r,n){function o(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function s(l){try{c(n.next(l))}catch(d){a(d)}}function u(l){try{c(n.throw(l))}catch(d){a(d)}}function c(l){l.done?i(l.value):o(l.value).then(s,u)}c((n=n.apply(e,t||[])).next())})},i5e=Ga&&Ga.__generator||function(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(c){return function(l){return u([c,l])}}function u(c){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(r=0)),r;)try{if(n=1,o&&(i=c[0]&2?o.return:c[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,c[1])).done)return i;switch(o=0,i&&(c=[c[0]&2,i.value]),c[0]){case 0:case 1:i=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,o=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){r.label=c[1];break}if(c[0]===6&&r.label<i[1]){r.label=i[1],i=c;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(c);break}i[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(l){c=[6,l],o=0}finally{n=i=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}};Object.defineProperty(Ga,"__esModule",{value:!0});Ga.createMigrationToken=void 0;var a5e=sh(),s5e=function(e){return o5e(void 0,void 0,void 0,function(){return i5e(this,function(t){return[2,(0,a5e.createToken)(e)]})})};Ga.createMigrationToken=s5e});var bie=E(cE=>{"use strict";Object.defineProperty(cE,"__esModule",{value:!0});cE.createPersonalAccessToken=void 0;var c5e=sE(),u5e=function(){return"pat_".concat((0,c5e.nanoid)(20))};cE.createPersonalAccessToken=u5e});var wie=E(uE=>{"use strict";Object.defineProperty(uE,"__esModule",{value:!0});uE.decodeToken=void 0;var l5e=it(),p5e=aE(),d5e=function(e){var t=e.token;try{return(0,p5e.decodeJwt)(t)}catch{throw new l5e.AuthorizationError}};uE.decodeToken=d5e});var _ie=E(lE=>{"use strict";Object.defineProperty(lE,"__esModule",{value:!0});lE.decodeAccessToken=void 0;var f5e=wie(),h5e=function(e){return(0,f5e.decodeToken)(e)};lE.decodeAccessToken=h5e});var Sie=E(pE=>{"use strict";Object.defineProperty(pE,"__esModule",{value:!0});pE.getTokenFromRequest=void 0;var m5e=it(),g5e=function(e){var t=e.headers.authorization;if(!t)throw new m5e.AuthorizationError;return t.replace("Bearer ","")};pE.getTokenFromRequest=g5e});var Eie=E((ch,p5)=>{(function(e,t){if(typeof ch=="object"&&typeof p5=="object")p5.exports=t();else if(typeof define=="function"&&define.amd)define([],t);else if(typeof ch=="object")ch.JsCrypto=t();else{var r=t();for(var n in e.JsCrypto=e.JsCrypto||{},r)e.JsCrypto[n]=r[n]}})(ch,function(){return function(){"use strict";var e={9691:function(o,i,a){a.d(i,{AES:function(){return U}});var s,u=a(9456),c=a(787),l=a(5693),d=a(9109),w=(s=function(B,O){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,R){k.__proto__=R}||function(k,R){for(var q in R)Object.prototype.hasOwnProperty.call(R,q)&&(k[q]=R[q])})(B,O)},function(B,O){function k(){this.constructor=B}s(B,O),B.prototype=O===null?Object.create(O):(k.prototype=O.prototype,new k)}),m=function(){return(m=Object.assign||function(B){for(var O,k=1,R=arguments.length;k<R;k++)for(var q in O=arguments[k])Object.prototype.hasOwnProperty.call(O,q)&&(B[q]=O[q]);return B}).apply(this,arguments)},p=[],f=[],g=[],h=[],y=[],_=[],S=[],x=[],A=[],D=[];(function(){for(var B=[],O=0;O<256;O++)B[O]=O<128?O<<1:O<<1^283;var k=0,R=0;for(O=0;O<256;O++){var q=R^R<<1^R<<2^R<<3^R<<4;q=q>>>8^255&q^99,p[k]=q,f[q]=k;var ae=B[k],de=B[ae],le=B[de],te=257*B[q]^16843008*q;g[k]=te<<24|te>>>8,h[k]=te<<16|te>>>16,y[k]=te<<8|te>>>24,_[k]=te,te=16843009*le^65537*de^257*ae^16843008*k,S[q]=te<<24|te>>>8,x[q]=te<<16|te>>>16,A[q]=te<<8|te>>>24,D[q]=te,k?(k=ae^B[B[B[le^ae]]],R^=B[B[R]]):k=R=1}})();var P=[0,1,2,4,8,16,32,64,128,27,54],U=function(B){function O(k){var R=B.call(this,k)||this;return R.u=0,R.h=[],R.v=[],R.O=k,R.A(),R}return w(O,B),O.prototype.A=function(){var k;if(!this.u||this.k!==this.H){for(var R=this.k=this.H,q=R.words,ae=R.nSigBytes/4,de=4*((this.u=ae+6)+1),le=this.h=[],te=0;te<de;te++)te<ae?le[te]=q[te]:(k=le[te-1],te%ae?ae>6&&te%ae==4&&(k=p[k>>>24]<<24|p[k>>>16&255]<<16|p[k>>>8&255]<<8|p[255&k]):(k=p[(k=k<<8|k>>>24)>>>24]<<24|p[k>>>16&255]<<16|p[k>>>8&255]<<8|p[255&k],k^=P[te/ae|0]<<24),le[te]=le[te-ae]^k);this.v=[];for(var pe=0;pe<de;pe++)te=de-pe,k=pe%4?le[te]:le[te-4],this.v[pe]=pe<4||te<=4?k:S[p[k>>>24]]^x[p[k>>>16&255]]^A[p[k>>>8&255]]^D[p[255&k]]}},O.prototype.encryptBlock=function(k,R){this.B(k,R,this.h,g,h,y,_,p)},O.prototype.decryptBlock=function(k,R){var q=k[R+1];k[R+1]=k[R+3],k[R+3]=q,this.B(k,R,this.v,S,x,A,D,f),q=k[R+1],k[R+1]=k[R+3],k[R+3]=q},O.prototype.B=function(k,R,q,ae,de,le,te,pe){for(var Ee=this.u,Pe=k[R]^q[0],ve=k[R+1]^q[1],Ae=k[R+2]^q[2],Ge=k[R+3]^q[3],W=4,$=1;$<Ee;$++){var M=ae[Pe>>>24]^de[ve>>>16&255]^le[Ae>>>8&255]^te[255&Ge]^q[W++],z=ae[ve>>>24]^de[Ae>>>16&255]^le[Ge>>>8&255]^te[255&Pe]^q[W++],$t=ae[Ae>>>24]^de[Ge>>>16&255]^le[Pe>>>8&255]^te[255&ve]^q[W++],er=ae[Ge>>>24]^de[Pe>>>16&255]^le[ve>>>8&255]^te[255&Ae]^q[W++];Pe=M,ve=z,Ae=$t,Ge=er}var zt=(pe[Pe>>>24]<<24|pe[ve>>>16&255]<<16|pe[Ae>>>8&255]<<8|pe[255&Ge])^q[W++],tr=(pe[ve>>>24]<<24|pe[Ae>>>16&255]<<16|pe[Ge>>>8&255]<<8|pe[255&Pe])^q[W++],za=(pe[Ae>>>24]<<24|pe[Ge>>>16&255]<<16|pe[Pe>>>8&255]<<8|pe[255&ve])^q[W++],Mo=(pe[Ge>>>24]<<24|pe[Pe>>>16&255]<<16|pe[ve>>>8&255]<<8|pe[255&Ae])^q[W++];k[R]=zt,k[R+1]=tr,k[R+2]=za,k[R+3]=Mo},O.createEncryptor=function(k,R){return new O(m(m({},R=R===void 0?{}:R),{key:k,transformMode:u.t.ENC_TRANSFORM_MODE}))},O.createDecryptor=function(k,R){return new O(m(m({},R=R===void 0?{}:R),{key:k,transformMode:u.t.DEC_TRANSFORM_MODE}))},O.encrypt=function(k,R,q){if(typeof R=="string")return l.E.encrypt(O,k,R,q);if(R.nSigBytes%4!=0)throw new Error("Key size must be multiple of 32bit/4byte/1word");return d.D.encrypt(O,k,R,q)},O.decrypt=function(k,R,q){if(typeof R=="string")return l.E.decrypt(O,k,R,q);if(R.nSigBytes%4!=0)throw new Error("Key size must be multiple of 32bit/4byte/1word");return d.D.decrypt(O,k,R,q)},O.keySize=8,O}(c.G)},3967:function(o,i,a){a.d(i,{CBCMAC:function(){return d}});var s=a(4768),u=a(3354),c=a(9691),l=a(3664);function d(w,m,p,f,g,h){var y=h&&h.Cipher?h.Cipher:c.AES,_=typeof p=="string"?s.d.parse(p):p,S=f||new u.e([0,0]),x=typeof m=="string"?s.d.parse(m):m,A=typeof w=="string"?s.d.parse(w):w,D=g||16;return l.K.mac(y,_,S,x,A,D)}},9910:function(o,i,a){a.d(i,{DES:function(){return _}});var s,u=a(787),c=a(9456),l=a(5693),d=a(9109),w=(s=function(S,x){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,D){A.__proto__=D}||function(A,D){for(var P in D)Object.prototype.hasOwnProperty.call(D,P)&&(A[P]=D[P])})(S,x)},function(S,x){function A(){this.constructor=S}s(S,x),S.prototype=x===null?Object.create(x):(A.prototype=x.prototype,new A)}),m=function(){return(m=Object.assign||function(S){for(var x,A=1,D=arguments.length;A<D;A++)for(var P in x=arguments[A])Object.prototype.hasOwnProperty.call(x,P)&&(S[P]=x[P]);return S}).apply(this,arguments)},p=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],f=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],g=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],h=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],y=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],_=function(S){function x(A){var D=S.call(this,A)||this;return D.N=2,D.I=[],D.U=[],D.L=0,D.F=0,D.O=A,D.A(),D}return w(x,S),x.prototype.A=function(){for(var A=this.H.words,D=[],P=0;P<56;P++){var U=p[P]-1;D[P]=A[U>>>5]>>>31-U%32&1}for(var B=this.I=[],O=0;O<16;O++){var k=B[O]=[],R=g[O];for(P=0;P<24;P++)k[P/6|0]|=D[(f[P]-1+R)%28]<<31-P%6,k[4+(P/6|0)]|=D[28+(f[P+24]-1+R)%28]<<31-P%6;for(k[0]=k[0]<<1|k[0]>>>31,P=1;P<7;P++)k[P]=k[P]>>>4*(P-1)+3;k[7]=k[7]<<5|k[7]>>>27}for(this.U=[],P=0;P<16;P++)this.U[P]=B[15-P]},x.prototype.encryptBlock=function(A,D){this.R(A,D,this.I)},x.prototype.decryptBlock=function(A,D){this.R(A,D,this.U)},x.prototype.R=function(A,D,P){this.L=A[D],this.F=A[D+1],this.X(4,252645135),this.X(16,65535),this.Z(2,858993459),this.Z(8,16711935),this.X(1,1431655765);for(var U=0;U<16;U++){for(var B=P[U],O=this.L,k=this.F,R=0,q=0;q<8;q++){var ae=(k^B[q])&y[q];R|=h[q][ae>>>0]}this.L=k,this.F=O^R}var de=this.L;this.L=this.F,this.F=de,this.X(1,1431655765),this.Z(8,16711935),this.Z(2,858993459),this.X(16,65535),this.X(4,252645135),A[D]=this.L,A[D+1]=this.F},x.prototype.X=function(A,D){var P=(this.L>>>A^this.F)&D;this.F^=P,this.L^=P<<A},x.prototype.Z=function(A,D){var P=(this.F>>>A^this.L)&D;this.L^=P,this.F^=P<<A},x.createEncryptor=function(A,D){return new x(m(m({},D=D===void 0?{}:D),{key:A,transformMode:c.t.ENC_TRANSFORM_MODE}))},x.createDecryptor=function(A,D){return new x(m(m({},D=D===void 0?{}:D),{key:A,transformMode:c.t.DEC_TRANSFORM_MODE}))},x.encrypt=function(A,D,P){return typeof D=="string"?l.E.encrypt(x,A,D,P):d.D.encrypt(x,A,D,P)},x.decrypt=function(A,D,P){return typeof D=="string"?l.E.decrypt(x,A,D,P):d.D.decrypt(x,A,D,P)},x.keySize=2,x.ivSize=2,x}(u.G)},6739:function(o,i,a){a.d(i,{DES3:function(){return g}});var s,u=a(9109),c=a(787),l=a(9456),d=a(9910),w=a(3354),m=a(5693),p=(s=function(h,y){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,S){_.__proto__=S}||function(_,S){for(var x in S)Object.prototype.hasOwnProperty.call(S,x)&&(_[x]=S[x])})(h,y)},function(h,y){function _(){this.constructor=h}s(h,y),h.prototype=y===null?Object.create(y):(_.prototype=y.prototype,new _)}),f=function(){return(f=Object.assign||function(h){for(var y,_=1,S=arguments.length;_<S;_++)for(var x in y=arguments[_])Object.prototype.hasOwnProperty.call(y,x)&&(h[x]=y[x]);return h}).apply(this,arguments)},g=function(h){function y(_){var S=h.call(this,_)||this;S.N=2,S.O=_;var x=S.J();return S.Y=x[0],S.$=x[1],S.nn=x[2],S}return p(y,h),y.prototype.J=function(){var _=this.H.words;if(_.length!==2&&_.length!==4&&_.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var S=_.slice(0,2),x=_.length<4?_.slice(0,2):_.slice(2,4),A=_.length<6?_.slice(0,2):_.slice(4,6);return[d.DES.createEncryptor(new w.e(S)),d.DES.createEncryptor(new w.e(x)),d.DES.createEncryptor(new w.e(A))]},y.prototype.A=function(){var _=this.J();this.Y=_[0],this.$=_[1],this.nn=_[2]},y.prototype.encryptBlock=function(_,S){this.Y.encryptBlock(_,S),this.$.decryptBlock(_,S),this.nn.encryptBlock(_,S)},y.prototype.decryptBlock=function(_,S){this.nn.decryptBlock(_,S),this.$.encryptBlock(_,S),this.Y.decryptBlock(_,S)},y.createEncryptor=function(_,S){return new y(f(f({},S=S===void 0?{}:S),{key:_,transformMode:l.t.ENC_TRANSFORM_MODE}))},y.createDecryptor=function(_,S){return new y(f(f({},S=S===void 0?{}:S),{key:_,transformMode:l.t.DEC_TRANSFORM_MODE}))},y.encrypt=function(_,S,x){return typeof S=="string"?m.E.encrypt(y,_,S,x):u.D.encrypt(y,_,S,x)},y.decrypt=function(_,S,x){return typeof S=="string"?m.E.decrypt(y,_,S,x):u.D.decrypt(y,_,S,x)},y.keySize=6,y.ivSize=2,y}(c.G)},7753:function(o,i,a){a.d(i,{GMAC:function(){return d}});var s=a(4768),u=a(3354),c=a(9691),l=a(5607);function d(w,m,p,f,g){var h=typeof w=="string"?s.d.parse(w):w,y=p||new u.e([0,0,0,0]),_=g&&g.Cipher?g.Cipher:c.AES,S=typeof m=="string"?s.d.parse(m):m,x=f||16;return l.V.mac(_,S,y,h,void 0,x)}},6367:function(o,i,a){a.d(i,{Hmac:function(){return u}});var s=a(4768),u=function(){function c(l,d){this.tn=l,typeof d=="string"&&(d=s.d.parse(d));var w=l.blockSize,m=4*w;d.nSigBytes>m&&(d=l.finalize(d)),d.clamp();for(var p=this.rn=d.clone(),f=this.en=d.clone(),g=p.words,h=f.words,y=0;y<w;y++)g[y]^=1549556828,h[y]^=909522486;f.nSigBytes=m,p.nSigBytes=m,this.reset()}return c.prototype.reset=function(){this.tn.reset(),this.tn.update(this.en)},c.prototype.update=function(l){return this.tn.update(l),this},c.prototype.finalize=function(l){var d=this.tn.finalize(l);return this.tn.reset(),this.tn.finalize(this.rn.clone().concat(d))},c}()},3027:function(o,i,a){a.d(i,{HmacMD5:function(){return c}});var s=a(6367),u=a(670);function c(l,d){return new s.Hmac(new u.MD5,d).finalize(l)}},149:function(o,i,a){a.d(i,{HmacSHA1:function(){return c}});var s=a(6367),u=a(3173);function c(l,d){return new s.Hmac(new u.SHA1,d).finalize(l)}},4105:function(o,i,a){a.d(i,{HmacSHA224:function(){return c}});var s=a(6367),u=a(766);function c(l,d){return new s.Hmac(new u.SHA224,d).finalize(l)}},980:function(o,i,a){a.d(i,{HmacSHA256:function(){return c}});var s=a(6367),u=a(5561);function c(l,d){return new s.Hmac(new u.SHA256,d).finalize(l)}},5838:function(o,i,a){a.d(i,{HmacSHA384:function(){return c}});var s=a(6367),u=a(6324);function c(l,d){return new s.Hmac(new u.SHA384,d).finalize(l)}},9902:function(o,i,a){a.d(i,{HmacSHA512:function(){return c}});var s=a(6367),u=a(7491);function c(l,d){return new s.Hmac(new u.SHA512,d).finalize(l)}},670:function(o,i,a){a.d(i,{MD5:function(){return g}});var s,u=a(3354),c=a(1868),l=(s=function(h,y){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,S){_.__proto__=S}||function(_,S){for(var x in S)Object.prototype.hasOwnProperty.call(S,x)&&(_[x]=S[x])})(h,y)},function(h,y){function _(){this.constructor=h}s(h,y),h.prototype=y===null?Object.create(y):(_.prototype=y.prototype,new _)}),d=[];function w(h,y,_,S,x,A,D){var P=h+(y&_|~y&S)+x+D;return(P<<A|P>>>32-A)+y}function m(h,y,_,S,x,A,D){var P=h+(y&S|_&~S)+x+D;return(P<<A|P>>>32-A)+y}function p(h,y,_,S,x,A,D){var P=h+(y^_^S)+x+D;return(P<<A|P>>>32-A)+y}function f(h,y,_,S,x,A,D){var P=h+(_^(y|~S))+x+D;return(P<<A|P>>>32-A)+y}(function(){for(var h=0;h<64;h++)d[h]=4294967296*Math.abs(Math.sin(h+1))|0})();var g=function(h){function y(_){var S=h.call(this,_)||this;return S.on=new u.e([1732584193,4023233417,2562383102,271733878]),_&&_.hash!==void 0&&(S.on=_.hash.clone()),S}return l(y,h),y.prototype.A=function(){this.on=new u.e([1732584193,4023233417,2562383102,271733878])},y.prototype.un=function(_,S){for(var x=0;x<16;x++){var A=S+x,D=_[A];_[A]=16711935&(D<<8|D>>>24)|4278255360&(D<<24|D>>>8)}var P=this.on.words,U=_[S],B=_[S+1],O=_[S+2],k=_[S+3],R=_[S+4],q=_[S+5],ae=_[S+6],de=_[S+7],le=_[S+8],te=_[S+9],pe=_[S+10],Ee=_[S+11],Pe=_[S+12],ve=_[S+13],Ae=_[S+14],Ge=_[S+15],W=P[0],$=P[1],M=P[2],z=P[3];W=w(W,$,M,z,U,7,d[0]),z=w(z,W,$,M,B,12,d[1]),M=w(M,z,W,$,O,17,d[2]),$=w($,M,z,W,k,22,d[3]),W=w(W,$,M,z,R,7,d[4]),z=w(z,W,$,M,q,12,d[5]),M=w(M,z,W,$,ae,17,d[6]),$=w($,M,z,W,de,22,d[7]),W=w(W,$,M,z,le,7,d[8]),z=w(z,W,$,M,te,12,d[9]),M=w(M,z,W,$,pe,17,d[10]),$=w($,M,z,W,Ee,22,d[11]),W=w(W,$,M,z,Pe,7,d[12]),z=w(z,W,$,M,ve,12,d[13]),M=w(M,z,W,$,Ae,17,d[14]),W=m(W,$=w($,M,z,W,Ge,22,d[15]),M,z,B,5,d[16]),z=m(z,W,$,M,ae,9,d[17]),M=m(M,z,W,$,Ee,14,d[18]),$=m($,M,z,W,U,20,d[19]),W=m(W,$,M,z,q,5,d[20]),z=m(z,W,$,M,pe,9,d[21]),M=m(M,z,W,$,Ge,14,d[22]),$=m($,M,z,W,R,20,d[23]),W=m(W,$,M,z,te,5,d[24]),z=m(z,W,$,M,Ae,9,d[25]),M=m(M,z,W,$,k,14,d[26]),$=m($,M,z,W,le,20,d[27]),W=m(W,$,M,z,ve,5,d[28]),z=m(z,W,$,M,O,9,d[29]),M=m(M,z,W,$,de,14,d[30]),W=p(W,$=m($,M,z,W,Pe,20,d[31]),M,z,q,4,d[32]),z=p(z,W,$,M,le,11,d[33]),M=p(M,z,W,$,Ee,16,d[34]),$=p($,M,z,W,Ae,23,d[35]),W=p(W,$,M,z,B,4,d[36]),z=p(z,W,$,M,R,11,d[37]),M=p(M,z,W,$,de,16,d[38]),$=p($,M,z,W,pe,23,d[39]),W=p(W,$,M,z,ve,4,d[40]),z=p(z,W,$,M,U,11,d[41]),M=p(M,z,W,$,k,16,d[42]),$=p($,M,z,W,ae,23,d[43]),W=p(W,$,M,z,te,4,d[44]),z=p(z,W,$,M,Pe,11,d[45]),M=p(M,z,W,$,Ge,16,d[46]),W=f(W,$=p($,M,z,W,O,23,d[47]),M,z,U,6,d[48]),z=f(z,W,$,M,de,10,d[49]),M=f(M,z,W,$,Ae,15,d[50]),$=f($,M,z,W,q,21,d[51]),W=f(W,$,M,z,Pe,6,d[52]),z=f(z,W,$,M,k,10,d[53]),M=f(M,z,W,$,pe,15,d[54]),$=f($,M,z,W,B,21,d[55]),W=f(W,$,M,z,le,6,d[56]),z=f(z,W,$,M,Ge,10,d[57]),M=f(M,z,W,$,ae,15,d[58]),$=f($,M,z,W,ve,21,d[59]),W=f(W,$,M,z,R,6,d[60]),z=f(z,W,$,M,Ee,10,d[61]),M=f(M,z,W,$,O,15,d[62]),$=f($,M,z,W,te,21,d[63]),P[0]=P[0]+W|0,P[1]=P[1]+$|0,P[2]=P[2]+M|0,P[3]=P[3]+z|0},y.prototype.fn=function(){var _=this.cn,S=_.words,x=8*this.sn,A=8*_.nSigBytes;S[A>>>5]|=128<<24-A%32;var D=Math.floor(x/4294967296),P=x;S[15+(A+64>>>9<<4)]=16711935&(D<<8|D>>>24)|4278255360&(D<<24|D>>>8),S[14+(A+64>>>9<<4)]=16711935&(P<<8|P>>>24)|4278255360&(P<<24|P>>>8),_.nSigBytes=4*(S.length+1),this.an();for(var U=this.on,B=U.words,O=0;O<4;O++){var k=B[O];B[O]=16711935&(k<<8|k>>>24)|4278255360&(k<<24|k>>>8)}return U},y.prototype.clone=function(){return new y({hash:this.on,blockSize:this.N,data:this.cn,nBytes:this.sn})},y.hash=function(_){return new y().finalize(_)},y}(c.P)},4615:function(o,i,a){a.d(i,{RC4:function(){return m}});var s,u=a(30),c=a(5693),l=a(9109),d=(s=function(p,f){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,h){g.__proto__=h}||function(g,h){for(var y in h)Object.prototype.hasOwnProperty.call(h,y)&&(g[y]=h[y])})(p,f)},function(p,f){function g(){this.constructor=p}s(p,f),p.prototype=f===null?Object.create(f):(g.prototype=f.prototype,new g)}),w=function(){return(w=Object.assign||function(p){for(var f,g=1,h=arguments.length;g<h;g++)for(var y in f=arguments[g])Object.prototype.hasOwnProperty.call(f,y)&&(p[y]=f[y]);return p}).apply(this,arguments)},m=function(p){function f(g){var h=p.call(this,g)||this;return h.S=[],h.i=0,h.j=0,h.O=g,h.A(),h}return d(f,p),f.prototype.A=function(){var g=this.H,h=g.words,y=g.nSigBytes;this.S=[];for(var _=0;_<256;_++)this.S[_]=_;_=0;for(var S=0;_<256;_++){var x=_%y,A=h[x>>>2]>>>24-x%4*8&255;S=(S+this.S[_]+A)%256;var D=this.S[_];this.S[_]=this.S[S],this.S[S]=D}this.i=this.j=0},f.prototype.un=function(g,h){g[h]^=this.generateKeyStreamWord()},f.prototype.generateKeyStreamWord=function(){for(var g=this.S,h=this.i,y=this.j,_=0,S=0;S<4;S++){y=(y+g[h=(h+1)%256])%256;var x=g[h];g[h]=g[y],g[y]=x,_|=g[(g[h]+g[y])%256]<<24-8*S}return this.i=h,this.j=y,_},f.createEncryptor=function(g,h){return new f(w(w({},h=h===void 0?{}:h),{key:g}))},f.createDecryptor=function(g,h){return new f(w(w({},h=h===void 0?{}:h),{key:g}))},f.encrypt=function(g,h,y){return typeof h=="string"?c.E.encrypt(f,g,h,y):l.D.encrypt(f,g,h,y)},f.decrypt=function(g,h,y){return typeof h=="string"?c.E.decrypt(f,g,h,y):l.D.decrypt(f,g,h,y)},f.ivSize=0,f.keySize=8,f}(u.q)},9639:function(o,i,a){a.d(i,{RC4Drop:function(){return m}});var s,u=a(5693),c=a(9109),l=a(4615),d=(s=function(p,f){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,h){g.__proto__=h}||function(g,h){for(var y in h)Object.prototype.hasOwnProperty.call(h,y)&&(g[y]=h[y])})(p,f)},function(p,f){function g(){this.constructor=p}s(p,f),p.prototype=f===null?Object.create(f):(g.prototype=f.prototype,new g)}),w=function(){return(w=Object.assign||function(p){for(var f,g=1,h=arguments.length;g<h;g++)for(var y in f=arguments[g])Object.prototype.hasOwnProperty.call(f,y)&&(p[y]=f[y]);return p}).apply(this,arguments)},m=function(p){function f(g){var h=p.call(this,g)||this;return h.drop=192,h.O=g,g&&typeof g.drop=="number"&&(h.drop=g.drop),h.A(),h}return d(f,p),f.prototype.A=function(){p.prototype.A.call(this);for(var g=this.drop;g>0;g--)this.generateKeyStreamWord()},f.createEncryptor=function(g,h){return new f(w(w({},h=h===void 0?{}:h),{key:g}))},f.createDecryptor=function(g,h){return new f(w(w({},h=h===void 0?{}:h),{key:g}))},f.encrypt=function(g,h,y){return typeof h=="string"?u.E.encrypt(f,g,h,y):c.D.encrypt(f,g,h,y)},f.decrypt=function(g,h,y){return typeof h=="string"?u.E.decrypt(f,g,h,y):c.D.decrypt(f,g,h,y)},f}(l.RC4)},7104:function(o,i,a){a.d(i,{RIPEMD160:function(){return D}});var s,u=a(1868),c=a(3354),l=(s=function(P,U){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(B,O){B.__proto__=O}||function(B,O){for(var k in O)Object.prototype.hasOwnProperty.call(O,k)&&(B[k]=O[k])})(P,U)},function(P,U){function B(){this.constructor=P}s(P,U),P.prototype=U===null?Object.create(U):(B.prototype=U.prototype,new B)}),d=new c.e([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),w=new c.e([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),m=new c.e([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),p=new c.e([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),f=new c.e([0,1518500249,1859775393,2400959708,2840853838]),g=new c.e([1352829926,1548603684,1836072691,2053994217,0]);function h(P,U,B){return P^U^B}function y(P,U,B){return P&U|~P&B}function _(P,U,B){return(P|~U)^B}function S(P,U,B){return P&B|U&~B}function x(P,U,B){return P^(U|~B)}function A(P,U){return P<<U|P>>>32-U}var D=function(P){function U(B){var O=P.call(this,B)||this;return O.on=new c.e([1732584193,4023233417,2562383102,271733878,3285377520]),O.O=B,B&&B.hash!==void 0&&(O.on=B.hash.clone()),O}return l(U,P),U.prototype.A=function(){this.on=new c.e([1732584193,4023233417,2562383102,271733878,3285377520])},U.prototype.un=function(B,O){for(var k=0;k<16;k++){var R=O+k,q=B[R];B[R]=16711935&(q<<8|q>>>24)|4278255360&(q<<24|q>>>8)}var ae,de,le,te,pe,Ee,Pe,ve,Ae,Ge,W,$=this.on.words,M=f.words,z=g.words,$t=d.words,er=w.words,zt=m.words,tr=p.words;for(Ee=ae=$[0],Pe=de=$[1],ve=le=$[2],Ae=te=$[3],Ge=pe=$[4],k=0;k<80;k+=1)W=ae+B[O+$t[k]]|0,W+=k<16?h(de,le,te)+M[0]:k<32?y(de,le,te)+M[1]:k<48?_(de,le,te)+M[2]:k<64?S(de,le,te)+M[3]:x(de,le,te)+M[4],W=(W=A(W|=0,zt[k]))+pe|0,ae=pe,pe=te,te=A(le,10),le=de,de=W,W=Ee+B[O+er[k]]|0,W+=k<16?x(Pe,ve,Ae)+z[0]:k<32?S(Pe,ve,Ae)+z[1]:k<48?_(Pe,ve,Ae)+z[2]:k<64?y(Pe,ve,Ae)+z[3]:h(Pe,ve,Ae)+z[4],W=(W=A(W|=0,tr[k]))+Ge|0,Ee=Ge,Ge=Ae,Ae=A(ve,10),ve=Pe,Pe=W;W=$[1]+le+Ae|0,$[1]=$[2]+te+Ge|0,$[2]=$[3]+pe+Ee|0,$[3]=$[4]+ae+Pe|0,$[4]=$[0]+de+ve|0,$[0]=W},U.prototype.fn=function(){var B=this.cn,O=B.words,k=8*this.sn,R=8*B.nSigBytes;O[R>>>5]|=128<<24-R%32,O[14+(R+64>>>9<<4)]=16711935&(k<<8|k>>>24)|4278255360&(k<<24|k>>>8),B.nSigBytes=4*(O.length+1),this.an();for(var q=this.on,ae=q.words,de=0;de<5;de++){var le=ae[de];ae[de]=16711935&(le<<8|le>>>24)|4278255360&(le<<24|le>>>8)}return q},U.prototype.clone=function(){return new U({hash:this.on,blockSize:this.N,data:this.cn,nBytes:this.sn})},U.hash=function(B,O){return new U(O).finalize(B)},U}(u.P)},5187:function(o,i,a){a.d(i,{Rabbit:function(){return m}});var s,u=a(30),c=a(5693),l=a(9109),d=(s=function(p,f){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,h){g.__proto__=h}||function(g,h){for(var y in h)Object.prototype.hasOwnProperty.call(h,y)&&(g[y]=h[y])})(p,f)},function(p,f){function g(){this.constructor=p}s(p,f),p.prototype=f===null?Object.create(f):(g.prototype=f.prototype,new g)}),w=function(){return(w=Object.assign||function(p){for(var f,g=1,h=arguments.length;g<h;g++)for(var y in f=arguments[g])Object.prototype.hasOwnProperty.call(f,y)&&(p[y]=f[y]);return p}).apply(this,arguments)},m=function(p){function f(g){var h=p.call(this,g)||this;return h.N=4,h.S=[],h.C=[],h.G=[],h.hn=[],h.vn=[],h.wn=0,h.O=g,h.A(),h}return d(f,p),f.prototype.A=function(){for(var g=this.H.words,h=this.ln,y=0;y<4;y++)g[y]=16711935&(g[y]<<8|g[y]>>>24)|4278255360&(g[y]<<24|g[y]>>>8);var _=this.hn=[g[0],g[3]<<16|g[2]>>>16,g[1],g[0]<<16|g[3]>>>16,g[2],g[1]<<16|g[0]>>>16,g[3],g[2]<<16|g[1]>>>16],S=this.vn=[g[2]<<16|g[2]>>>16,4294901760&g[0]|65535&g[1],g[3]<<16|g[3]>>>16,4294901760&g[1]|65535&g[2],g[0]<<16|g[0]>>>16,4294901760&g[2]|65535&g[3],g[1]<<16|g[1]>>>16,4294901760&g[3]|65535&g[0]];for(this.wn=0,y=0;y<4;y++)this.nextState();for(y=0;y<8;y++)S[y]^=_[y+4&7];if(h){var x=h.words,A=x[0],D=x[1],P=16711935&(A<<8|A>>>24)|4278255360&(A<<24|A>>>8),U=16711935&(D<<8|D>>>24)|4278255360&(D<<24|D>>>8),B=P>>>16|4294901760&U,O=U<<16|65535&P;for(S[0]^=P,S[1]^=B,S[2]^=U,S[3]^=O,S[4]^=P,S[5]^=B,S[6]^=U,S[7]^=O,y=0;y<4;y++)this.nextState()}},f.prototype.un=function(g,h){var y=this.hn;this.nextState(),this.S[0]=y[0]^y[5]>>>16^y[3]<<16,this.S[1]=y[2]^y[7]>>>16^y[5]<<16,this.S[2]=y[4]^y[1]>>>16^y[7]<<16,this.S[3]=y[6]^y[3]>>>16^y[1]<<16;for(var _=0;_<4;_++)this.S[_]=16711935&(this.S[_]<<8|this.S[_]>>>24)|4278255360&(this.S[_]<<24|this.S[_]>>>8),g[h+_]^=this.S[_]},f.prototype.nextState=function(){for(var g=this.hn,h=this.vn,y=0;y<8;y++)this.C[y]=h[y];for(h[0]=h[0]+1295307597+this.wn|0,h[1]=h[1]+3545052371+(h[0]>>>0<this.C[0]>>>0?1:0)|0,h[2]=h[2]+886263092+(h[1]>>>0<this.C[1]>>>0?1:0)|0,h[3]=h[3]+1295307597+(h[2]>>>0<this.C[2]>>>0?1:0)|0,h[4]=h[4]+3545052371+(h[3]>>>0<this.C[3]>>>0?1:0)|0,h[5]=h[5]+886263092+(h[4]>>>0<this.C[4]>>>0?1:0)|0,h[6]=h[6]+1295307597+(h[5]>>>0<this.C[5]>>>0?1:0)|0,h[7]=h[7]+3545052371+(h[6]>>>0<this.C[6]>>>0?1:0)|0,this.wn=h[7]>>>0<this.C[7]>>>0?1:0,y=0;y<8;y++){var _=g[y]+h[y],S=65535&_,x=_>>>16,A=((S*S>>>17)+S*x>>>15)+x*x,D=((4294901760&_)*_|0)+((65535&_)*_|0);this.G[y]=A^D}var P=this.G;g[0]=P[0]+(P[7]<<16|P[7]>>>16)+(P[6]<<16|P[6]>>>16)|0,g[1]=P[1]+(P[0]<<8|P[0]>>>24)+P[7]|0,g[2]=P[2]+(P[1]<<16|P[1]>>>16)+(P[0]<<16|P[0]>>>16)|0,g[3]=P[3]+(P[2]<<8|P[2]>>>24)+P[1]|0,g[4]=P[4]+(P[3]<<16|P[3]>>>16)+(P[2]<<16|P[2]>>>16)|0,g[5]=P[5]+(P[4]<<8|P[4]>>>24)+P[3]|0,g[6]=P[6]+(P[5]<<16|P[5]>>>16)+(P[4]<<16|P[4]>>>16)|0,g[7]=P[7]+(P[6]<<8|P[6]>>>24)+P[5]|0},f.createEncryptor=function(g,h){return new f(w(w({},h=h===void 0?{}:h),{key:g}))},f.createDecryptor=function(g,h){return new f(w(w({},h=h===void 0?{}:h),{key:g}))},f.encrypt=function(g,h,y){return typeof h=="string"?c.E.encrypt(f,g,h,y):l.D.encrypt(f,g,h,y)},f.decrypt=function(g,h,y){return typeof h=="string"?c.E.decrypt(f,g,h,y):l.D.decrypt(f,g,h,y)},f.ivSize=4,f}(u.q)},3173:function(o,i,a){a.d(i,{SHA1:function(){return w}});var s,u=a(1868),c=a(3354),l=(s=function(m,p){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,g){f.__proto__=g}||function(f,g){for(var h in g)Object.prototype.hasOwnProperty.call(g,h)&&(f[h]=g[h])})(m,p)},function(m,p){function f(){this.constructor=m}s(m,p),m.prototype=p===null?Object.create(p):(f.prototype=p.prototype,new f)}),d=[],w=function(m){function p(f){var g=m.call(this,f)||this;return g.on=new c.e([1732584193,4023233417,2562383102,271733878,3285377520]),g.O=f,f&&f.hash!==void 0&&(g.on=f.hash.clone()),g}return l(p,m),p.prototype.A=function(){this.on=new c.e([1732584193,4023233417,2562383102,271733878,3285377520])},p.prototype.un=function(f,g){for(var h=this.on.words,y=h[0],_=h[1],S=h[2],x=h[3],A=h[4],D=0;D<80;D++){if(D<16)d[D]=0|f[g+D];else{var P=d[D-3]^d[D-8]^d[D-14]^d[D-16];d[D]=P<<1|P>>>31}var U=(y<<5|y>>>27)+A+d[D];U+=D<20?1518500249+(_&S|~_&x):D<40?1859775393+(_^S^x):D<60?(_&S|_&x|S&x)-1894007588:(_^S^x)-899497514,A=x,x=S,S=_<<30|_>>>2,_=y,y=U}h[0]=h[0]+y|0,h[1]=h[1]+_|0,h[2]=h[2]+S|0,h[3]=h[3]+x|0,h[4]=h[4]+A|0},p.prototype.fn=function(){var f=this.cn.words,g=8*this.sn,h=8*this.cn.nSigBytes;return f[h>>>5]|=128<<24-h%32,f[14+(h+64>>>9<<4)]=Math.floor(g/4294967296),f[15+(h+64>>>9<<4)]=g,this.cn.nSigBytes=4*f.length,this.an(),this.on},p.prototype.clone=function(){return new p({hash:this.on,blockSize:this.N,data:this.cn,nBytes:this.sn})},p.hash=function(f,g){return new p(g).finalize(f)},p}(u.P)},766:function(o,i,a){a.d(i,{SHA224:function(){return d}});var s,u=a(3354),c=a(5561),l=(s=function(w,m){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,f){p.__proto__=f}||function(p,f){for(var g in f)Object.prototype.hasOwnProperty.call(f,g)&&(p[g]=f[g])})(w,m)},function(w,m){function p(){this.constructor=w}s(w,m),w.prototype=m===null?Object.create(m):(p.prototype=m.prototype,new p)}),d=function(w){function m(p){var f=w.call(this,p)||this;return f.on=new u.e([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]),f.O=p,p&&p.hash!==void 0&&(f.on=p.hash.clone()),f}return l(m,w),m.prototype.A=function(){this.on=new u.e([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},m.prototype.fn=function(){var p=w.prototype.fn.call(this);return p.nSigBytes-=4,p},m.prototype.clone=function(){return new m({hash:this.on,blockSize:this.N,data:this.cn,nBytes:this.sn})},m.hash=function(p,f){return new m(f).finalize(p)},m}(c.SHA256)},5561:function(o,i,a){a.d(i,{SHA256:function(){return g}});var s,u=a(1868),c=a(3354),l=(s=function(h,y){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,S){_.__proto__=S}||function(_,S){for(var x in S)Object.prototype.hasOwnProperty.call(S,x)&&(_[x]=S[x])})(h,y)},function(h,y){function _(){this.constructor=h}s(h,y),h.prototype=y===null?Object.create(y):(_.prototype=y.prototype,new _)}),d=[],w=[];function m(h){for(var y=Math.sqrt(h),_=2;_<=y;_++)if(!(h%_))return!1;return!0}function p(h){return 4294967296*(h-(0|h))|0}(function(){for(var h=2,y=0;y<64;)m(h)&&(y<8&&(d[y]=p(Math.pow(h,.5))),w[y]=p(Math.pow(h,.3333333333333333)),y++),h++})();var f=[],g=function(h){function y(_){var S=h.call(this,_)||this;return S.on=new c.e(d.slice(0)),S.O=_,_&&_.hash!==void 0&&(S.on=_.hash.clone()),S}return l(y,h),y.prototype.A=function(){this.on=new c.e(d.slice(0))},y.prototype.un=function(_,S){for(var x=this.on.words,A=x[0],D=x[1],P=x[2],U=x[3],B=x[4],O=x[5],k=x[6],R=x[7],q=0;q<64;q++){if(q<16)f[q]=0|_[S+q];else{var ae=f[q-15],de=(ae<<25|ae>>>7)^(ae<<14|ae>>>18)^ae>>>3,le=f[q-2],te=(le<<15|le>>>17)^(le<<13|le>>>19)^le>>>10;f[q]=de+f[q-7]+te+f[q-16]}var pe=A&D^A&P^D&P,Ee=(A<<30|A>>>2)^(A<<19|A>>>13)^(A<<10|A>>>22),Pe=R+((B<<26|B>>>6)^(B<<21|B>>>11)^(B<<7|B>>>25))+(B&O^~B&k)+w[q]+f[q];R=k,k=O,O=B,B=U+Pe|0,U=P,P=D,D=A,A=Pe+(Ee+pe)|0}x[0]=x[0]+A|0,x[1]=x[1]+D|0,x[2]=x[2]+P|0,x[3]=x[3]+U|0,x[4]=x[4]+B|0,x[5]=x[5]+O|0,x[6]=x[6]+k|0,x[7]=x[7]+R|0},y.prototype.fn=function(){var _=this.cn.words,S=8*this.sn,x=8*this.cn.nSigBytes;return _[x>>>5]|=128<<24-x%32,_[14+(x+64>>>9<<4)]=Math.floor(S/4294967296),_[15+(x+64>>>9<<4)]=S,this.cn.nSigBytes=4*_.length,this.an(),this.on},y.prototype.clone=function(){return new y({hash:this.on,blockSize:this.N,data:this.cn,nBytes:this.sn})},y.hash=function(_,S){return new y(S).finalize(_)},y}(u.P)},3408:function(o,i,a){a.d(i,{SHA3:function(){return g}});var s,u=a(6957),c=a(1868),l=a(3354),d=(s=function(h,y){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,S){_.__proto__=S}||function(_,S){for(var x in S)Object.prototype.hasOwnProperty.call(S,x)&&(_[x]=S[x])})(h,y)},function(h,y){function _(){this.constructor=h}s(h,y),h.prototype=y===null?Object.create(y):(_.prototype=y.prototype,new _)}),w=[],m=[],p=[];(function(){for(var h=1,y=0,_=0;_<24;_++){w[h+5*y]=(_+1)*(_+2)/2%64;var S=(2*h+3*y)%5;h=y%5,y=S}for(var x=0;x<5;x++)for(var A=0;A<5;A++)m[x+5*A]=A+(2*x+3*A)%5*5;for(var D=1,P=0;P<24;P++){for(var U=0,B=0,O=0;O<7;O++){if(1&D){var k=(1<<O)-1;k<32?B^=1<<k:U^=1<<k-32}128&D?D=D<<1^113:D<<=1}p[P]=new u.r(U,B)}})();var f=[];(function(){for(var h=0;h<25;h++)f[h]=new u.r(0,0)})();var g=function(h){function y(_){var S=h.call(this,_)||this;if(S.N=32,S.bn=[],S.dn=512,S.O=_,_){if(_.outputLength!==void 0){if(![224,256,384,512].includes(_.outputLength))throw new Error("Unsupported output length.");S.dn=_.outputLength}_.state!==void 0&&(S.bn=_.state.map(function(A){return A.clone()}))}if(S.bn.length===0)for(var x=0;x<25;x++)S.bn[x]=new u.r(0,0);return S.N=(1600-2*S.dn)/32,S}return d(y,h),y.prototype.A=function(){this.bn=[];for(var _=0;_<25;_++)this.bn[_]=new u.r(0,0);this.N=(1600-2*this.dn)/32},y.prototype.un=function(_,S){for(var x=this.bn,A=this.N/2,D=0;D<A;D++){var P=_[S+2*D],U=_[S+2*D+1];P=16711935&(P<<8|P>>>24)|4278255360&(P<<24|P>>>8),U=16711935&(U<<8|U>>>24)|4278255360&(U<<24|U>>>8),x[D].high^=U,x[D].low^=P}for(var B=0;B<24;B++){for(var O=0;O<5;O++){for(var k=0,R=0,q=0;q<5;q++)k^=(M=x[O+5*q]).high,R^=M.low;var ae=f[O];ae.high=k,ae.low=R}for(O=0;O<5;O++){var de=f[(O+4)%5],le=f[(O+1)%5],te=le.high,pe=le.low;for(k=de.high^(te<<1|pe>>>31),R=de.low^(pe<<1|te>>>31),q=0;q<5;q++)(M=x[O+5*q]).high^=k,M.low^=R}for(var Ee=1;Ee<25;Ee++){k=void 0,R=void 0;var Pe=x[Ee].high,ve=x[Ee].low,Ae=w[Ee];Ae<32?(k=Pe<<Ae|ve>>>32-Ae,R=ve<<Ae|Pe>>>32-Ae):(k=ve<<Ae-32|Pe>>>64-Ae,R=Pe<<Ae-32|ve>>>64-Ae);var Ge=f[m[Ee]];Ge.high=k,Ge.low=R}var W=f[0],$=x[0];for(W.high=$.high,W.low=$.low,O=0;O<5;O++)for(q=0;q<5;q++){var M=x[Ee=O+5*q],z=f[Ee],$t=f[(O+1)%5+5*q],er=f[(O+2)%5+5*q];M.high=z.high^~$t.high&er.high,M.low=z.low^~$t.low&er.low}var zt=x[0],tr=p[B];zt.high^=tr.high,zt.low^=tr.low}},y.prototype.fn=function(){var _=this.cn,S=_.words,x=8*_.nSigBytes,A=32*this.blockSize;S[x>>>5]|=1<<24-x%32,S[(Math.ceil((x+1)/A)*A>>>5)-1]|=128,_.nSigBytes=4*S.length,this.an();for(var D=this.bn,P=this.dn/8,U=P/8,B=[],O=0;O<U;O++){var k=D[O],R=k.high,q=k.low;R=16711935&(R<<8|R>>>24)|4278255360&(R<<24|R>>>8),q=16711935&(q<<8|q>>>24)|4278255360&(q<<24|q>>>8),B.push(q),B.push(R)}return new l.e(B,P)},y.prototype.clone=function(){return new y({outputLength:this.dn,state:this.bn,blockSize:this.N,data:this.cn,nBytes:this.sn})},y.hash=function(_,S){return new y(S).finalize(_)},y}(c.P)},6324:function(o,i,a){a.d(i,{SHA384:function(){return d}});var s,u=a(6957),c=a(7491),l=(s=function(w,m){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,f){p.__proto__=f}||function(p,f){for(var g in f)Object.prototype.hasOwnProperty.call(f,g)&&(p[g]=f[g])})(w,m)},function(w,m){function p(){this.constructor=w}s(w,m),w.prototype=m===null?Object.create(m):(p.prototype=m.prototype,new p)}),d=function(w){function m(p){var f=w.call(this,p)||this;return f.on=new u.m([new u.r(3418070365,3238371032),new u.r(1654270250,914150663),new u.r(2438529370,812702999),new u.r(355462360,4144912697),new u.r(1731405415,4290775857),new u.r(2394180231,1750603025),new u.r(3675008525,1694076839),new u.r(1203062813,3204075428)]),f.O=p,p&&p.hash!==void 0&&(f.on=p.hash.clone()),f}return l(m,w),m.prototype.A=function(){this.on=new u.m([new u.r(3418070365,3238371032),new u.r(1654270250,914150663),new u.r(2438529370,812702999),new u.r(355462360,4144912697),new u.r(1731405415,4290775857),new u.r(2394180231,1750603025),new u.r(3675008525,1694076839),new u.r(1203062813,3204075428)])},m.prototype.fn=function(){var p=w.prototype.fn.call(this);return p.nSigBytes-=16,p},m.prototype.clone=function(){return new m({hash:this.on,blockSize:this.N,data:this.cn,nBytes:this.sn})},m.hash=function(p,f){return new m(f).finalize(p)},m}(c.SHA512)},7491:function(o,i,a){a.d(i,{SHA512:function(){return m}});var s,u=a(1868),c=a(6957),l=(s=function(p,f){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,h){g.__proto__=h}||function(g,h){for(var y in h)Object.prototype.hasOwnProperty.call(h,y)&&(g[y]=h[y])})(p,f)},function(p,f){function g(){this.constructor=p}s(p,f),p.prototype=f===null?Object.create(f):(g.prototype=f.prototype,new g)}),d=[new c.r(1116352408,3609767458),new c.r(1899447441,602891725),new c.r(3049323471,3964484399),new c.r(3921009573,2173295548),new c.r(961987163,4081628472),new c.r(1508970993,3053834265),new c.r(2453635748,2937671579),new c.r(2870763221,3664609560),new c.r(3624381080,2734883394),new c.r(310598401,1164996542),new c.r(607225278,1323610764),new c.r(1426881987,3590304994),new c.r(1925078388,4068182383),new c.r(2162078206,991336113),new c.r(2614888103,633803317),new c.r(3248222580,3479774868),new c.r(3835390401,2666613458),new c.r(4022224774,944711139),new c.r(264347078,2341262773),new c.r(604807628,2007800933),new c.r(770255983,1495990901),new c.r(1249150122,1856431235),new c.r(1555081692,3175218132),new c.r(1996064986,2198950837),new c.r(2554220882,3999719339),new c.r(2821834349,766784016),new c.r(2952996808,2566594879),new c.r(3210313671,3203337956),new c.r(3336571891,1034457026),new c.r(3584528711,2466948901),new c.r(113926993,3758326383),new c.r(338241895,168717936),new c.r(666307205,1188179964),new c.r(773529912,1546045734),new c.r(1294757372,1522805485),new c.r(1396182291,2643833823),new c.r(1695183700,2343527390),new c.r(1986661051,1014477480),new c.r(2177026350,1206759142),new c.r(2456956037,344077627),new c.r(2730485921,1290863460),new c.r(2820302411,3158454273),new c.r(3259730800,3505952657),new c.r(3345764771,106217008),new c.r(3516065817,3606008344),new c.r(3600352804,1432725776),new c.r(4094571909,1467031594),new c.r(275423344,851169720),new c.r(430227734,3100823752),new c.r(506948616,1363258195),new c.r(659060556,3750685593),new c.r(883997877,3785050280),new c.r(958139571,3318307427),new c.r(1322822218,3812723403),new c.r(1537002063,2003034995),new c.r(1747873779,3602036899),new c.r(1955562222,1575990012),new c.r(2024104815,1125592928),new c.r(2227730452,2716904306),new c.r(2361852424,442776044),new c.r(2428436474,593698344),new c.r(2756734187,3733110249),new c.r(3204031479,2999351573),new c.r(3329325298,3815920427),new c.r(3391569614,3928383900),new c.r(3515267271,566280711),new c.r(3940187606,3454069534),new c.r(4118630271,4000239992),new c.r(116418474,1914138554),new c.r(174292421,2731055270),new c.r(289380356,3203993006),new c.r(460393269,320620315),new c.r(685471733,587496836),new c.r(852142971,1086792851),new c.r(1017036298,365543100),new c.r(1126000580,2618297676),new c.r(1288033470,3409855158),new c.r(1501505948,4234509866),new c.r(1607167915,987167468),new c.r(1816402316,1246189591)],w=[];(function(){for(var p=0;p<80;p++)w[p]=new c.r(0,0)})();var m=function(p){function f(g){var h=p.call(this,g)||this;return h.N=32,h.on=new c.m([new c.r(1779033703,4089235720),new c.r(3144134277,2227873595),new c.r(1013904242,4271175723),new c.r(2773480762,1595750129),new c.r(1359893119,2917565137),new c.r(2600822924,725511199),new c.r(528734635,4215389547),new c.r(1541459225,327033209)]),h.O=g,g&&g.hash!==void 0&&(h.on=g.hash.clone()),h}return l(f,p),f.prototype.A=function(){this.on=new c.m([new c.r(1779033703,4089235720),new c.r(3144134277,2227873595),new c.r(1013904242,4271175723),new c.r(2773480762,1595750129),new c.r(1359893119,2917565137),new c.r(2600822924,725511199),new c.r(528734635,4215389547),new c.r(1541459225,327033209)])},f.prototype.un=function(g,h){for(var y=this.on.words,_=y[0],S=y[1],x=y[2],A=y[3],D=y[4],P=y[5],U=y[6],B=y[7],O=_.high,k=_.low,R=S.high,q=S.low,ae=x.high,de=x.low,le=A.high,te=A.low,pe=D.high,Ee=D.low,Pe=P.high,ve=P.low,Ae=U.high,Ge=U.low,W=B.high,$=B.low,M=O,z=k,$t=R,er=q,zt=ae,tr=de,za=le,Mo=te,vr=pe,pr=Ee,nc=Pe,Ha=ve,se=Ae,Y=Ge,Z=W,oe=$,ye=0;ye<80;ye++){var ke=void 0,bt=void 0,Pr=w[ye];if(ye<16)bt=Pr.high=0|g[h+2*ye],ke=Pr.low=0|g[h+2*ye+1];else{var Dr=w[ye-15],rr=Dr.high,Ar=Dr.low,oc=(rr>>>1|Ar<<31)^(rr>>>8|Ar<<24)^rr>>>7,d5=(Ar>>>1|rr<<31)^(Ar>>>8|rr<<24)^(Ar>>>7|rr<<25),f5=w[ye-2],ic=f5.high,Bl=f5.low,Rie=(ic>>>19|Bl<<13)^(ic<<3|Bl>>>29)^ic>>>6,h5=(Bl>>>19|ic<<13)^(Bl<<3|ic>>>29)^(Bl>>>6|ic<<26),m5=w[ye-7],Bie=m5.high,Nie=m5.low,g5=w[ye-16],Uie=g5.high,y5=g5.low;bt=(bt=(bt=oc+Bie+((ke=d5+Nie)>>>0<d5>>>0?1:0))+Rie+((ke+=h5)>>>0<h5>>>0?1:0))+Uie+((ke+=y5)>>>0<y5>>>0?1:0),Pr.high=bt,Pr.low=ke}var qie=vr&nc^~vr&se,b5=pr&Ha^~pr&Y,jie=M&$t^M&zt^$t&zt,Lie=z&er^z&tr^er&tr,Wie=(M>>>28|z<<4)^(M<<30|z>>>2)^(M<<25|z>>>7),w5=(z>>>28|M<<4)^(z<<30|M>>>2)^(z<<25|M>>>7),Mie=(vr>>>14|pr<<18)^(vr>>>18|pr<<14)^(vr<<23|pr>>>9),Gie=(pr>>>14|vr<<18)^(pr>>>18|vr<<14)^(pr<<23|vr>>>9),_5=d[ye],$ie=_5.high,S5=_5.low,Ka=oe+Gie,Nl=Z+Mie+(Ka>>>0<oe>>>0?1:0),E5=w5+Lie;Z=se,oe=Y,se=nc,Y=Ha,nc=vr,Ha=pr,vr=za+(Nl=(Nl=(Nl=Nl+qie+((Ka+=b5)>>>0<b5>>>0?1:0))+$ie+((Ka+=S5)>>>0<S5>>>0?1:0))+bt+((Ka+=ke)>>>0<ke>>>0?1:0))+((pr=Mo+Ka|0)>>>0<Mo>>>0?1:0)|0,za=zt,Mo=tr,zt=$t,tr=er,$t=M,er=z,M=Nl+(Wie+jie+(E5>>>0<w5>>>0?1:0))+((z=Ka+E5|0)>>>0<Ka>>>0?1:0)|0}k=_.low=k+z,_.high=O+M+(k>>>0<z>>>0?1:0),q=S.low=q+er,S.high=R+$t+(q>>>0<er>>>0?1:0),de=x.low=de+tr,x.high=ae+zt+(de>>>0<tr>>>0?1:0),te=A.low=te+Mo,A.high=le+za+(te>>>0<Mo>>>0?1:0),Ee=D.low=Ee+pr,D.high=pe+vr+(Ee>>>0<pr>>>0?1:0),ve=P.low=ve+Ha,P.high=Pe+nc+(ve>>>0<Ha>>>0?1:0),Ge=U.low=Ge+Y,U.high=Ae+se+(Ge>>>0<Y>>>0?1:0),$=B.low=$+oe,B.high=W+Z+($>>>0<oe>>>0?1:0)},f.prototype.fn=function(){var g=this.cn,h=g.words,y=8*this.sn,_=8*g.nSigBytes;return h[_>>>5]|=128<<24-_%32,h[30+(_+128>>>10<<5)]=Math.floor(y/4294967296),h[31+(_+128>>>10<<5)]=y,g.nSigBytes=4*h.length,this.an(),this.on.to32()},f.prototype.clone=function(){return new f({hash:this.on,blockSize:this.N,data:this.cn,nBytes:this.sn})},f.hash=function(g,h){return new f(h).finalize(g)},f}(u.P)},3354:function(o,i,a){a.d(i,{e:function(){return c}});var s=a(5720),u=a(9054),c=function(){function l(d,w){if(Array.isArray(d)||!d)return this.yn=Array.isArray(d)?d:[],void(this.pn=typeof w=="number"?w:4*this.yn.length);if(d instanceof l)return this.yn=d.words.slice(),void(this.pn=d.nSigBytes);var m;try{d instanceof ArrayBuffer?m=new Uint8Array(d):(d instanceof Uint8Array||d instanceof Int8Array||d instanceof Uint8ClampedArray||d instanceof Int16Array||d instanceof Uint16Array||d instanceof Int32Array||d instanceof Uint32Array||d instanceof Float32Array||d instanceof Float64Array)&&(m=new Uint8Array(d.buffer,d.byteOffset,d.byteLength))}catch{throw new Error("Invalid argument")}if(!m)throw new Error("Invalid argument");for(var p=m.byteLength,f=[],g=0;g<p;g++)f[g>>>2]|=m[g]<<24-g%4*8;this.yn=f,this.pn=p}return Object.defineProperty(l.prototype,"nSigBytes",{get:function(){return this.pn},set:function(d){this.pn=d},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"words",{get:function(){return this.yn},enumerable:!1,configurable:!0}),l.prototype.toString=function(d){return d?d.stringify(this):s.p.stringify(this)},l.prototype.toUint8Array=function(){for(var d=this.yn,w=this.pn,m=new Uint8Array(w),p=0;p<w;p++)m[p]=d[p>>>2]>>>24-p%4*8&255;return m},l.prototype.concat=function(d){var w=d.words.slice(),m=d.nSigBytes;if(this.clamp(),this.pn%4)for(var p=0;p<m;p++){var f=w[p>>>2]>>>24-p%4*8&255;this.yn[this.pn+p>>>2]|=f<<24-(this.pn+p)%4*8}else for(p=0;p<m;p+=4)this.yn[this.pn+p>>>2]=w[p>>>2];return this.pn+=m,this},l.prototype.clamp=function(){var d=this.pn;this.yn[d>>>2]&=4294967295<<32-d%4*8,this.yn.length=Math.ceil(d/4)},l.prototype.clone=function(){return new l(this.yn.slice(),this.pn)},l.random=function(d){for(var w=[],m=0;m<d;m+=4)w.push((0,u.M)());return new l(w,d)},l}()},6957:function(o,i,a){a.d(i,{r:function(){return c},m:function(){return l}});var s=a(5720),u=a(3354),c=function(){function d(w,m){this.high=w,this.low=m}return d.prototype.clone=function(){return new d(this.high,this.low)},d}(),l=function(){function d(w,m){this.yn=w||[],this.pn=typeof m=="number"?m:8*this.yn.length}return Object.defineProperty(d.prototype,"nSigBytes",{get:function(){return this.pn},set:function(w){this.pn=w},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"words",{get:function(){return this.yn},enumerable:!1,configurable:!0}),d.prototype.to32=function(){for(var w=[],m=0;m<this.yn.length;m++){var p=this.yn[m];w.push(p.high),w.push(p.low)}return new u.e(w,this.pn)},d.prototype.toString=function(w){return w?w.stringify(this.to32()):s.p.stringify(this.to32())},d.prototype.clone=function(){for(var w=this.yn.slice(),m=0;m<w.length;m++)w[m]=w[m].clone();return new d(w,this.pn)},d}()},7211:function(o,i,a){a.d(i,{C:function(){return c}});var s=a(3354),u=a(4768),c=function(){function l(d){this.On=0,this.N=0,this.O=d,this.cn=d&&d.data!==void 0?d.data.clone():new s.e,this.sn=d&&typeof d.nBytes=="number"?d.nBytes:0}return Object.defineProperty(l.prototype,"blockSize",{get:function(){return this.N},enumerable:!1,configurable:!0}),l.prototype.reset=function(d,w){this.cn=d!==void 0?d.clone():new s.e,this.sn=typeof w=="number"?w:0},l.prototype.jn=function(d){var w=typeof d=="string"?u.d.parse(d):d;this.cn.concat(w),this.sn+=w.nSigBytes},l.prototype.an=function(d){var w,m=this.cn.words,p=this.cn.nSigBytes,f=this.N,g=p/(4*this.N),h=(g=d?Math.ceil(g):Math.max((0|g)-this.On,0))*f,y=Math.min(4*h,p);if(h){for(var _=0;_<h;_+=f)this.un(m,_);w=m.splice(0,h),this.cn.nSigBytes-=y}return new s.e(w,y)},l.prototype.un=function(d,w){throw new Error("Not implemented")},l}()},1868:function(o,i,a){a.d(i,{P:function(){return l}});var s,u=a(7211),c=(s=function(d,w){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,p){m.__proto__=p}||function(m,p){for(var f in p)Object.prototype.hasOwnProperty.call(p,f)&&(m[f]=p[f])})(d,w)},function(d,w){function m(){this.constructor=d}s(d,w),d.prototype=w===null?Object.create(w):(m.prototype=w.prototype,new m)}),l=function(d){function w(m){var p=d.call(this,m)||this;return p.N=16,p.O=m,m&&typeof m.blockSize=="number"&&(p.N=m.blockSize),p.reset(m?m.data:void 0,m?m.nBytes:void 0),p}return c(w,d),Object.defineProperty(w.prototype,"blockSize",{get:function(){return this.N},enumerable:!1,configurable:!0}),w.prototype.reset=function(m,p){d.prototype.reset.call(this,m,p),this.A()},w.prototype.update=function(m){return this.jn(m),this.an(),this},w.prototype.finalize=function(m){return m&&this.jn(m),this.fn()},w.prototype.A=function(){throw new Error("Not implemented")},w.prototype.fn=function(){throw new Error("Not implemented")},w}(u.C)},787:function(o,i,a){a.d(i,{G:function(){return m}});var s,u=a(9456),c=a(4344),l=a(7919),d=(s=function(p,f){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,h){g.__proto__=h}||function(g,h){for(var y in h)Object.prototype.hasOwnProperty.call(h,y)&&(g[y]=h[y])})(p,f)},function(p,f){function g(){this.constructor=p}s(p,f),p.prototype=f===null?Object.create(f):(g.prototype=f.prototype,new g)}),w=function(){return(w=Object.assign||function(p){for(var f,g=1,h=arguments.length;g<h;g++)for(var y in f=arguments[g])Object.prototype.hasOwnProperty.call(f,y)&&(p[y]=f[y]);return p}).apply(this,arguments)},m=function(p){function f(g){var h=p.call(this,g)||this;return h.N=4,h._n=c.n,h.mn=l.l,h.O=g,h._n=g.mode!==void 0?g.mode:h._n,h.mn=g.padding!==void 0?g.padding:h.mn,h.reset(g?.data,g?.nBytes),h}return d(f,p),Object.defineProperty(f.prototype,"mode",{get:function(){return this.An},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"padding",{get:function(){return this.mn},enumerable:!1,configurable:!0}),f.prototype.reset=function(g,h){var y;p.prototype.reset.call(this,g,h),this.gn===u.t.ENC_TRANSFORM_MODE?y=this._n.createEncryptor:(y=this._n.createDecryptor,this.On=1),this._n&&this.En===y?this.An=new this._n({cipher:this,iv:this.ln}):(this.An=y.call(this._n,{cipher:this,iv:this.ln}),this.En=y)},f.prototype.un=function(g,h){var y;(y=this.An)===null||y===void 0||y.processBlock(g,h)},f.prototype.fn=function(){var g,h=this.mn;return this.gn===u.t.ENC_TRANSFORM_MODE?(h.pad(this.cn,this.blockSize),g=this.an(!0)):(g=this.an(!0),h.unpad(g)),g},f.prototype.encryptBlock=function(g,h){throw new Error("Not implemented")},f.prototype.decryptBlock=function(g,h){throw new Error("Not implemented")},f.createEncryptor=function(g,h){return new f(w(w({},h=h===void 0?{}:h),{key:g,transformMode:u.t.ENC_TRANSFORM_MODE}))},f.createDecryptor=function(g,h){return new f(w(w({},h=h===void 0?{}:h),{key:g,transformMode:u.t.DEC_TRANSFORM_MODE}))},f}(u.t)},9456:function(o,i,a){a.d(i,{t:function(){return d}});var s,u=a(7211),c=(s=function(w,m){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,f){p.__proto__=f}||function(p,f){for(var g in f)Object.prototype.hasOwnProperty.call(f,g)&&(p[g]=f[g])})(w,m)},function(w,m){function p(){this.constructor=w}s(w,m),w.prototype=m===null?Object.create(m):(p.prototype=m.prototype,new p)}),l=function(){return(l=Object.assign||function(w){for(var m,p=1,f=arguments.length;p<f;p++)for(var g in m=arguments[p])Object.prototype.hasOwnProperty.call(m,g)&&(w[g]=m[g]);return w}).apply(this,arguments)},d=function(w){function m(p){var f=w.call(this,p)||this;return f.gn=1,f.O=p,f.H=p.key,f.ln=p.iv!==void 0?p.iv:f.ln,f.gn=p.transformMode!==void 0?p.transformMode:f.gn,f}return c(m,w),Object.defineProperty(m.prototype,"iv",{get:function(){return this.ln},enumerable:!1,configurable:!0}),m.prototype.reset=function(p,f){w.prototype.reset.call(this,p,f),this.A()},m.prototype.process=function(p){return this.jn(p),this.an()},m.prototype.finalize=function(p){return p&&this.jn(p),this.fn()},m.prototype.A=function(){throw new Error("Not implemented")},m.prototype.un=function(p,f){throw new Error("Not implemented")},m.prototype.fn=function(){throw new Error("Not implemented")},m.createEncryptor=function(p,f){return new m(l(l({},f=f===void 0?{}:f),{key:p,transformMode:m.ENC_TRANSFORM_MODE}))},m.createDecryptor=function(p,f){return new m(l(l({},f=f===void 0?{}:f),{key:p,transformMode:m.DEC_TRANSFORM_MODE}))},m.ENC_TRANSFORM_MODE=1,m.DEC_TRANSFORM_MODE=2,m.keySize=4,m.ivSize=4,m}(u.C)},2505:function(o,i,a){a.d(i,{Q:function(){return u}});var s=a(1232),u=function(){function c(l){this.formatter=s.w,l&&(this.cipherText=l.cipherText,this.key=l.key,this.iv=l.iv,this.salt=l.salt,this.Algorithm=l.Algorithm,this.mode=l.mode,this.padding=l.padding,this.blockSize=l.blockSize,this.formatter=l.formatter||s.w)}return c.prototype.toString=function(l){return(l||this.formatter).stringify(this)},c}()},5693:function(o,i,a){a.d(i,{E:function(){return w}});var s=a(9109),u=a(2214),c=a(2505),l=a(1232),d=function(){return(d=Object.assign||function(m){for(var p,f=1,g=arguments.length;f<g;f++)for(var h in p=arguments[f])Object.prototype.hasOwnProperty.call(p,h)&&(m[h]=p[h]);return m}).apply(this,arguments)},w={encrypt:function(m,p,f,g){var h=g?d({},g):{},y=g&&g.KDF?g.KDF:u.s,_={};g&&g.kdfHasher&&(_.kdfHasher=g.kdfHasher),g&&g.kdfIterations&&(_.kdfIterations=g.kdfIterations),g&&g.kdfModule&&(_.kdfModule=g.kdfModule);var S=y.execute(f,m.keySize,m.ivSize,h.kdfSalt,_);h.iv=S.iv;var x=s.D.encrypt(m,p,S.key,h);return new c.Q(d(d({},x),{key:S.key,iv:S.iv,salt:S.salt}))},decrypt:function(m,p,f,g){var h=g?d({},g):{},y=h.KDF?h.KDF:u.s,_=h.formatter?h.formatter:l.w,S=(0,s.W)(p,_),x={};g&&g.kdfHasher&&(x.kdfHasher=g.kdfHasher),g&&g.kdfIterations&&(x.kdfIterations=g.kdfIterations),g&&g.kdfModule&&(x.kdfModule=g.kdfModule);var A=y.execute(f,m.keySize,m.ivSize,S.salt,x);return h.iv=A.iv,s.D.decrypt(m,S,A.key,h)}}},9109:function(o,i,a){a.d(i,{W:function(){return c},D:function(){return l}});var s=a(1232),u=a(2505);function c(d,w){return typeof d=="string"?w.parse(d):d}var l={encrypt:function(d,w,m,p){var f=d.createEncryptor(m,p),g=f.finalize(w);return new u.Q({cipherText:g,key:m,iv:f.iv,Algorithm:d,mode:f.mode,padding:f.padding,blockSize:f.blockSize,formatter:p?.formatter||s.w})},decrypt:function(d,w,m,p){var f=d.createDecryptor(m,p),g=c(w,p?.formatter||s.w);return f.finalize(g.cipherText||"")}}},30:function(o,i,a){a.d(i,{q:function(){return l}});var s,u=a(9456),c=(s=function(d,w){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,p){m.__proto__=p}||function(m,p){for(var f in p)Object.prototype.hasOwnProperty.call(p,f)&&(m[f]=p[f])})(d,w)},function(d,w){function m(){this.constructor=d}s(d,w),d.prototype=w===null?Object.create(w):(m.prototype=w.prototype,new m)}),l=function(d){function w(m){var p=d.call(this,m)||this;return p.N=1,p}return c(w,d),w.prototype.fn=function(){return this.an(!0)},w}(u.t)},1232:function(o,i,a){a.d(i,{w:function(){return l}});var s=a(2505),u=a(3354),c=a(1773),l={stringify:function(d){var w=d.cipherText,m=d.salt;return w?m?new u.e([1398893684,1701076831]).concat(m).concat(w).toString(c.D):w.toString(c.D):""},parse:function(d){var w,m=c.D.parse(d),p=m.words;return p[0]===1398893684&&p[1]===1701076831&&(w=new u.e(p.slice(2,4)),p.splice(0,4),m.nSigBytes-=16),new s.Q({cipherText:m,salt:w})}}},2214:function(o,i,a){a.d(i,{s:function(){return d}});var s=a(3354),u=a(2505),c=a(7008),l=function(){return(l=Object.assign||function(w){for(var m,p=1,f=arguments.length;p<f;p++)for(var g in m=arguments[p])Object.prototype.hasOwnProperty.call(m,g)&&(w[g]=m[g]);return w}).apply(this,arguments)},d={execute:function(w,m,p,f,g){f||(f=s.e.random(8));var h=g&&g.kdfModule||c.E,y=g?{Hasher:g.kdfHasher,iterations:g.kdfIterations}:{},_=h.getKey(w,f,l(l({},y),{keySize:m+p})),S=new s.e(_.words.slice(m),4*p);return _.nSigBytes=4*m,new u.Q({key:_,iv:S,salt:f})}}},7008:function(o,i,a){a.d(i,{E:function(){return m}});var s,u=a(5561),c=a(6367),l=a(3354),d=a(9541),w=(s=function(p,f){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,h){g.__proto__=h}||function(g,h){for(var y in h)Object.prototype.hasOwnProperty.call(h,y)&&(g[y]=h[y])})(p,f)},function(p,f){function g(){this.constructor=p}s(p,f),p.prototype=f===null?Object.create(f):(g.prototype=f.prototype,new g)}),m=function(p){function f(g){var h=p.call(this,g)||this;return h.Sn=4,h.Mn=u.SHA256,h.kn=1e4,g&&(h.Sn=g.keySize!==void 0?g.keySize:h.Sn,h.Mn=g.Hasher!==void 0?g.Hasher:h.Mn,h.kn=g.iterations!==void 0?g.iterations:h.kn),h}return w(f,p),f.prototype.compute=function(g,h){for(var y=new c.Hmac(new this.Mn,g),_=new l.e,S=new l.e([1]),x=_.words,A=S.words,D=this.Sn,P=this.kn;x.length<D;){var U=y.update(h).finalize(S);y.reset();for(var B=U.words,O=B.length,k=U,R=1;R<P;R++){k=y.finalize(k),y.reset();for(var q=k.words,ae=0;ae<O;ae++)B[ae]^=q[ae]}_.concat(U),A[0]++}return _.nSigBytes=4*D,_},f.getKey=function(g,h,y){return new f(y).compute(g,h)},f}(d._)},9541:function(o,i,a){a.d(i,{_:function(){return s}});var s=function(){function u(c){this.O=c}return u.prototype.compute=function(c,l){throw new Error("Not implemented")},u.getKey=function(c,l,d){throw new Error("Not implemented")},u}()},1863:function(o,i,a){a.d(i,{T:function(){return s}});var s=function(){function u(c){this.O=c,this.Hn=c.cipher,this.ln=c.iv}return u.prototype.processBlock=function(c,l){},u.createEncryptor=function(c){throw new Error("Not implemented yet")},u.createDecryptor=function(c){throw new Error("Not implemented yet")},u}()},4344:function(o,i,a){a.d(i,{n:function(){return l}});var s,u=a(1863),c=(s=function(d,w){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,p){m.__proto__=p}||function(m,p){for(var f in p)Object.prototype.hasOwnProperty.call(p,f)&&(m[f]=p[f])})(d,w)},function(d,w){function m(){this.constructor=d}s(d,w),d.prototype=w===null?Object.create(w):(m.prototype=w.prototype,new m)}),l=function(d){function w(m){var p=d.call(this,m)||this;return p.Cn=[],p}return c(w,d),w.prototype.xorBlock=function(m,p,f){var g,h=this.ln;h?(g=h.words,this.ln=void 0):g=this.Cn;for(var y=0;y<f;y++)m[p+y]^=g[y]},w.createEncryptor=function(m){return new w.Encryptor(m)},w.createDecryptor=function(m){return new w.Decryptor(m)},w.Encryptor=function(m){function p(){return m!==null&&m.apply(this,arguments)||this}return c(p,m),p.prototype.processBlock=function(f,g){var h=this.Hn,y=h.blockSize;this.xorBlock(f,g,y),h.encryptBlock(f,g),this.Cn=f.slice(g,g+y)},p}(w),w.Decryptor=function(m){function p(){return m!==null&&m.apply(this,arguments)||this}return c(p,m),p.prototype.processBlock=function(f,g){var h=this.Hn,y=h.blockSize,_=f.slice(g,g+y);h.decryptBlock(f,g),this.xorBlock(f,g,y),this.Cn=_},p}(w),w}(u.T)},4055:function(o,i,a){a.d(i,{I4:function(){return u},z6:function(){return c},ur:function(){return l}});var s=a(3354);function u(d){var w=d.nSigBytes%16;if(w!==0){for(var m=16-w,p=[],f=Math.floor(m/4),g=0;g<f;g++)p.push(0);m%4>0&&p.push(0),d.concat(new s.e(p,m))}}function c(d,w){return new s.e(d.words.slice(),w)}function l(d,w){for(var m=d.nSigBytes-w,p=[],f=0;f<w;f++){var g=f>>>2,h=m+f,y=h>>>2,_=d.words[y]>>>24-h%4*8&255;p[g]=0|p[g]|_<<24-f%4*8}var S=new s.e(p,w);return S.clamp(),S}},7919:function(o,i,a){a.d(i,{l:function(){return u}});var s=a(3354),u={pad:function(c,l){for(var d=4*l,w=d-c.nSigBytes%d,m=w<<24|w<<16|w<<8|w,p=[],f=0;f<w;f+=4)p.push(m);var g=new s.e(p,w);c.concat(g)},unpad:function(c){var l=255&c.words[c.nSigBytes-1>>>2];c.nSigBytes-=l}}},1756:function(o,i,a){a.d(i,{w:function(){return l}});var s,u=typeof navigator<"u"&&navigator.userAgent?navigator.userAgent.toLowerCase():"",c=(s=parseInt((/msie (\d+)/.exec(u)||[])[1],10),isNaN(s)?(s=parseInt((/trident\/.*; rv:(\d+)/.exec(u)||[])[1],10),!isNaN(s)&&s):s);function l(d,w){return c!==!1&&(!w||(d==="<"?c<w:d==="<="?c<=w:d===">"?c>w:d===">="?c>=w:c===w))}},1773:function(o,i,a){a.d(i,{D:function(){return d}});for(var s=a(3354),u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",c=[],l=0;l<u.length;l++)c[u.charCodeAt(l)]=l;var d={stringify:function(w){var m=w.words,p=w.nSigBytes;w.clamp();for(var f=[],g=0;g<p;g+=3)for(var h=(m[g>>>2]>>>24-g%4*8&255)<<16|(m[g+1>>>2]>>>24-(g+1)%4*8&255)<<8|m[g+2>>>2]>>>24-(g+2)%4*8&255,y=0;y<4&&g+.75*y<p;y++)f.push(u.charAt(h>>>6*(3-y)&63));var _=u.charAt(64);if(_)for(;f.length%4;)f.push(_);return f.join("")},parse:function(w){var m=w.length,p=u.charAt(64);if(p){var f=w.indexOf(p);f!==-1&&(m=f)}for(var g=[],h=0,y=0;y<m;y++)if(y%4){var _=c[w.charCodeAt(y-1)]<<y%4*2|c[w.charCodeAt(y)]>>>6-y%4*2;g[h>>>2]|=_<<24-h%4*8,h++}return new s.e(g,h)}}},5720:function(o,i,a){a.d(i,{p:function(){return u}});var s=a(3354),u={stringify:function(c){for(var l=c.nSigBytes,d=c.words,w=[],m=0;m<l;m++){var p=d[m>>>2]>>>24-m%4*8&255;w.push((p>>>4).toString(16)),w.push((15&p).toString(16))}return w.join("")},parse:function(c){var l=c.length;if(l%2!=0)throw new Error("Hex string count must be even");if(!/^[a-fA-F0-9]+$/.test(c))throw new Error("Invalid Hex string: "+c);for(var d=[],w=0;w<l;w+=2)d[w>>>3]|=parseInt(c.substr(w,2),16)<<24-w%8*4;return new s.e(d,l/2)}}},8702:function(o,i,a){a.d(i,{m:function(){return u}});var s=a(3354),u={stringify:function(c){for(var l=c.nSigBytes,d=c.words,w=[],m=0;m<l;m++){var p=d[m>>>2]>>>24-m%4*8&255;w.push(String.fromCharCode(p))}return w.join("")},parse:function(c){for(var l=c.length,d=[],w=0;w<l;w++)d[w>>>2]|=(255&c.charCodeAt(w))<<24-w%4*8;return new s.e(d,l)}}},4768:function(o,i,a){a.d(i,{d:function(){return u}});var s=a(8702),u={stringify:function(c){try{return decodeURIComponent(escape(s.m.stringify(c)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(c){return s.m.parse(unescape(encodeURIComponent(c)))}}},2688:function(o,i,a){a.d(i,{Base64:function(){return c.D},EvpKDF:function(){return D},Hex:function(){return w.p},Latin1:function(){return d.m},OpenSSLKDF:function(){return y.s},PBKDF2:function(){return _.E},Utf16:function(){return h},Utf16BE:function(){return m},Utf16LE:function(){return g},Utf8:function(){return l.d},Word32Array:function(){return s.e},Word64:function(){return u.r},Word64Array:function(){return u.m}}),a(9054);var s=a(3354),u=a(6957),c=(a(1756),a(1773)),l=a(4768),d=a(8702),w=a(5720),m={stringify:function(P){for(var U=P.words,B=P.nSigBytes,O=[],k=0;k<B;k+=2){var R=U[k>>>2]>>>16-k%4*8&65535;O.push(String.fromCharCode(R))}return O.join("")},parse:function(P){for(var U=P.length,B=[],O=0;O<U;O++)B[O>>>1]|=P.charCodeAt(O)<<16-O%2*16;return new s.e(B,2*U)}};function p(P){return P<<8&4278255360|P>>>8&16711935}var f,g={stringify:function(P){for(var U=P.words,B=P.nSigBytes,O=[],k=0;k<B;k+=2){var R=p(U[k>>>2]>>>16-k%4*8&65535);O.push(String.fromCharCode(R))}return O.join("")},parse:function(P){for(var U=P.length,B=[],O=0;O<U;O++)B[O>>>1]|=p(P.charCodeAt(O)<<16-O%2*16);return new s.e(B,2*U)}},h=m,y=a(2214),_=a(7008),S=a(670),x=a(9541),A=(f=function(P,U){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(B,O){B.__proto__=O}||function(B,O){for(var k in O)Object.prototype.hasOwnProperty.call(O,k)&&(B[k]=O[k])})(P,U)},function(P,U){function B(){this.constructor=P}f(P,U),P.prototype=U===null?Object.create(U):(B.prototype=U.prototype,new B)}),D=function(P){function U(B){var O=P.call(this,B)||this;return O.Sn=4,O.Mn=S.MD5,O.kn=1,B&&(O.Sn=B.keySize!==void 0?B.keySize:O.Sn,O.Mn=B.Hasher!==void 0?B.Hasher:O.Mn,O.kn=B.iterations!==void 0?B.iterations:O.kn),O}return A(U,P),U.prototype.compute=function(B,O){for(var k,R=new this.Mn,q=new s.e,ae=q.words,de=this.Sn,le=this.kn;ae.length<de;){k&&R.update(k),k=R.update(B).finalize(O),R.reset();for(var te=1;te<le;te++)k=R.finalize(k),R.reset();q.concat(k)}return q.nSigBytes=4*de,q},U.getKey=function(B,O,k){return new U(k).compute(B,O)},U}(x._)},9054:function(o,i,a){a.d(i,{M:function(){return u}});var s=a(1756),u=function(){if(typeof window<"u"){var c=window.crypto||window.msCrypto;if(!c){if((0,s.w)("<",11))return console.warn("IE <= 10 uses insecure random generator. Please consider to use IE11 or another modern browser"),function(){return Math.floor(512*Math.random())%256};throw new Error("Crypto module not found")}return function(){return c.getRandomValues(new Uint32Array(1))[0]}}return a.g!==void 0&&a.g.crypto?function(){return a.g.crypto.randomBytes(4).readInt32LE()}:function(){return require("crypto").randomBytes(4).readInt32LE()}}()},3664:function(o,i,a){a.d(i,{K:function(){return w}});var s,u=a(1863),c=a(3354),l=a(4055),d=(s=function(m,p){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,g){f.__proto__=g}||function(f,g){for(var h in g)Object.prototype.hasOwnProperty.call(g,h)&&(f[h]=g[h])})(m,p)},function(m,p){function f(){this.constructor=m}s(m,p),m.prototype=p===null?Object.create(p):(f.prototype=p.prototype,new f)}),w=function(m){function p(f){var g=m.call(this,f)||this;g.Bn=1;var h=f.cipher,y=f.iv;if(h.blockSize!==4)throw new Error("In CCM, cipher block size must be 128bit");if(y&&(y.nSigBytes>13||y.nSigBytes<7))throw new Error("Byte size of iv must be between 7 and 13");return g.Nn=y||new c.e([0,0],8),g.In=15-g.Nn.nSigBytes,g}return d(p,m),p.getB0=function(f,g,h,y){if(h.nSigBytes+y.nSigBytes!==15)throw new Error("LEN(Q)+LEN(N) must be 15");var _=255&(0|(f?1:0)<<6|(g-2)/2<<3|h.nSigBytes-1),S=y.clone().concat(h);return new c.e([_<<24],1).concat(S)},p.formatAssociatedDataAndPayload=function(f,g){var h,y=f.nSigBytes;if(y===0)h=new c.e([0],0);else if(y<Math.pow(2,16)-Math.pow(2,8))h=new c.e([y<<16],2);else{if(!(y<Math.pow(2,32)))throw new Error("LEN(A) larger than 2**32-1 is not supported");h=new c.e([4294836224],2).concat(new c.e([y],4))}for(var _=Math.floor(f.nSigBytes/4),S=0;S<_;S++)h.concat(new c.e([f.words[S]],4));f.nSigBytes%4&&(h.concat(new c.e([f.words[_]],f.nSigBytes%4)),h.concat(new c.e([0],4-f.nSigBytes%4))),h.nSigBytes%16&&h.concat(new c.e([0],16-h.nSigBytes%16));var x=Math.floor(g.nSigBytes/4);for(S=0;S<x;S++)h.concat(new c.e([g.words[S]],4));return g.nSigBytes%4&&(h.concat(new c.e([g.words[x]],g.nSigBytes%4)),h.concat(new c.e([0],4-g.nSigBytes%4))),h.nSigBytes%16&&h.concat(new c.e([0],16-h.nSigBytes%16)),h},p.genCtr=function(f,g,h){if(g.nSigBytes+f!==15)throw new Error("LEN(Q)+LEN(N) must be 15");for(var y=new c.e([(f-1&7)<<24],1),_=new c.e([],0),S=Math.floor(f/4),x=0;x<S-1;x++)_.concat(new c.e([0],4));return f%4?f>4?(_.concat(new c.e([0],f%4)),_.concat(new c.e([h],4))):_.concat(new c.e([h<<32-8*f],f)):_.concat(new c.e([h],4)),y.concat(g).concat(_)},p.mac=function(f,g,h,y,_,S){var x=new f({key:g,iv:h});if(x.blockSize!==4)throw new Error("In CCM, cipher block size must be 128bit");if(h&&(h.nSigBytes>13||h.nSigBytes<7))throw new Error("Byte size of iv must be between 7 and 13");var A=h||new c.e([0,0],8),D=y?.clone()||new c.e,P=D.nSigBytes,U=_?.clone()||new c.e,B=U.nSigBytes;if(B>>>0>4294967295)throw new Error("Byte length of Payload(plainText) larger than 2^32-1 (4,294,967,295byte) is not supported at this time.");var O=15-A.nSigBytes,k=(0,l.ur)(new c.e([0,B],8),O),R=S||16,q=p.getB0(!!P,R,k,A),ae=p.formatAssociatedDataAndPayload(D,U),de=q.words.slice();x.encryptBlock(de,0);for(var le=ae.nSigBytes/16,te=ae.words,pe=de,Ee=0;Ee<le;Ee++){var Pe=[te[4*Ee]^pe[0],te[4*Ee+1]^pe[1],te[4*Ee+2]^pe[2],te[4*Ee+3]^pe[3]];x.encryptBlock(Pe,0),pe=Pe}var ve=new c.e(pe,R),Ae=p.genCtr(O,A,0);for(x.encryptBlock(Ae.words,0),Ee=0;Ee<4;Ee++)ve.words[Ee]^=Ae.words[Ee];return ve.clamp(),ve},p.combineCipherTextAndAuthTag=function(f,g){return f.clone().concat(g)},p.splitCipherTextAndAuthTag=function(f,g){var h=g||16;return{cipherText:(0,l.z6)(f,f.nSigBytes-h),authTag:(0,l.ur)(f,h)}},p.createEncryptor=function(f){return new p.Encryptor(f)},p.createDecryptor=function(f){return new p.Decryptor(f)},p.Encryptor=function(f){function g(){return f!==null&&f.apply(this,arguments)||this}return d(g,f),g.prototype.processBlock=function(h,y){var _=this.Hn,S=_.blockSize,x=p.genCtr(this.In,this.Nn,this.Bn);_.encryptBlock(x.words,0);for(var A=0;A<S;A++)h[y+A]^=x.words[A];this.Bn++},g}(p),p.Decryptor=function(f){function g(){return f!==null&&f.apply(this,arguments)||this}return d(g,f),g.prototype.processBlock=function(h,y){var _=this.Hn,S=_.blockSize,x=p.genCtr(this.In,this.Nn,this.Bn);_.encryptBlock(x.words,0);for(var A=0;A<S;A++)h[y+A]^=x.words[A];this.Bn++},g}(p),p}(u.T)},5607:function(o,i,a){a.d(i,{V:function(){return w}});var s,u=a(1863),c=a(3354),l=a(4055),d=(s=function(m,p){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,g){f.__proto__=g}||function(f,g){for(var h in g)Object.prototype.hasOwnProperty.call(g,h)&&(f[h]=g[h])})(m,p)},function(m,p){function f(){this.constructor=m}s(m,p),m.prototype=p===null?Object.create(p):(f.prototype=p.prototype,new f)}),w=function(m){function p(f){var g=m.call(this,f)||this;if(g.zn=[],g.Dn=[],g.Un=[],f.cipher.blockSize!==4)throw new Error("In GCM block cipher mode, cipher block size must be 128bit");var h=f.cipher,y=f.iv,_=[0,0,0,0];return h.encryptBlock(_,0),g.zn=_,g.Dn=p.getJ0(_,y?.words),g.Un=g.Dn.slice(),g}return d(p,m),p.getJ0=function(f,g){var h;if(g&&g.length!==0)if(g.length===3)h=[g[0],g[1],g[2],1];else{for(var y=g.length%4>0?4-g.length%4:0,_=g.slice(),S=0;S<y+2;S++)_.push(0);_.push(0),_.push(32*g.length),h=p.GHASH(f,_)}else h=[0,0,0,1];return h},p.inc32=function(f){var g=f.slice(),h=g[3]>>>0,y=h+1>>>0<h;if(g[3]=g[3]+1|0,y){var _=g[2]>>>0,S=_+1>>>0<_;g[2]=g[2]+1|0,S&&(g[1]=g[1]+1|0)}return g},p.mul=function(f,g){for(var h=[3774873600,0,0,0],y=[0,0,0,0],_=g.slice(),S=0;S<128;S++){(f[S>>>5]>>>31-S%32&1)>0&&(y[0]=y[0]^_[0],y[1]=y[1]^_[1],y[2]=y[2]^_[2],y[3]=y[3]^_[3]);var x=(1&_[3])>>>0,A=(1&_[0])>>>0,D=(1&_[1])>>>0,P=(1&_[2])>>>0;_[0]=_[0]>>>1,_[1]=_[1]>>>1|(A?2147483648:0),_[2]=_[2]>>>1|(D?2147483648:0),_[3]=_[3]>>>1|(P?2147483648:0),x>0&&(_[0]^=h[0],_[1]^=h[1],_[2]^=h[2],_[3]^=h[3])}return y},p.GHASH=function(f,g){if(f.length%4!=0)throw new Error("Length of 32bit word array 'H' must be multiple of 4(128bit)");if(g.length%4!=0)throw new Error("Length of 32bit word array 'X' must be multiple of 4(128bit)");for(var h=g.length,y=[0,0,0,0],_=0;_<h;_+=4)y[0]=y[0]^g[_],y[1]=y[1]^g[_+1],y[2]=y[2]^g[_+2],y[3]=y[3]^g[_+3],y=p.mul(y,f);return y},p.GCTR=function(f,g,h){if(h.nSigBytes===0)return h.clone();if(g.length!==4)throw new Error("Initial Counter Block size must be 128bit");for(var y=h.words,_=Math.ceil(h.nSigBytes/16),S=[g.slice()],x=1;x<_;x++){var A=p.inc32(S[x-1]);S.push(A)}var D=new c.e;for(x=0;x<_;x++){f.encryptBlock(S[x],0);var P=h.nSigBytes%16;if(x<_-1||P===0){var U=y[4*x]^S[x][0],B=y[4*x+1]^S[x][1],O=y[4*x+2]^S[x][2],k=y[4*x+3]^S[x][3],R=new c.e([U,B,O,k]);D.concat(R)}else{for(var q=[],ae=0,de=Math.floor(P/4),le=0;le<de;le++){var te=y[4*x+le]^S[x][le];q.push(te),ae+=4}var pe=P%4;if(pe>0){var Ee=y[4*x+de]<<32-8*pe^S[x][de];q.push(Ee),ae+=pe}var Pe=new c.e(q,ae);D.concat(Pe)}}return D.nSigBytes=h.nSigBytes,D.clamp(),D},p.mac=function(f,g,h,y,_,S){var x=new f({key:g,iv:h}),A=[0,0,0,0];x.encryptBlock(A,0);var D=p.getJ0(A,h.words),P=y?.clone()||new c.e,U=[0,8*P.nSigBytes],B=_?.clone()||new c.e,O=[0,8*B.nSigBytes],k=S||16;(0,l.I4)(P),(0,l.I4)(B);var R=P.words.concat(B.words).concat(U).concat(O),q=p.GHASH(A,R),ae=p.GCTR(x,D,new c.e(q));return(0,l.z6)(ae,k)},p.createEncryptor=function(f){return new p.Encryptor(f)},p.createDecryptor=function(f){return new p.Decryptor(f)},p.Encryptor=function(f){function g(){return f!==null&&f.apply(this,arguments)||this}return d(g,f),g.prototype.processBlock=function(h,y){var _=this.Hn.blockSize;this.Un=p.inc32(this.Un);for(var S=new c.e(h.slice(y,y+_)),x=p.GCTR(this.Hn,this.Un,S),A=0;A<_;A++)h[y+A]=x.words[A]},g}(p),p.Decryptor=function(f){function g(){return f!==null&&f.apply(this,arguments)||this}return d(g,f),g.prototype.processBlock=function(h,y){var _=this.Hn.blockSize;this.Un=p.inc32(this.Un);for(var S=new c.e(h.slice(y,y+_)),x=p.GCTR(this.Hn,this.Un,S),A=0;A<_;A++)h[y+A]=x.words[A]},g}(p),p}(u.T)}},t={};function r(o){var i=t[o];if(i!==void 0)return i.exports;var a=t[o]={exports:{}};return e[o](a,a.exports,r),a.exports}r.d=function(o,i){for(var a in i)r.o(i,a)&&!r.o(o,a)&&Object.defineProperty(o,a,{enumerable:!0,get:i[a]})},r.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),r.o=function(o,i){return Object.prototype.hasOwnProperty.call(o,i)},r.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"Ln",{value:!0})};var n={};return function(){r.r(n),r.d(n,{AES:function(){return U.AES},Base64:function(){return i.Base64},CBCMAC:function(){return h.CBCMAC},CipherParams:function(){return u.Q},DES:function(){return B.DES},DES3:function(){return O.DES3},EvpKDF:function(){return i.EvpKDF},GMAC:function(){return g.GMAC},Hex:function(){return i.Hex},Hmac:function(){return c.Hmac},HmacMD5:function(){return l.HmacMD5},HmacSHA1:function(){return d.HmacSHA1},HmacSHA224:function(){return w.HmacSHA224},HmacSHA256:function(){return m.HmacSHA256},HmacSHA384:function(){return p.HmacSHA384},HmacSHA512:function(){return f.HmacSHA512},Latin1:function(){return i.Latin1},MD5:function(){return y.MD5},OpenSSLKDF:function(){return i.OpenSSLKDF},PBKDF2:function(){return i.PBKDF2},PasswordBasedCipher:function(){return s.E},RC4:function(){return q.RC4},RC4Drop:function(){return ae.RC4Drop},RIPEMD160:function(){return k.RIPEMD160},Rabbit:function(){return R.Rabbit},SHA1:function(){return _.SHA1},SHA224:function(){return S.SHA224},SHA256:function(){return x.SHA256},SHA3:function(){return P.SHA3},SHA384:function(){return A.SHA384},SHA512:function(){return D.SHA512},SerializableCipher:function(){return a.D},Utf16:function(){return i.Utf16},Utf16BE:function(){return i.Utf16BE},Utf16LE:function(){return i.Utf16LE},Utf8:function(){return i.Utf8},Word32Array:function(){return i.Word32Array},Word64:function(){return i.Word64},Word64Array:function(){return i.Word64Array},formatter:function(){return Ha},mode:function(){return pr},pad:function(){return nc}});var o,i=r(2688),a=r(9109),s=r(5693),u=r(2505),c=r(6367),l=r(3027),d=r(149),w=r(4105),m=r(980),p=r(5838),f=r(9902),g=r(7753),h=r(3967),y=r(670),_=r(3173),S=r(766),x=r(5561),A=r(6324),D=r(7491),P=r(3408),U=r(9691),B=r(9910),O=r(6739),k=r(7104),R=r(5187),q=r(4615),ae=r(9639),de=r(4344),le=r(1863),te=(o=function(se,Y){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Z,oe){Z.__proto__=oe}||function(Z,oe){for(var ye in oe)Object.prototype.hasOwnProperty.call(oe,ye)&&(Z[ye]=oe[ye])})(se,Y)},function(se,Y){function Z(){this.constructor=se}o(se,Y),se.prototype=Y===null?Object.create(Y):(Z.prototype=Y.prototype,new Z)}),pe=function(se){function Y(Z){var oe=se.call(this,Z)||this;return oe.Cn=[],oe}return te(Y,se),Y.prototype.generateKeyStreamAndEncrypt=function(Z,oe,ye,ke){var bt,Pr=this.ln;Pr?(bt=Pr.words.slice(0),this.ln=void 0):bt=this.Cn,ke.encryptBlock(bt,0);for(var Dr=0;Dr<ye;Dr++)Z[oe+Dr]^=bt[Dr]},Y.createEncryptor=function(Z){return new Y.Encryptor(Z)},Y.createDecryptor=function(Z){return new Y.Decryptor(Z)},Y.Encryptor=function(Z){function oe(){return Z!==null&&Z.apply(this,arguments)||this}return te(oe,Z),oe.prototype.processBlock=function(ye,ke){this.generateKeyStreamAndEncrypt(ye,ke,this.Hn.blockSize,this.Hn),this.Cn=ye.slice(ke,ke+this.Hn.blockSize)},oe}(Y),Y.Decryptor=function(Z){function oe(){return Z!==null&&Z.apply(this,arguments)||this}return te(oe,Z),oe.prototype.processBlock=function(ye,ke){var bt=ye.slice(ke,ke+this.Hn.blockSize);this.generateKeyStreamAndEncrypt(ye,ke,this.Hn.blockSize,this.Hn),this.Cn=bt},oe}(Y),Y}(le.T),Ee=function(){var se=function(Y,Z){return(se=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(oe,ye){oe.__proto__=ye}||function(oe,ye){for(var ke in ye)Object.prototype.hasOwnProperty.call(ye,ke)&&(oe[ke]=ye[ke])})(Y,Z)};return function(Y,Z){function oe(){this.constructor=Y}se(Y,Z),Y.prototype=Z===null?Object.create(Z):(oe.prototype=Z.prototype,new oe)}}(),Pe=function(se){function Y(Z){var oe=se.call(this,Z)||this;return oe.Fn=[],oe}return Ee(Y,se),Y.createEncryptor=function(Z){return new Y.Encryptor(Z)},Y.createDecryptor=function(Z){return new Y.Decryptor(Z)},Y.Encryptor=function(Z){function oe(){return Z!==null&&Z.apply(this,arguments)||this}return Ee(oe,Z),oe.prototype.processBlock=function(ye,ke){var bt=this.Hn,Pr=bt.blockSize,Dr=this.ln,rr=this.Fn;Dr&&(rr=this.Fn=Dr.words.slice(0),this.ln=void 0);var Ar=rr.slice(0);bt.encryptBlock(Ar,0),rr[Pr-1]=rr[Pr-1]+1|0;for(var oc=0;oc<Pr;oc++)ye[ke+oc]^=Ar[oc]},oe}(Y),Y.Decryptor=Y.Encryptor,Y}(le.T),ve=function(){var se=function(Y,Z){return(se=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(oe,ye){oe.__proto__=ye}||function(oe,ye){for(var ke in ye)Object.prototype.hasOwnProperty.call(ye,ke)&&(oe[ke]=ye[ke])})(Y,Z)};return function(Y,Z){function oe(){this.constructor=Y}se(Y,Z),Y.prototype=Z===null?Object.create(Z):(oe.prototype=Z.prototype,new oe)}}(),Ae=function(se){function Y(Z){return se.call(this,Z)||this}return ve(Y,se),Y.createEncryptor=function(Z){return new Y.Encryptor(Z)},Y.createDecryptor=function(Z){return new Y.Decryptor(Z)},Y.Encryptor=function(Z){function oe(){return Z!==null&&Z.apply(this,arguments)||this}return ve(oe,Z),oe.prototype.processBlock=function(ye,ke){this.Hn.encryptBlock(ye,ke)},oe}(Y),Y.Decryptor=function(Z){function oe(){return Z!==null&&Z.apply(this,arguments)||this}return ve(oe,Z),oe.prototype.processBlock=function(ye,ke){this.Hn.decryptBlock(ye,ke)},oe}(Y),Y}(le.T),Ge=function(){var se=function(Y,Z){return(se=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(oe,ye){oe.__proto__=ye}||function(oe,ye){for(var ke in ye)Object.prototype.hasOwnProperty.call(ye,ke)&&(oe[ke]=ye[ke])})(Y,Z)};return function(Y,Z){function oe(){this.constructor=Y}se(Y,Z),Y.prototype=Z===null?Object.create(Z):(oe.prototype=Z.prototype,new oe)}}(),W=function(se){function Y(Z){var oe=se.call(this,Z)||this;return oe.xn=[],oe}return Ge(Y,se),Y.createEncryptor=function(Z){return new Y.Encryptor(Z)},Y.createDecryptor=function(Z){return new Y.Decryptor(Z)},Y.Encryptor=function(Z){function oe(){return Z!==null&&Z.apply(this,arguments)||this}return Ge(oe,Z),oe.prototype.processBlock=function(ye,ke){var bt=this.Hn,Pr=bt.blockSize,Dr=this.ln,rr=this.xn;Dr&&(rr=this.xn=Dr.words.slice(0),this.ln=void 0),bt.encryptBlock(rr,0);for(var Ar=0;Ar<Pr;Ar++)ye[ke+Ar]^=rr[Ar]},oe}(Y),Y.Decryptor=Y.Encryptor,Y}(le.T),$=r(5607),M=r(3664),z={pad:function(se,Y){var Z=se.nSigBytes,oe=4*Y,ye=oe-Z%oe,ke=Z+ye-1;se.clamp(),se.words[ke>>>2]|=ye<<24-ke%4*8,se.nSigBytes+=ye},unpad:function(se){var Y=255&se.words[se.nSigBytes-1>>>2];se.nSigBytes-=Y}},$t=r(3354),er={pad:function(se,Y){var Z=4*Y,oe=Z-se.nSigBytes%Z;se.concat($t.e.random(oe-1)).concat(new $t.e([oe<<24],1))},unpad:function(se){var Y=255&se.words[se.nSigBytes-1>>>2];se.nSigBytes-=Y}},zt={pad:function(se,Y){var Z=4*Y;se.clamp(),se.nSigBytes+=Z-(se.nSigBytes%Z||Z)},unpad:function(se){for(var Y=se.words,Z=se.nSigBytes-1;Z>=0;Z--)if(Y[Z>>>2]>>>24-Z%4*8&255){se.nSigBytes=Z+1;break}}},tr={pad:function(se,Y){se.concat(new $t.e([2147483648],1)),zt.pad(se,Y)},unpad:function(se){zt.unpad(se),se.nSigBytes-=1}},za=r(7919),Mo={pad:function(se,Y){},unpad:function(se){}},vr=r(1232),pr={CBC:de.n,CFB:pe,CTR:Pe,ECB:Ae,OFB:W,GCM:$.V,CCM:M.K},nc={AnsiX923:z,ISO10126:er,ISO97971:tr,Pkcs7:za.l,NoPadding:Mo,Zero:zt},Ha={OpenSSLFormatter:vr.w}}(),n}()})});var vie=E(dE=>{"use strict";Object.defineProperty(dE,"__esModule",{value:!0});dE.tokenToHash=void 0;var xie=Eie(),y5e=function(e){var t=e.secretToken;return xie.SHA256.hash(t).toString(xie.Base64)};dE.tokenToHash=y5e});var uh=E($a=>{"use strict";var b5e=$a&&$a.__awaiter||function(e,t,r,n){function o(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function s(l){try{c(n.next(l))}catch(d){a(d)}}function u(l){try{c(n.throw(l))}catch(d){a(d)}}function c(l){l.done?i(l.value):o(l.value).then(s,u)}c((n=n.apply(e,t||[])).next())})},w5e=$a&&$a.__generator||function(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(c){return function(l){return u([c,l])}}function u(c){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(r=0)),r;)try{if(n=1,o&&(i=c[0]&2?o.return:c[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,c[1])).done)return i;switch(o=0,i&&(c=[c[0]&2,i.value]),c[0]){case 0:case 1:i=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,o=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){r.label=c[1];break}if(c[0]===6&&r.label<i[1]){r.label=i[1],i=c;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(c);break}i[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(l){c=[6,l],o=0}finally{n=i=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}};Object.defineProperty($a,"__esModule",{value:!0});$a.verifyToken=void 0;var _5e=it(),S5e=aE(),E5e=new TextEncoder,x5e=function(e){var t=e.secret,r=e.token;return b5e(void 0,void 0,void 0,function(){var n,o;return w5e(this,function(i){switch(i.label){case 0:return n=E5e.encode(t),[4,(0,S5e.jwtVerify)(r,n).catch(function(){throw new _5e.AuthorizationError})];case 1:return o=i.sent(),[2,o.payload]}})})};$a.verifyToken=x5e});var Pie=E(fE=>{"use strict";Object.defineProperty(fE,"__esModule",{value:!0});fE.verifyAccessToken=void 0;var v5e=uh(),P5e=function(e){return(0,v5e.verifyToken)(e)};fE.verifyAccessToken=P5e});var Die=E(hE=>{"use strict";Object.defineProperty(hE,"__esModule",{value:!0});hE.verifyAssetsAccessToken=void 0;var D5e=uh(),A5e=function(e){return(0,D5e.verifyToken)(e)};hE.verifyAssetsAccessToken=A5e});var Aie=E(mE=>{"use strict";Object.defineProperty(mE,"__esModule",{value:!0});mE.verifyChallengeToken=void 0;var I5e=uh(),k5e=function(e){return(0,I5e.verifyToken)(e)};mE.verifyChallengeToken=k5e});var Iie=E(gE=>{"use strict";Object.defineProperty(gE,"__esModule",{value:!0});gE.verifyMigrationToken=void 0;var C5e=uh(),T5e=function(e){return(0,C5e.verifyToken)(e)};gE.verifyMigrationToken=T5e});var kie=E(yE=>{"use strict";Object.defineProperty(yE,"__esModule",{value:!0});yE.createApplicationClientId=void 0;var F5e=sE(),O5e=function(){return"client_".concat((0,F5e.nanoid)(20))};yE.createApplicationClientId=O5e});var Cie=E(Et=>{"use strict";var R5e=Et&&Et.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Qr=Et&&Et.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&R5e(t,e,r)};Object.defineProperty(Et,"__esModule",{value:!0});Qr(aie(),Et);Qr(sie(),Et);Qr(gie(),Et);Qr(yie(),Et);Qr(bie(),Et);Qr(_ie(),Et);Qr(Sie(),Et);Qr(vie(),Et);Qr(Pie(),Et);Qr(Die(),Et);Qr(Aie(),Et);Qr(Iie(),Et);Qr(kie(),Et)});var B5e={};ne(B5e,{ApplicationAccessTokenService:()=>bE,FleekSdk:()=>oS,PersonalAccessTokenService:()=>aS,StaticAccessTokenService:()=>sS,createClient:()=>ac});module.exports=Zie(B5e);var iS=L(it());var no=class extends Error{errors=[];data;constructor(t,r){let n=Array.isArray(t)?t.map(o=>o?.message||"").join(`
`):"";n||(n="GraphQL error"),super(n),this.errors=t,this.data=r}};function yB(e,t){let r=t.map(n=>n.request);r.length===1&&(r=r[0]),(()=>{try{return e.fetcher(r)}catch(n){return Promise.reject(n)}})().then(n=>{if(t.length===1&&!Array.isArray(n)){if(n.errors&&n.errors.length){t[0].reject(new no(n.errors,n.data));return}t[0].resolve(n);return}else if(n.length!==t.length)throw new Error("response length did not match query length");for(let o=0;o<t.length;o++)n[o].errors&&n[o].errors.length?t[o].reject(new no(n[o].errors,n[o].data)):t[o].resolve(n[o])}).catch(n=>{for(let o=0;o<t.length;o++)t[o].reject(n)})}function f2(e,t){let r=e._queue,n=t.maxBatchSize||0;if(e._queue=[],n>0&&n<r.length)for(let o=0;o<r.length/n;o++)yB(e,r.slice(o*n,(o+1)*n));else yB(e,r)}var iy=class e{fetcher;_options;_queue;constructor(t,{batchInterval:r=6,shouldBatch:n=!0,maxBatchSize:o=0}={}){this.fetcher=t,this._options={batchInterval:r,shouldBatch:n,maxBatchSize:o},this._queue=[]}fetch(t,r,n,o={}){let i={query:t},a=Object.assign({},this._options,o);return r&&(i.variables=r),n&&(i.operationName=n),new Promise((u,c)=>{this._queue.push({request:i,resolve:u,reject:c}),this._queue.length===1&&(a.shouldBatch?setTimeout(()=>f2(this,a),a.batchInterval):f2(this,a))})}forceFetch(t,r,n,o={}){let i={query:t},a=Object.assign({},this._options,o,{shouldBatch:!1});return r&&(i.variables=r),n&&(i.operationName=n),new Promise((u,c)=>{let l=new e(this.fetcher,this._options);l._queue=[{request:i,resolve:u,reject:c}],f2(l,a)})}};var qpe={maxBatchSize:10,batchInterval:40},h2=({url:e,headers:t={},fetcher:r,fetch:n,batch:o=!1,...i})=>{if(!e&&!r)throw new Error("url or fetcher is required");if(r=r||(async s=>{let u=typeof t=="function"?await t():t;if(u=u||{},typeof fetch>"u"&&!n)throw new Error("Global `fetch` function is not available, pass a fetch polyfill to Genql `createClient`");let l=await(n||fetch)(e,{headers:{"Content-Type":"application/json",...u},method:"POST",body:JSON.stringify(s),...i});if(!l.ok)throw new Error(`${l.statusText}: ${await l.text()}`);return await l.json()}),!o)return async s=>{let u=await r(s);if(Array.isArray(u))return u.map(c=>{if(c?.errors?.length)throw new no(c.errors||[],c.data);return c.data});if(u?.errors?.length)throw new no(u.errors||[],u.data);return u.data};let a=new iy(async s=>await r(s),o===!0?qpe:o);return async({query:s,variables:u})=>{let c=await a.fetch(s,u);if(c?.data)return c.data;throw new Error("Genql batch fetcher returned unexpected result "+JSON.stringify(c))}};var ay=(e,t,r)=>{if(typeof e=="object"&&"__args"in e){let n=e.__args,o={...e};delete o.__args;let i=Object.keys(n);if(i.length===0)return ay(o,t,r);let a=bB(t.root,r);return`(${i.map(u=>{t.varCounter++;let c=`v${t.varCounter}`,l=a.args&&a.args[u];if(!l)throw new Error(`no typing defined for argument \`${u}\` in path \`${r.join(".")}\``);return t.variables[c]={value:n[u],typing:l},`${u}:$${c}`})})${ay(o,t,r)}`}else if(typeof e=="object"&&Object.keys(e).length>0){let n=e,o=Object.keys(n).filter(c=>!!n[c]);if(o.length===0)throw new Error(`field selection should not be empty: ${r.join(".")}`);let i=r.length>0?bB(t.root,r).type:t.root,a=i.scalar,s;if(o.includes("__scalar")){let c=new Set(Object.keys(n).filter(l=>!n[l]));a?.length&&(t.fragmentCounter++,s=`f${t.fragmentCounter}`,t.fragments.push(`fragment ${s} on ${i.name}{${a.filter(l=>!c.has(l)).join(",")}}`))}return`{${o.filter(c=>!["__scalar","__name"].includes(c)).map(c=>{let l=ay(n[c],t,[...r,c]);if(c.startsWith("on_")){t.fragmentCounter++;let d=`f${t.fragmentCounter}`,w=c.match(/^on_(.+)/);if(!w||!w[1])throw new Error("match failed");return t.fragments.push(`fragment ${d} on ${w[1]}${l}`),`...${d}`}else return`${c}${l}`}).concat(s?[`...${s}`]:[]).join(",")}}`}else return""},Ul=(e,t,r)=>{let n={root:t,varCounter:0,variables:{},fragmentCounter:0,fragments:[]},o=ay(r,n,[]),i=Object.keys(n.variables),a=i.length>0?`(${i.map(u=>{let c=n.variables[u].typing[1];return`$${u}:${c}`})})`:"",s=r?.__name||"";return{query:[`${e} ${s}${a}${o}`,...n.fragments].join(","),variables:Object.keys(n.variables).reduce((u,c)=>(u[c]=n.variables[c].value,u),{}),...s?{operationName:s.toString()}:{}}},bB=(e,t)=>{let r;if(!e)throw new Error("root type is not provided");if(t.length===0)throw new Error("path is empty");return t.forEach(n=>{let o=r?r.type:e;if(!o.fields)throw new Error(`type \`${o.name}\` does not have fields`);let i=Object.keys(o.fields).filter(s=>s.startsWith("on_")).reduce((s,u)=>{let c=o.fields&&o.fields[u];return c&&s.push(c.type),s},[o]),a=null;if(i.forEach(s=>{let u=s.fields&&s.fields[n];u&&(a=u)}),!a)throw new Error(`type \`${o.name}\` does not have a field \`${n}\``);r=a}),r};var m2=({queryRoot:e,mutationRoot:t,subscriptionRoot:r,...n})=>{let o=h2(n),i={};return e&&(i.query=a=>{if(!e)throw new Error("queryRoot argument is missing");return o(Ul("query",e,a))}),t&&(i.mutation=a=>{if(!t)throw new Error("mutationRoot argument is missing");return o(Ul("mutation",t,a))}),i};var g2=e=>{let t=Object.assign({},...Object.keys(e.types).map((o,i)=>({[i]:o}))),r=Object.assign({},...Object.keys(e.types||{}).map(o=>{let a=e.types[o]||{};return{[o]:{name:o,scalar:Object.keys(a).filter(s=>{let[u]=a[s]||[];if(!(u&&e.scalars.includes(u)))return!1;let l=a[s]?.[1];return!Object.values(l||{}).map(m=>m?.[1]).filter(Boolean).some(m=>m&&m.endsWith("!"))}),fields:Object.assign({},...Object.keys(a).map(s=>{let[u,c]=a[s]||[];return u==null?{}:{[s]:{type:t[u],args:Object.assign({},...Object.keys(c||{}).map(l=>{if(!c||!c[l])return;let[d,w]=c[l];return{[l]:[t[d],w||t[d]]}}))}}}))}}}));return jpe(r)},jpe=e=>(Object.keys(e).forEach(t=>{let r=e[t];if(!r.fields)return;let n=r.fields;Object.keys(n).forEach(o=>{let i=n[o];if(i.args){let s=i.args;Object.keys(s).forEach(u=>{let c=s[u];if(c){let[l]=c;typeof l=="string"&&(e[l]||(e[l]={name:l}),c[0]=e[l])}})}let a=i.type;typeof a=="string"&&(e[a]||(e[a]={name:a}),i.type=e[a])})}),e);var wB={scalars:[1,3,8,9,14,16,18,23,24,26,27,28,30,38,39,73,95,96,105,106,110,123,131,145,166,183,197,207,213,215,261,267,268,269,279,291,292,294,295,302,312,352,353,357,358,359,360,361,362,363,364,365,366,367,368,369],types:{AcceptInvitationWhereInput:{hash:[1],__typename:[3]},ID:{},Application:{clientId:[3],createdAt:[73],id:[1],name:[3],updatedAt:[73],whiteLabelDomains:[6],whiteLabelDomainsPaginated:[7,{filter:[218]}],whitelistDomains:[10],__typename:[3]},String:{},ApplicationNameAvailabilityWhereInput:{name:[3],__typename:[3]},ApplicationWhereInput:{id:[1],__typename:[3]},ApplicationWhiteLabelDomain:{createdAt:[73],hostname:[3],id:[1],updatedAt:[73],__typename:[3]},ApplicationWhiteLabelDomainsWithNestedAggregation:{currentPage:[8],data:[6],isFirstPage:[9],isLastPage:[9],nextPage:[8],pageCount:[8],previousPage:[8],totalCount:[8],__typename:[3]},Int:{},Boolean:{},ApplicationWhitelistDomain:{createdAt:[73],hostname:[3],id:[1],updatedAt:[73],__typename:[3]},ApplicationsPaginationInput:{match:[3],page:[8],take:[8],__typename:[3]},ApplicationsWithAggregation:{currentPage:[8],data:[2],isFirstPage:[9],isLastPage:[9],nextPage:[8],pageCount:[8],previousPage:[8],totalCount:[8],__typename:[3]},ArweavePin:{bundlrId:[3],__typename:[3]},BigInt:{},BillingCycle:{billingCycleUsages:[17],billingPartnerTransactionId:[3],createdAt:[73],endDate:[73],id:[1],project:[241],projectId:[3],startDate:[73],status:[16],subscription:[34],subscriptionId:[3],updatedAt:[73],__typename:[3]},BillingCycleStatus:{},BillingCycleUsage:{amount:[18],billingCycle:[15],billingCycleId:[3],billingPlanOverageRule:[25],billingPlanOverageRuleId:[3],createdAt:[73],id:[1],updatedAt:[73],__typename:[3]},Float:{},BillingCycleUsagesPaginationInput:{match:[3],page:[8],take:[8],__typename:[3]},BillingCycleUsagesWithAggregation:{currentPage:[8],data:[17],isFirstPage:[9],isLastPage:[9],nextPage:[8],pageCount:[8],previousPage:[8],totalCount:[8],__typename:[3]},BillingPlan:{billingPartnerId:[3],billingPlanEnablementRules:[22],billingPlanOverageRules:[25],billingPlanTierRules:[29],createdAt:[73],disabledAt:[73],id:[1],isActive:[9],isPublicPlan:[9],name:[3],planLevel:[24],price:[18],updatedAt:[73],version:[8],__typename:[3]},BillingPlanEnablementRule:{billingPlan:[21],billingPlanId:[3],createdAt:[73],id:[1],isIncluded:[9],name:[3],type:[23],updatedAt:[73],__typename:[3]},BillingPlanEnablementRuleType:{},BillingPlanLevel:{},BillingPlanOverageRule:{billingPlanId:[1],createdAt:[73],id:[1],includedAmount:[8],name:[3],overageBucketSize:[8],overagePrice:[18],overageType:[27],type:[26],updatedAt:[73],__typename:[3]},BillingPlanOverageRuleType:{},BillingPlanOverageType:{},BillingPlanStatus:{},BillingPlanTierRule:{billingPlan:[21],billingPlanId:[3],createdAt:[73],id:[1],name:[3],type:[3],updatedAt:[73],__typename:[3]},BillingPlanTierRuleType:{},BillingPlanWhereInput:{id:[1],__typename:[3]},BillingPlansPaginationInput:{match:[3],page:[8],take:[8],__typename:[3]},BillingPlansWithAggregation:{currentPage:[8],data:[21],isFirstPage:[9],isLastPage:[9],nextPage:[8],pageCount:[8],previousPage:[8],totalCount:[8],__typename:[3]},BillingSubscription:{billingPartnerSubscriptionId:[3],createdAt:[73],endDate:[73],id:[1],isActive:[9],project:[241],projectId:[3],startDate:[73],type:[295],updatedAt:[73],__typename:[3]},Build:{baseDirectory:[3],buildCommand:[3],distDirectory:[3],dockerImage:[3],id:[1],logs:[36],logsPaginated:[37,{filter:[218]}],status:[38],__typename:[3]},BuildLog:{createdAt:[73],id:[1],text:[3],__typename:[3]},BuildLogsWithNestedAggregation:{currentPage:[8],data:[36],isFirstPage:[9],isLastPage:[9],nextPage:[8],pageCount:[8],previousPage:[8],totalCount:[8],__typename:[3]},BuildStatus:{},CID:{},CreateApplicationDataInput:{name:[3],whiteLabelDomains:[3],whitelistDomains:[3],__typename:[3]},CreateBillingCycleUsageDataInput:{amount:[18],billingCycleId:[1],billingPlanOverageRuleId:[1],__typename:[3]},CreateBillingPlanDataInput:{billingPartnerId:[1],description:[3],isActive:[9],isPublicPlan:[9],name:[3],planLevel:[24],price:[18],version:[8],__typename:[3]},CreateCustomIpfsDeploymentDataInput:{cid:[39],siteId:[1],__typename:[3]},CreateDnsConfigDataInput:{name:[3],__typename:[3]},CreateDnsConfigWhereInput:{domainId:[1],siteId:[1],__typename:[3]},CreateDomainDataInput:{hostname:[3],__typename:[3]},CreateDomainWhereInput:{zoneId:[1],__typename:[3]},CreateEnsRecordDataInput:{name:[3],__typename:[3]},CreateEnsRecordWhereInput:{ipnsRecordId:[1],siteId:[1],__typename:[3]},CreateFleekFunctionDataInput:{name:[3],siteId:[3],__typename:[3]},CreateFolderDataInput:{name:[3],__typename:[3]},CreateFolderWhereInput:{parentFolderId:[1],__typename:[3]},CreateGithubAppAuthorizationUrlWhereInput:{gitProviderId:[1],__typename:[3]},CreateGithubAppInstallationUrlWhereInput:{gitProviderId:[1],projectId:[1],__typename:[3]},CreateGithubIntegrationForProjectDataInput:{projectId:[3],__typename:[3]},CreateGithubRepoFromTemplateDataInput:{isPrivate:[9],repoName:[3],repoOwner:[3],templateOwner:[3],templateRepo:[3],__typename:[3]},CreateGithubRepoFromTemplateWhereInput:{gitIntegrationId:[1],__typename:[3]},CreateInvitationDataInput:{email:[3],permissionGroupId:[1],role:[261],__typename:[3]},CreateIpnsRecordForSiteWhereInput:{siteId:[1],__typename:[3]},CreateLoginVerificationSessionWhereInput:{id:[1],__typename:[3]},CreateMigrationRequestsFromTokenDataInput:{token:[3],__typename:[3]},CreateMigrationTokenDataInput:{teamIds:[3],__typename:[3]},CreatePersonalAccessTokenFromVerificationSessionDataInput:{name:[3],__typename:[3]},CreatePersonalAccessTokenFromVerificationSessionWhereInput:{id:[1],__typename:[3]},CreatePrivateGatewayDataInput:{name:[3],__typename:[3]},CreatePrivateGatewayWhereInput:{zoneId:[1],__typename:[3]},CreateProjectDataInput:{name:[3],planId:[1],__typename:[3]},CreateSalesContactRequestDataInput:{description:[3],email:[3],__typename:[3]},CreateSecretDataInput:{groupId:[1],key:[3],value:[3],visibility:[269],__typename:[3]},CreateSiteDataInput:{baseDirectory:[3],buildCommand:[3],distDirectory:[3],dockerImage:[3],enablePreviews:[9],frameworkId:[1],gitIntegrationId:[1],githubInstallationId:[8],name:[3],sourceBranch:[3],sourceProvider:[292],sourceRepositoryId:[3],sourceRepositoryName:[3],sourceRepositoryOwner:[3],templateId:[1],__typename:[3]},CreateTemplateDataInput:{banner:[131],description:[3],name:[3],siteId:[1],templateCategoryId:[1],__typename:[3]},CreateZoneForSiteWhereInput:{siteId:[1],__typename:[3]},Date:{},DeclineInvitationWhereInput:{hash:[3],__typename:[3]},DeleteApplicationWhereInput:{id:[1],__typename:[3]},DeleteDomainWhereInput:{id:[1],__typename:[3]},DeleteEnsRecordWhereInput:{id:[1],__typename:[3]},DeleteFleekFunctionWhereInput:{id:[3],__typename:[3]},DeleteFolderWhereInput:{id:[1],__typename:[3]},DeleteInvitationWhereInput:{id:[1],__typename:[3]},DeleteIpnsRecordWhereInput:{id:[1],__typename:[3]},DeleteMembershipWhereInput:{projectId:[1],userId:[1],__typename:[3]},DeletePersonalAccessTokenWhereInput:{id:[1],__typename:[3]},DeletePinWhereInput:{id:[1],__typename:[3]},DeletePrivateGatewayWhereInput:{id:[1],__typename:[3]},DeleteProjectWhereInput:{id:[1],__typename:[3]},DeleteRecoveryCodesWhereInput:{secretKeyId:[1],__typename:[3]},DeleteSecretKeyWhereInput:{id:[1],__typename:[3]},DeleteSecretWhereInput:{id:[1],__typename:[3]},DeleteSiteWhereInput:{id:[1],__typename:[3]},DeleteTemplateWhereInput:{id:[1],__typename:[3]},DeleteUserWhereInput:{id:[1],__typename:[3]},DeleteZoneWhereInput:{id:[1],__typename:[3]},Deployment:{build:[35],cid:[3],createdAt:[73],functionDeployments:[140],id:[1],previewImageUrl:[3],previewOnly:[9],previewUrlSlug:[3],siteId:[1],sourceAuthor:[3],sourceBranch:[3],sourceMessage:[3],sourceProvider:[292],sourceRef:[3],sourceRepositoryId:[3],sourceRepositoryName:[3],sourceRepositoryOwner:[3],startedAt:[73],status:[96],storageType:[294],updatedAt:[73],__typename:[3]},DeploymentMode:{},DeploymentStatus:{},DeploymentWhereInput:{id:[1],__typename:[3]},DeploymentsPaginationInput:{match:[3],page:[8],sortField:[357],sortOrder:[291],take:[8],__typename:[3]},DeploymentsQueueLimitWhereInput:{siteId:[1],__typename:[3]},DeploymentsWhereInput:{branch:[3],deploymentMode:[95],endDate:[73],siteId:[1],startDate:[73],status:[96],statuses:[96],__typename:[3]},DeploymentsWithAggregation:{currentPage:[8],data:[94],isFirstPage:[9],isLastPage:[9],nextPage:[8],pageCount:[8],previousPage:[8],totalCount:[8],__typename:[3]},DeploymentsWithNestedAggregation:{currentPage:[8],data:[94],isFirstPage:[9],isLastPage:[9],nextPage:[8],pageCount:[8],previousPage:[8],totalCount:[8],__typename:[3]},DisableTwoFactorProtectedActionWhereInput:{id:[1],__typename:[3]},DnsConfig:{createdAt:[73],id:[1],name:[3],type:[105],updatedAt:[73],value:[3],__typename:[3]},DnsConfigType:{},DnslinkStatus:{},Domain:{createdAt:[73],dnsConfigs:[104],dnslinkStatus:[106],errorMessage:[3],hostname:[3],id:[1],isVerified:[9],project:[241],status:[110],updatedAt:[73],zone:[351],__typename:[3]},DomainAvailabilityWhereInput:{hostname:[3],__typename:[3]},DomainByHostnameWhereInput:{hostname:[3],__typename:[3]},DomainStatus:{},DomainWhereInput:{id:[1],__typename:[3]},DomainsByZoneIdPaginationInput:{match:[3],page:[8],take:[8],__typename:[3]},DomainsByZoneIdWhereInput:{zoneId:[1],__typename:[3]},DomainsByZoneIdWithAggregation:{currentPage:[8],data:[107],isFirstPage:[9],isLastPage:[9],nextPage:[8],pageCount:[8],previousPage:[8],totalCount:[8],__typename:[3]},DomainsPaginationInput:{match:[3],page:[8],take:[8],__typename:[3]},DomainsWithAggregation:{currentPage:[8],data:[107],isFirstPage:[9],isLastPage:[9],nextPage:[8],pageCount:[8],previousPage:[8],totalCount:[8],__typename:[3]},DomainsWithNestedAggregation:{currentPage:[8],data:[107],isFirstPage:[9],isLastPage:[9],nextPage:[8],pageCount:[8],previousPage:[8],totalCount:[8],__typename:[3]},EmailAvailabilityWhereInput:{email:[3],__typename:[3]},EnableTwoFactorProtectedActionWhereInput:{id:[1],__typename:[3]},EnsNameAvailabilityWhereInput:{name:[3],siteId:[3],__typename:[3]},EnsRecord:{createdAt:[73],id:[1],ipnsRecord:[178],name:[3],site:[272],status:[123],updatedAt:[73],__typename:[3]},EnsRecordByNameWhereInput:{name:[3],__typename:[3]},EnsRecordStatus:{},EnsRecordWhereInput:{id:[1],__typename:[3]},EnsRecordsByIpnsIdPaginationInput:{match:[3],page:[8],take:[8],__typename:[3]},EnsRecordsByIpnsIdWhereInput:{ipnsRecordId:[1],__typename:[3]},EnsRecordsByIpnsIdWithAggregation:{currentPage:[8],data:[121],isFirstPage:[9],isLastPage:[9],nextPage:[8],pageCount:[8],previousPage:[8],totalCount:[8],__typename:[3]},EnsRecordsPaginationInput:{match:[3],page:[8],take:[8],__typename:[3]},EnsRecordsWithAggregation:{currentPage:[8],data:[121],isFirstPage:[9],isLastPage:[9],nextPage:[8],pageCount:[8],previousPage:[8],totalCount:[8],__typename:[3]},EnsRecordsWithNestedAggregation:{currentPage:[8],data:[121],isFirstPage:[9],isLastPage:[9],nextPage:[8],pageCount:[8],previousPage:[8],totalCount:[8],__typename:[3]},File:{},FilecoinDeal:{activation:[73],cid:[3],created:[73],dataModelSelector:[3],dealId:[8],expiration:[73],pieceCid:[3],status:[3],storageProvider:[3],updated:[73],__typename:[3]},FilecoinDealsPaginationInput:{match:[3],page:[8],sortField:[358],sortOrder:[291],take:[8],__typename:[3]},FilecoinDealsWhereInput:{cid:[39],__typename:[3]},FilecoinDealsWithAggregation:{currentPage:[8],data:[132],isFirstPage:[9],isLastPage:[9],nextPage:[8],pageCount:[8],previousPage:[8],totalCount:[8],__typename:[3]},FilecoinDealsWithNestedAggregation:{currentPage:[8],data:[132],isFirstPage:[9],isLastPage:[9],nextPage:[8],pageCount:[8],previousPage:[8],totalCount:[8],__typename:[3]},FilecoinPin:{cid:[3],deals:[132],dealsPaginated:[136,{filter:[218]}],__typename:[3]},FleekFunction:{createdAt:[73],currentDeployment:[140],currentDeploymentId:[3],deployments:[140],id:[1],invokeUrl:[3],name:[3],projectId:[3],site:[272],siteId:[3],slug:[3],status:[145],updatedAt:[73],__typename:[3]},FleekFunctionByNameWhereInput:{name:[3],__typename:[3]},FleekFunctionDeployment:{assetsCid:[3],blake3Hash:[3],cid:[3],createdAt:[73],fleekFunctionId:[3],id:[1],projectId:[3],sgx:[9],siteDeploymentId:[3],updatedAt:[73],__typename:[3]},FleekFunctionDeploymentWhereInput:{id:[1],__typename:[3]},FleekFunctionDeploymentsPaginationInput:{match:[3],page:[8],take:[8],__typename:[3]},FleekFunctionDeploymentsWhereInput:{fleekFunctionId:[1],__typename:[3]},FleekFunctionDeploymentsWithAggregation:{currentPage:[8],data:[140],isFirstPage:[9],isLastPage:[9],nextPage:[8],pageCount:[8],previousPage:[8],totalCount:[8],__typename:[3]},FleekFunctionStatus:{},FleekFunctionsPaginationInput:{match:[3],page:[8],sortField:[359],sortOrder:[291],take:[8],__typename:[3]},FleekFunctionsWhereInput:{siteId:[1],__typename:[3]},FleekFunctionsWithAggregation:{currentPage:[8],data:[138],isFirstPage:[9],isLastPage:[9],nextPage:[8],pageCount:[8],previousPage:[8],totalCount:[8],__typename:[3]},Folder:{createdAt:[73],folderCount:[8],id:[1],name:[3],path:[3],pinCount:[8],sizeBigInt:[14],updatedAt:[73],__typename:[3]},FolderNameAvailabilityInParentFolderDataInput:{name:[3],__typename:[3]},FolderNameAvailabilityInParentFolderWhereInput:{parentFolderId:[1],__typename:[3]},FolderOrPin:{on_Folder:[149],on_Pin:[225],__typename:[3]},FolderWhereInput:{id:[1],path:[1],__typename:[3]},GenerateRecoveryCodesWhereInput:{secretKeyId:[1],__typename:[3]},GitApiBranch:{name:[3],__typename:[3]},GitApiBranchesWhereInput:{gitProviderId:[1],sourceRepositoryName:[3],sourceRepositoryOwner:[3],__typename:[3]},GitApiInsatallation:{avatar:[3],installationId:[8],isOrganization:[9],name:[3],repos:[160],__typename:[3]},GitApiInstallationsWhereInput:{gitProviderId:[1],__typename:[3]},GitApiIsRepoNameAvailableWhereInput:{gitProviderId:[1],owner:[3],repo:[3],__typename:[3]},GitApiRepo:{defaultBranch:[3],id:[8],installationId:[8],name:[3],__typename:[3]},GitApiTree:{mode:[3],path:[3],sha:[3],size:[8],type:[3],url:[3],__typename:[3]},GitApiTreeWhereInput:{gitProviderId:[1],sourceBranch:[3],sourceRepositoryName:[3],sourceRepositoryOwner:[3],__typename:[3]},GitIntegration:{createdAt:[73],gitProvider:[165],githubAppInstallation:[169],id:[1],projectId:[3],updatedAt:[73],__typename:[3]},GitIntegrationWhereInput:{gitProviderId:[1],__typename:[3]},GitProvider:{createdAt:[73],enabled:[9],gitUserAccessTokens:[168],id:[1],name:[3],sourceProvider:[292],tags:[183],updatedAt:[73],__typename:[3]},GitProviderTags:{},GitProviderWhereInput:{tag:[166],__typename:[3]},GitUserAccessToken:{createdAt:[73],gitProviderId:[3],id:[1],token:[3],updatedAt:[73],__typename:[3]},GithubAppInstallation:{createdAt:[73],id:[1],installationId:[3],projectId:[3],updatedAt:[73],__typename:[3]},GithubAppInstallationsWhereInput:{gitProviderId:[1],__typename:[3]},GithubRepo:{defaultBranch:[3],isPrivate:[9],name:[3],repositoryId:[8],url:[3],__typename:[3]},Invitation:{createdAt:[73],createdBy:[341],email:[3],id:[1],permissionGroup:[219],role:[261],__typename:[3]},InvitationDetail:{hash:[3],permissionGroup:[219],projectAvatar:[131],projectId:[3],projectName:[3],role:[261],__typename:[3]},InvitationDetailsWithNestedAggregation:{currentPage:[8],data:[173],isFirstPage:[9],isLastPage:[9],nextPage:[8],pageCount:[8],previousPage:[8],totalCount:[8],__typename:[3]},InvitationWhereInput:{hash:[3],__typename:[3]},InvitationsPaginationInput:{match:[3],page:[8],sortField:[360],sortOrder:[291],take:[8],__typename:[3]},InvitationsWithAggregation:{currentPage:[8],data:[172],isFirstPage:[9],isLastPage:[9],nextPage:[8],pageCount:[8],previousPage:[8],totalCount:[8],__typename:[3]},IpnsRecord:{createdAt:[73],ensRecords:[121],ensRecordsPaginated:[130,{filter:[218]}],hash:[3],id:[1],name:[3],updatedAt:[73],__typename:[3]},IpnsRecordWhereInput:{name:[3],__typename:[3]},IpnsRecordsPaginationInput:{match:[3],page:[8],take:[8],__typename:[3]},IpnsRecordsWithAggregation:{currentPage:[8],data:[178],isFirstPage:[9],isLastPage:[9],nextPage:[8],pageCount:[8],previousPage:[8],totalCount:[8],__typename:[3]},IpnsRecordsWithNestedAggregation:{currentPage:[8],data:[178],isFirstPage:[9],isLastPage:[9],nextPage:[8],pageCount:[8],previousPage:[8],totalCount:[8],__typename:[3]},JSON:{},LeaveProjectWhereInput:{projectId:[1],__typename:[3]},LinkPublicKeyDataInput:{message:[3],signature:[3],__typename:[3]},ListDeploymentBranchesWhereInput:{deploymentMode:[95],endDate:[73],siteId:[1],startDate:[73],statuses:[96],__typename:[3]},ListFolderPaginationInput:{match:[3],page:[8],sortField:[361],sortOrder:[291],take:[8],__typename:[3]},ListFolderWhereInput:{id:[1],__typename:[3]},ListFolderWithAggregation:{currentPage:[8],data:[152],isFirstPage:[9],isLastPage:[9],nextPage:[8],pageCount:[8],previousPage:[8],totalCount:[8],__typename:[3]},LoginWithAdminAccessTokenDataInput:{adminAccessToken:[3],__typename:[3]},LoginWithDynamicDataInput:{authToken:[3],projectId:[1],__typename:[3]},LoginWithPersonalAccessTokenDataInput:{personalAccessToken:[3],projectId:[1],__typename:[3]},MarkNotificationsAsReadWhereInput:{ids:[1],__typename:[3]},Membership:{createdAt:[73],id:[1],permissionGroup:[219],role:[261],updatedAt:[73],user:[341],__typename:[3]},MembershipsWithNestedAggregation:{currentPage:[8],data:[194],isFirstPage:[9],isLastPage:[9],nextPage:[8],pageCount:[8],previousPage:[8],totalCount:[8],__typename:[3]},MigrationFailedEntity:{id:[1],name:[3],type:[197],__typename:[3]},MigrationFailedEntityType:{},MigrationLog:{createdAt:[73],id:[1],text:[3],__typename:[3]},MigrationLogsWithNestedAggregation:{currentPage:[8],data:[198],isFirstPage:[9],isLastPage:[9],nextPage:[8],pageCount:[8],previousPage:[8],totalCount:[8],__typename:[3]},MigrationRequest:{createdAt:[73],failedEntities:[196],id:[1],logs:[199,{filter:[218]}],status:[207],teamId:[3],teamInfo:[209],updatedAt:[73],__typename:[3]},MigrationRequestWhereInput:{id:[1],__typename:[3]},MigrationRequestsByTokenWhereInput:{token:[3],__typename:[3]},MigrationRequestsPaginationInput:{match:[3],page:[8],sortField:[362],sortOrder:[291],take:[8],__typename:[3]},MigrationRequestsWithAggregation:{currentPage:[8],data:[200],isFirstPage:[9],isLastPage:[9],nextPage:[8],pageCount:[8],previousPage:[8],totalCount:[8],__typename:[3]},MigrationScheduledRequest:{status:[207],teamId:[3],triggerAfter:[73],__typename:[3]},MigrationScheduledRequestWhereInput:{teamId:[3],__typename:[3]},MigrationStatus:{},MigrationStatusByTeamIdWhereInput:{teamId:[3],__typename:[3]},MigrationTeamInfo:{filesCount:[8],id:[1],name:[3],sitesCount:[8],usersCount:[8],__typename:[3]},MigrationTeamInfosFromTokenWhereInput:{token:[3],__typename:[3]},Mutation:{acceptInvitation:[194,{where:[0,"AcceptInvitationWhereInput!"]}],createApplication:[2,{data:[40,"CreateApplicationDataInput!"]}],createBillingCycleUsage:[17,{data:[41,"CreateBillingCycleUsageDataInput!"]}],createBillingPlan:[21,{data:[42,"CreateBillingPlanDataInput!"]}],createCustomIpfsDeployment:[94,{data:[43,"CreateCustomIpfsDeploymentDataInput!"]}],createDnsConfig:[104,{data:[44,"CreateDnsConfigDataInput!"],where:[45,"CreateDnsConfigWhereInput!"]}],createDomain:[107,{data:[46,"CreateDomainDataInput!"],where:[47,"CreateDomainWhereInput!"]}],createEnsRecord:[121,{data:[48,"CreateEnsRecordDataInput!"],where:[49,"CreateEnsRecordWhereInput!"]}],createFleekFunction:[138,{data:[50,"CreateFleekFunctionDataInput!"]}],createFolder:[149,{data:[51,"CreateFolderDataInput!"],where:[52,"CreateFolderWhereInput!"]}],createGithubAppAuthorizationUrl:[3,{where:[53,"CreateGithubAppAuthorizationUrlWhereInput!"]}],createGithubAppInstallationUrl:[3,{where:[54,"CreateGithubAppInstallationUrlWhereInput!"]}],createGithubIntegrationForProject:[9,{data:[55,"CreateGithubIntegrationForProjectDataInput!"]}],createGithubRepoFromTemplate:[171,{data:[56,"CreateGithubRepoFromTemplateDataInput!"],where:[57,"CreateGithubRepoFromTemplateWhereInput!"]}],createInvitation:[3,{data:[58,"CreateInvitationDataInput!"]}],createIpnsRecord:[178],createIpnsRecordForSite:[178,{where:[59,"CreateIpnsRecordForSiteWhereInput!"]}],createLoginVerificationSession:[9,{where:[60,"CreateLoginVerificationSessionWhereInput!"]}],createMigrationRequestsFromToken:[200,{data:[61,"CreateMigrationRequestsFromTokenDataInput!"]}],createMigrationToken:[3,{data:[62,"CreateMigrationTokenDataInput!"]}],createPersonalAccessTokenFromVerificationSession:[3,{data:[63,"CreatePersonalAccessTokenFromVerificationSessionDataInput!"],where:[64,"CreatePersonalAccessTokenFromVerificationSessionWhereInput!"]}],createPrivateGateway:[235,{data:[65,"CreatePrivateGatewayDataInput!"],where:[66,"CreatePrivateGatewayWhereInput!"]}],createProject:[241,{data:[67,"CreateProjectDataInput!"]}],createPublicKeyChallenge:[3],createSalesContactRequest:[262,{data:[68,"CreateSalesContactRequestDataInput!"]}],createSecret:[263,{data:[69,"CreateSecretDataInput!"]}],createSite:[272,{data:[70,"CreateSiteDataInput!"]}],createTemplate:[296,{data:[71,"CreateTemplateDataInput!"]}],createZoneForPrivateGateway:[351],createZoneForSite:[351,{where:[72,"CreateZoneForSiteWhereInput!"]}],declineInvitation:[9,{where:[74,"DeclineInvitationWhereInput!"]}],deleteApplication:[2,{where:[75,"DeleteApplicationWhereInput!"]}],deleteDomain:[107,{where:[76,"DeleteDomainWhereInput!"]}],deleteEnsRecord:[121,{where:[77,"DeleteEnsRecordWhereInput!"]}],deleteFleekFunction:[138,{where:[78,"DeleteFleekFunctionWhereInput!"]}],deleteFolder:[149,{where:[79,"DeleteFolderWhereInput!"]}],deleteInvitation:[172,{where:[80,"DeleteInvitationWhereInput!"]}],deleteIpnsRecord:[178,{where:[81,"DeleteIpnsRecordWhereInput!"]}],deleteMembership:[194,{where:[82,"DeleteMembershipWhereInput!"]}],deletePersonalAccessToken:[222,{where:[83,"DeletePersonalAccessTokenWhereInput!"]}],deletePin:[225,{where:[84,"DeletePinWhereInput!"]}],deletePrivateGateway:[235,{where:[85,"DeletePrivateGatewayWhereInput!"]}],deleteProject:[241,{where:[86,"DeleteProjectWhereInput!"]}],deleteRecoveryCodes:[9,{where:[87,"DeleteRecoveryCodesWhereInput!"]}],deleteSecret:[263,{where:[89,"DeleteSecretWhereInput!"]}],deleteSecretKey:[9,{where:[88,"DeleteSecretKeyWhereInput!"]}],deleteSite:[272,{where:[90,"DeleteSiteWhereInput!"]}],deleteTemplate:[296,{where:[91,"DeleteTemplateWhereInput!"]}],deleteUser:[341,{where:[92,"DeleteUserWhereInput!"]}],deleteZone:[351,{where:[93,"DeleteZoneWhereInput!"]}],disableTwoFactorProtectedAction:[9,{where:[103,"DisableTwoFactorProtectedActionWhereInput!"]}],enableTwoFactorProtectedAction:[9,{where:[119,"EnableTwoFactorProtectedActionWhereInput!"]}],generateRecoveryCodes:[255,{where:[154,"GenerateRecoveryCodesWhereInput!"]}],generateTwoFactorSecretKey:[266],leaveProject:[194,{where:[184,"LeaveProjectWhereInput!"]}],linkPublicKey:[247,{data:[185,"LinkPublicKeyDataInput!"]}],loginWithAdminAccessToken:[3,{data:[190,"LoginWithAdminAccessTokenDataInput!"]}],loginWithDynamic:[3,{data:[191,"LoginWithDynamicDataInput!"]}],loginWithPersonalAccessToken:[3,{data:[192,"LoginWithPersonalAccessTokenDataInput!"]}],markNotificationsAsRead:[9,{where:[193,"MarkNotificationsAsReadWhereInput!"]}],promoteDeployment:[9,{where:[246,"PromoteDeploymentWhereInput!"]}],publishIpnsRecord:[178,{data:[249,"PublishIpnsRecordDataInput!"],where:[250,"PublishIpnsRecordWhereInput!"]}],publishSignedIpnsName:[3,{data:[251,"PublishSignedIpnsNameDataInput!"]}],purgeSiteCache:[272,{where:[252,"PurgeSiteCacheWhereInput!"]}],retryDeployment:[94,{where:[258,"RetryDeploymentWhereInput!"]}],retryMigrationRequest:[200,{data:[259,"RetryMigrationRequestDataInput!"],where:[260,"RetryMigrationRequestWhereInput!"]}],selectPrimaryDomain:[107,{where:[271,"SelectPrimaryDomainWhereInput!"]}],siteDeploymentRequirements:[276,{where:[277,"SiteDeploymentRequirementsWhereInput!"]}],stopDeployment:[9,{where:[293,"StopDeploymentWhereInput!"]}],triggerDeployment:[94,{where:[308,"TriggerDeploymentWhereInput!"]}],triggerFleekFunctionDeployment:[140,{data:[309],where:[310,"TriggerFleekFunctionDeploymentWhereInput!"]}],updateApplication:[2,{data:[315,"UpdateApplicationDataInput!"],where:[316,"UpdateApplicationWhereInput!"]}],updateBillingPlan:[21,{data:[317,"UpdateBillingPlanDataInput!"],where:[318,"UpdateBillingPlanWhereInput!"]}],updateFleekFunction:[138,{data:[319,"UpdateFleekFunctionDataInput!"],where:[320,"UpdateFleekFunctionWhereInput!"]}],updateFolder:[149,{data:[321,"UpdateFolderDataInput!"],where:[322,"UpdateFolderWhereInput!"]}],updateMembership:[194,{data:[323,"UpdateMembershipDataInput!"],where:[324,"UpdateMembershipWhereInput!"]}],updateNotificationSettings:[9,{data:[325,"UpdateNotificationSettingsDataInput!"]}],updatePin:[225,{data:[326,"UpdatePinDataInput!"],where:[327,"UpdatePinWhereInput!"]}],updatePrivateGateway:[235,{data:[328,"UpdatePrivateGatewayDataInput!"],where:[329,"UpdatePrivateGatewayWhereInput!"]}],updateProject:[241,{data:[330,"UpdateProjectDataInput!"],where:[331,"UpdateProjectWhereInput!"]}],updateSecret:[263,{data:[332,"UpdateSecretDataInput!"],where:[333,"UpdateSecretWhereInput!"]}],updateSite:[272,{data:[334,"UpdateSiteDataInput!"],where:[335,"UpdateSiteWhereInput!"]}],updateTemplate:[296,{data:[336,"UpdateTemplateDataInput!"],where:[337,"UpdateTemplateWhereInput!"]}],updateTwoFactorSecretKey:[266,{data:[338,"UpdateTwoFactorSecretKeyDataInput!"],where:[339,"UpdateTwoFactorSecretKeyWhereInput!"]}],updateUser:[341,{data:[340,"UpdateUserDataInput!"]}],verifyDnslink:[107,{where:[344,"VerifyDnslinkWhereInput!"]}],verifyDomain:[107,{data:[345],where:[346,"VerifyDomainWhereInput!"]}],verifyEnsRecord:[121,{where:[347,"VerifyEnsRecordWhereInput!"]}],verifyTwoFactorSecretKey:[266,{data:[348,"VerifyTwoFactorSecretKeyDataInput!"],where:[349,"VerifyTwoFactorSecretKeyWhereInput!"]}],__typename:[3]},Notification:{content:[3],createdAt:[73],data:[183],id:[1],isRead:[9],title:[3],type:[215],updatedAt:[73],__typename:[3]},NotificationChannel:{},NotificationSettings:{isEnabled:[9],notificationChannel:[213],notificationType:[215],__typename:[3]},NotificationType:{},NotificationsPaginationInput:{match:[3],page:[8],take:[8],__typename:[3]},NotificationsWithAggregation:{currentPage:[8],data:[212],isFirstPage:[9],isLastPage:[9],nextPage:[8],pageCount:[8],previousPage:[8],totalCount:[8],__typename:[3]},PaginationInput:{page:[8],take:[8],__typename:[3]},PermissionGroup:{createdAt:[73],description:[3],id:[1],name:[3],permissions:[3],systemRole:[261],updatedAt:[73],__typename:[3]},PermissionGroupsPaginationInput:{match:[3],page:[8],take:[8],__typename:[3]},PermissionGroupsWithAggregation:{currentPage:[8],data:[219],isFirstPage:[9],isLastPage:[9],nextPage:[8],pageCount:[8],previousPage:[8],totalCount:[8],__typename:[3]},PersonalAccessToken:{createdAt:[73],id:[1],maskedToken:[3],name:[3],updatedAt:[73],__typename:[3]},PersonalAccessTokensPaginationInput:{match:[3],page:[8],sortField:[363],sortOrder:[291],take:[8],__typename:[3]},PersonalAccessTokensWithAggregation:{currentPage:[8],data:[222],isFirstPage:[9],isLastPage:[9],nextPage:[8],pageCount:[8],previousPage:[8],totalCount:[8],__typename:[3]},Pin:{arweavePin:[13],cid:[1],createdAt:[73],deployments:[94],deploymentsPaginated:[102,{filter:[218]}],extension:[3],filecoinPin:[137],filename:[3],id:[1],pathInFolder:[3],projectId:[3],size:[8],sizeBigInt:[14],storedOnArweave:[9],storedOnFilecoin:[9],storedOnS3:[9],__typename:[3]},PinNameAvailabilityInParentFolderDataInput:{extension:[3],filename:[3],__typename:[3]},PinNameAvailabilityInParentFolderWhereInput:{parentFolderId:[1],__typename:[3]},PinWhereInput:{cid:[39],__typename:[3]},PinsByFilenamePaginationInput:{match:[3],page:[8],sortField:[364],sortOrder:[291],take:[8],__typename:[3]},PinsByFilenameWhereInput:{extension:[3],filename:[3],__typename:[3]},PinsByFilenameWithAggregation:{currentPage:[8],data:[225],isFirstPage:[9],isLastPage:[9],nextPage:[8],pageCount:[8],previousPage:[8],totalCount:[8],__typename:[3]},PinsPaginationInput:{match:[3],page:[8],sortField:[365],sortOrder:[291],take:[8],__typename:[3]},PinsWhereInput:{storedOnArweave:[9],storedOnFilecoin:[9],__typename:[3]},PinsWithAggregation:{currentPage:[8],data:[225],isFirstPage:[9],isLastPage:[9],nextPage:[8],pageCount:[8],previousPage:[8],totalCount:[8],__typename:[3]},PrivateGateway:{createdAt:[73],domains:[107],domainsPaginated:[117,{filter:[218]}],id:[1],name:[3],primaryDomain:[107],project:[241],slug:[3],updatedAt:[73],zone:[351],__typename:[3]},PrivateGatewayBySlugWhereInput:{slug:[3],__typename:[3]},PrivateGatewayNameAvailabilityWhereInput:{name:[3],__typename:[3]},PrivateGatewayWhereInput:{id:[1],__typename:[3]},PrivateGatewaysPaginationInput:{match:[3],page:[8],take:[8],__typename:[3]},PrivateGatewaysWithAggregation:{currentPage:[8],data:[235],isFirstPage:[9],isLastPage:[9],nextPage:[8],pageCount:[8],previousPage:[8],totalCount:[8],__typename:[3]},Project:{allowAccessFromOfacCountries:[9],avatar:[131],backupStorageOnArweave:[9],backupStorageOnFilecoin:[9],createdAt:[73],currentUserMembership:[194],id:[1],memberships:[194],membershipsPaginated:[195,{filter:[218]}],name:[3],updatedAt:[73],__typename:[3]},ProjectQuota:{filesUploadedPerDay:[257],maxFleekFunctions:[257],maxSites:[257],totalSizeUploadedPerDay:[257],__typename:[3]},ProjectWhereInput:{id:[1],__typename:[3]},ProjectsPaginationInput:{match:[3],page:[8],sortField:[366],sortOrder:[291],take:[8],__typename:[3]},ProjectsWithAggregation:{currentPage:[8],data:[241],isFirstPage:[9],isLastPage:[9],nextPage:[8],pageCount:[8],previousPage:[8],totalCount:[8],__typename:[3]},PromoteDeploymentWhereInput:{deploymentId:[1],__typename:[3]},PublicKey:{createdAt:[73],id:[1],publicKey:[3],type:[3],updatedAt:[73],user:[341],__typename:[3]},PublicKeysWithNestedAggregation:{currentPage:[8],data:[247],isFirstPage:[9],isLastPage:[9],nextPage:[8],pageCount:[8],previousPage:[8],totalCount:[8],__typename:[3]},PublishIpnsRecordDataInput:{hash:[3],__typename:[3]},PublishIpnsRecordWhereInput:{id:[1],__typename:[3]},PublishSignedIpnsNameDataInput:{input:[3],key:[3],__typename:[3]},PurgeSiteCacheWhereInput:{id:[1],__typename:[3]},Query:{application:[2,{where:[5,"ApplicationWhereInput!"]}],applicationNameAvailability:[9,{where:[4,"ApplicationNameAvailabilityWhereInput!"]}],applications:[12,{filter:[11]}],billingCycleUsages:[20,{filter:[19]}],billingPlan:[21,{where:[31,"BillingPlanWhereInput!"]}],billingPlans:[33,{filter:[32]}],deployment:[94,{where:[97,"DeploymentWhereInput!"]}],deployments:[101,{filter:[98],where:[100,"DeploymentsWhereInput!"]}],deploymentsQueueLimit:[9,{where:[99,"DeploymentsQueueLimitWhereInput!"]}],domain:[107,{where:[111,"DomainWhereInput!"]}],domainAvailability:[9,{where:[108,"DomainAvailabilityWhereInput!"]}],domainByHostname:[107,{where:[109,"DomainByHostnameWhereInput!"]}],domains:[116,{filter:[115]}],domainsByZoneId:[114,{filter:[112],where:[113,"DomainsByZoneIdWhereInput!"]}],emailAvailability:[9,{where:[118,"EmailAvailabilityWhereInput!"]}],ensNameAvailability:[9,{where:[120,"EnsNameAvailabilityWhereInput!"]}],ensRecord:[121,{where:[124,"EnsRecordWhereInput!"]}],ensRecordByName:[121,{where:[122,"EnsRecordByNameWhereInput!"]}],ensRecords:[129,{filter:[128]}],ensRecordsByIpnsId:[127,{filter:[125],where:[126,"EnsRecordsByIpnsIdWhereInput!"]}],filecoinDeals:[135,{filter:[133],where:[134,"FilecoinDealsWhereInput!"]}],fleekFunctionByName:[138,{where:[139,"FleekFunctionByNameWhereInput!"]}],fleekFunctionDeployment:[140,{where:[141,"FleekFunctionDeploymentWhereInput!"]}],fleekFunctionDeployments:[144,{filter:[142],where:[143,"FleekFunctionDeploymentsWhereInput!"]}],fleekFunctions:[148,{filter:[146],where:[147]}],folder:[149,{where:[153,"FolderWhereInput!"]}],folderNameAvailabilityInParentFolder:[9,{data:[150,"FolderNameAvailabilityInParentFolderDataInput!"],where:[151,"FolderNameAvailabilityInParentFolderWhereInput!"]}],gitApiBranches:[155,{where:[156,"GitApiBranchesWhereInput!"]}],gitApiInstallations:[157,{where:[158,"GitApiInstallationsWhereInput!"]}],gitApiIsRepoNameAvailable:[9,{where:[159,"GitApiIsRepoNameAvailableWhereInput!"]}],gitApiTree:[161,{where:[162,"GitApiTreeWhereInput!"]}],gitIntegration:[163,{where:[164,"GitIntegrationWhereInput!"]}],gitProvider:[165,{where:[167,"GitProviderWhereInput!"]}],gitProviders:[165],githubAppInstallations:[169,{where:[170,"GithubAppInstallationsWhereInput!"]}],invitation:[173,{where:[175,"InvitationWhereInput!"]}],invitations:[177,{filter:[176]}],ipnsRecord:[178,{where:[179,"IpnsRecordWhereInput!"]}],ipnsRecords:[181,{filter:[180]}],listDeploymentBranches:[3,{where:[186,"ListDeploymentBranchesWhereInput!"]}],listFolder:[189,{filter:[187],where:[188,"ListFolderWhereInput!"]}],migrationRequest:[200,{where:[201,"MigrationRequestWhereInput!"]}],migrationRequests:[204,{filter:[203]}],migrationRequestsByToken:[200,{where:[202,"MigrationRequestsByTokenWhereInput!"]}],migrationScheduledRequest:[205,{where:[206,"MigrationScheduledRequestWhereInput!"]}],migrationStatusByTeamId:[207,{where:[208,"MigrationStatusByTeamIdWhereInput!"]}],migrationTeamInfosFromToken:[209,{where:[210,"MigrationTeamInfosFromTokenWhereInput!"]}],notificationSettings:[214],notifications:[217,{filter:[216]}],permissionGroups:[221,{filter:[220]}],personalAccessTokens:[224,{filter:[223]}],pin:[225,{where:[228,"PinWhereInput!"]}],pinNameAvailabilityInParentFolder:[9,{data:[226,"PinNameAvailabilityInParentFolderDataInput!"],where:[227,"PinNameAvailabilityInParentFolderWhereInput!"]}],pins:[234,{filter:[232],where:[233]}],pinsByFilename:[231,{filter:[229],where:[230,"PinsByFilenameWhereInput!"]}],privateGateway:[235,{where:[238,"PrivateGatewayWhereInput!"]}],privateGatewayBySlug:[235,{where:[236,"PrivateGatewayBySlugWhereInput!"]}],privateGatewayNameAvailability:[9,{where:[237,"PrivateGatewayNameAvailabilityWhereInput!"]}],privateGateways:[240,{filter:[239]}],project:[241,{where:[243,"ProjectWhereInput!"]}],projectQuota:[242],projects:[245,{filter:[244]}],resolveIpnsName:[3,{where:[256,"ResolveIpnsNameWhereInput!"]}],secretAvailability:[9,{where:[264,"SecretAvailabilityWhereInput!"]}],site:[272,{where:[284,"SiteWhereInput!"]}],siteBuildSettings:[273,{where:[274,"SiteBuildSettingsWhereInput!"]}],siteBySlug:[272,{where:[275,"SiteBySlugWhereInput!"]}],siteFramework:[278,{where:[280,"SiteFrameworkWhereInput!"]}],siteFrameworks:[278],siteNameAvailability:[9,{where:[281,"SiteNameAvailabilityWhereInput!"]}],siteQuota:[282,{where:[283,"SiteQuotaWhereInput!"]}],sites:[289,{filter:[287],where:[288,"SitesWhereInput!"]}],slugAvailability:[9,{where:[290,"SlugAvailabilityWhereInput!"]}],template:[296,{where:[303,"TemplateWhereInput!"]}],templateCategories:[298,{filter:[297]}],templateCategory:[299,{where:[300,"TemplateCategoryWhereInput!"]}],templateNameAvailability:[9,{where:[301,"TemplateNameAvailabilityWhereInput!"]}],templates:[306,{filter:[304],where:[305,"TemplatesWhereInput!"]}],twoFactorProtectedActions:[314,{filter:[313]}],user:[341],userQuota:[342],usernameAvailability:[9,{where:[343,"UsernameAvailabilityWhereInput!"]}],version:[350],zone:[351,{where:[354,"ZoneWhereInput!"]}],zones:[356,{filter:[355]}],__typename:[3]},RecoveryCode:{code:[3],createdAt:[73],id:[1],isUsed:[9],updatedAt:[73],__typename:[3]},RecoveryCodes:{recoveryCodes:[3],__typename:[3]},ResolveIpnsNameWhereInput:{name:[3],__typename:[3]},ResourceQuota:{remaining:[8],total:[8],__typename:[3]},RetryDeploymentWhereInput:{deploymentId:[1],__typename:[3]},RetryMigrationRequestDataInput:{skipFailedEntities:[9],__typename:[3]},RetryMigrationRequestWhereInput:{id:[1],__typename:[3]},Role:{},SalesContactRequest:{createdAt:[73],description:[3],email:[3],id:[1],updatedAt:[73],__typename:[3]},Secret:{createdAt:[73],id:[1],key:[3],updatedAt:[73],value:[3],visibility:[269],__typename:[3]},SecretAvailabilityWhereInput:{key:[3],siteId:[1],__typename:[3]},SecretGroup:{createdAt:[73],id:[1],name:[3],secrets:[263],secretsPaginated:[270,{filter:[218]}],updatedAt:[73],__typename:[3]},SecretKey:{algorithm:[267],createdAt:[73],digits:[8],id:[1],isActive:[9],isVerified:[9],key:[3],period:[8],recoveryCodes:[254],type:[268],updatedAt:[73],verifiedAt:[73],__typename:[3]},SecretKeyAlgorithm:{},SecretKeyType:{},SecretVisibility:{},SecretsWithNestedAggregation:{currentPage:[8],data:[263],isFirstPage:[9],isLastPage:[9],nextPage:[8],pageCount:[8],previousPage:[8],totalCount:[8],__typename:[3]},SelectPrimaryDomainWhereInput:{id:[1],__typename:[3]},Site:{avatar:[131],baseDirectory:[3],buildCommand:[3],buildDurationLimitSeconds:[8],cpuLimit:[3],currentDeployment:[94],deployments:[94],deploymentsPaginated:[102,{filter:[218]}],distDirectory:[3],dockerImage:[3],domains:[107],domainsPaginated:[117,{filter:[218]}],enablePreviews:[9],framework:[278],gitIntegration:[163],githubInstallationId:[8],id:[1],ipnsRecords:[178],ipnsRecordsPaginated:[182,{filter:[218]}],lastDeployment:[94],memoryLimit:[3],name:[3],primaryDomain:[107],secretGroup:[265],slug:[3],sourceBranch:[3],sourceProvider:[292],sourceRepositoryId:[3],sourceRepositoryName:[3],sourceRepositoryOwner:[3],zones:[285],zonesPaginated:[286,{filter:[218]}],__typename:[3]},SiteBuildSettings:{buildCommand:[3],dockerImage:[3],envVars:[183],frameworkId:[3],publishDirectory:[3],__typename:[3]},SiteBuildSettingsWhereInput:{baseDirectory:[3],gitProviderId:[1],sourceBranch:[3],sourceRepositoryName:[3],sourceRepositoryOwner:[3],__typename:[3]},SiteBySlugWhereInput:{slug:[3],__typename:[3]},SiteDeploymentRequirements:{authorizationUrl:[3],installationUrl:[3],shouldAuthenticate:[9],shouldInstall:[9],__typename:[3]},SiteDeploymentRequirementsWhereInput:{gitProviderId:[1],__typename:[3]},SiteFramework:{avatar:[131],buildScript:[3],createdAt:[73],dockerImage:[3],id:[1],name:[3],publishDirectory:[3],recognitionArgument:[3],recognitionStrategy:[279],slug:[3],templatesCount:[8],updatedAt:[73],__typename:[3]},SiteFrameworkRecognitionStrategy:{},SiteFrameworkWhereInput:{id:[1],__typename:[3]},SiteNameAvailabilityWhereInput:{name:[3],__typename:[3]},SiteQuota:{maxDeploymentQueue:[257],__typename:[3]},SiteQuotaWhereInput:{id:[1],__typename:[3]},SiteWhereInput:{id:[1],__typename:[3]},SiteZone:{createdAt:[73],id:[1],status:[352],updatedAt:[73],__typename:[3]},SiteZonesWithNestedAggregation:{currentPage:[8],data:[285],isFirstPage:[9],isLastPage:[9],nextPage:[8],pageCount:[8],previousPage:[8],totalCount:[8],__typename:[3]},SitesPaginationInput:{match:[3],page:[8],sortField:[367],sortOrder:[291],take:[8],__typename:[3]},SitesWhereInput:{hasSourceProvider:[9],isDeployed:[9],isTemplate:[9],name:[3],__typename:[3]},SitesWithAggregation:{currentPage:[8],data:[272],isFirstPage:[9],isLastPage:[9],nextPage:[8],pageCount:[8],previousPage:[8],totalCount:[8],__typename:[3]},SlugAvailabilityWhereInput:{slug:[3],__typename:[3]},SortOrder:{},SourceProvider:{},StopDeploymentWhereInput:{deploymentId:[1],__typename:[3]},StorageType:{},SubscriptionType:{},Template:{banner:[131],category:[299],createdAt:[73],creator:[341],deployment:[94],description:[3],framework:[278],id:[1],name:[3],reviewComment:[3],reviewStatus:[302],reviewedAt:[73],site:[272],siteAvatar:[131],siteId:[3],siteSlug:[3],updatedAt:[73],usageCount:[8],__typename:[3]},TemplateCategoriesPaginationInput:{match:[3],page:[8],sortField:[368],sortOrder:[291],take:[8],__typename:[3]},TemplateCategoriesWithAggregation:{currentPage:[8],data:[299],isFirstPage:[9],isLastPage:[9],nextPage:[8],pageCount:[8],previousPage:[8],totalCount:[8],__typename:[3]},TemplateCategory:{id:[1],name:[3],slug:[3],templates:[296],templatesCount:[8],templatesPaginated:[307,{filter:[218]}],__typename:[3]},TemplateCategoryWhereInput:{id:[1],__typename:[3]},TemplateNameAvailabilityWhereInput:{name:[3],__typename:[3]},TemplateReviewStatus:{},TemplateWhereInput:{id:[1],__typename:[3]},TemplatesPaginationInput:{match:[3],page:[8],sortField:[369],sortOrder:[291],take:[8],__typename:[3]},TemplatesWhereInput:{categoryId:[1],createdById:[1],frameworkId:[1],name:[3],__typename:[3]},TemplatesWithAggregation:{currentPage:[8],data:[296],isFirstPage:[9],isLastPage:[9],nextPage:[8],pageCount:[8],previousPage:[8],totalCount:[8],__typename:[3]},TemplatesWithNestedAggregation:{currentPage:[8],data:[296],isFirstPage:[9],isLastPage:[9],nextPage:[8],pageCount:[8],previousPage:[8],totalCount:[8],__typename:[3]},TriggerDeploymentWhereInput:{siteId:[1],__typename:[3]},TriggerFleekFunctionDeploymentDataInput:{assetsCid:[3],blake3Hash:[3],sgx:[9],__typename:[3]},TriggerFleekFunctionDeploymentWhereInput:{cid:[3],functionId:[1],__typename:[3]},TwoFactorProtectedAction:{createdAt:[73],enabled:[9],id:[1],name:[3],type:[312],updatedAt:[73],__typename:[3]},TwoFactorProtectedActionType:{},TwoFactorProtectedActionsPaginationInput:{match:[3],page:[8],take:[8],__typename:[3]},TwoFactorProtectedActionsWithAggregation:{currentPage:[8],data:[311],isFirstPage:[9],isLastPage:[9],nextPage:[8],pageCount:[8],previousPage:[8],totalCount:[8],__typename:[3]},UpdateApplicationDataInput:{name:[3],whiteLabelDomains:[3],whitelistDomains:[3],__typename:[3]},UpdateApplicationWhereInput:{id:[1],__typename:[3]},UpdateBillingPlanDataInput:{isActive:[9],price:[18],__typename:[3]},UpdateBillingPlanWhereInput:{id:[1],__typename:[3]},UpdateFleekFunctionDataInput:{name:[3],slug:[3],status:[145],__typename:[3]},UpdateFleekFunctionWhereInput:{id:[3],__typename:[3]},UpdateFolderDataInput:{name:[3],__typename:[3]},UpdateFolderWhereInput:{id:[1],__typename:[3]},UpdateMembershipDataInput:{permissionGroupId:[1],__typename:[3]},UpdateMembershipWhereInput:{id:[1],userId:[1],__typename:[3]},UpdateNotificationSettingsDataInput:{isEnabled:[9],notificationChannel:[213],notificationType:[215],__typename:[3]},UpdatePinDataInput:{filename:[3],moveToRoot:[9],parentFolderId:[1],__typename:[3]},UpdatePinWhereInput:{id:[1],__typename:[3]},UpdatePrivateGatewayDataInput:{name:[3],__typename:[3]},UpdatePrivateGatewayWhereInput:{id:[1],__typename:[3]},UpdateProjectDataInput:{allowAccessFromOfacCountries:[9],avatar:[131],backupStorageOnArweave:[9],backupStorageOnFilecoin:[9],name:[3],planId:[1],__typename:[3]},UpdateProjectWhereInput:{id:[1],__typename:[3]},UpdateSecretDataInput:{value:[3],visibility:[269],__typename:[3]},UpdateSecretWhereInput:{id:[1],__typename:[3]},UpdateSiteDataInput:{avatar:[131],baseDirectory:[3],buildCommand:[3],distDirectory:[3],dockerImage:[3],enablePreviews:[9],frameworkId:[1],githubInstallationId:[8],name:[3],slug:[3],sourceBranch:[3],sourceProvider:[292],sourceRepositoryId:[3],sourceRepositoryName:[3],sourceRepositoryOwner:[3],__typename:[3]},UpdateSiteWhereInput:{id:[1],__typename:[3]},UpdateTemplateDataInput:{banner:[131],description:[3],name:[3],templateCategoryId:[1],__typename:[3]},UpdateTemplateWhereInput:{id:[1],__typename:[3]},UpdateTwoFactorSecretKeyDataInput:{isActive:[9],key:[9],__typename:[3]},UpdateTwoFactorSecretKeyWhereInput:{id:[1],__typename:[3]},UpdateUserDataInput:{avatar:[131],email:[3],firstName:[3],lastName:[3],username:[3],walletAddress:[3],walletChain:[3],__typename:[3]},User:{avatar:[131],createdAt:[73],email:[3],firstName:[3],gitUserAccessTokens:[168],githubUserAccessToken:[3],id:[1],lastName:[3],pendingInvitations:[173],pendingInvitationsPaginated:[174,{filter:[218]}],project:[241],publicKeys:[247],publicKeysPaginated:[248,{filter:[218]}],secretKeys:[266],updatedAt:[73],username:[3],walletAddress:[3],walletChain:[3],__typename:[3]},UserQuota:{maxProjects:[257],__typename:[3]},UsernameAvailabilityWhereInput:{username:[3],__typename:[3]},VerifyDnslinkWhereInput:{domainId:[1],__typename:[3]},VerifyDomainDataInput:{placeholder:[3],__typename:[3]},VerifyDomainWhereInput:{id:[1],__typename:[3]},VerifyEnsRecordWhereInput:{id:[1],__typename:[3]},VerifyTwoFactorSecretKeyDataInput:{token:[3],__typename:[3]},VerifyTwoFactorSecretKeyWhereInput:{secretKeyId:[1],__typename:[3]},Version:{commitHash:[3],__typename:[3]},Zone:{createdAt:[73],id:[1],originUrl:[3],originUrlChangedAt:[73],originUrlChangedBy:[341],project:[241],status:[352],type:[353],updatedAt:[73],__typename:[3]},ZoneStatus:{},ZoneType:{},ZoneWhereInput:{id:[1],__typename:[3]},ZonesPaginationInput:{match:[3],page:[8],take:[8],__typename:[3]},ZonesWithAggregation:{currentPage:[8],data:[351],isFirstPage:[9],isLastPage:[9],nextPage:[8],pageCount:[8],previousPage:[8],totalCount:[8],__typename:[3]},deploymentsSortableFields:{},filecoinDealsSortableFields:{},fleekFunctionsSortableFields:{},invitationsSortableFields:{},listFolderSortableFields:{},migrationRequestsSortableFields:{},personalAccessTokensSortableFields:{},pinsByFilenameSortableFields:{},pinsSortableFields:{},projectsSortableFields:{},sitesSortableFields:{},templateCategoriesSortableFields:{},templatesSortableFields:{}}};var y2=g2(wB),ac=function(e){return m2({url:void 0,...e,queryRoot:y2.Query,mutationRoot:y2.Mutation,subscriptionRoot:y2.Subscription})};var QT=L(it());var sy=class e{constructor(t){this.get=async({id:t})=>(await this.graphqlClient.query({__name:"GetApplication",application:{__args:{where:{id:t}},...e.APPLICATION_MAPPED_PROPERTIES}})).application;this.list=async()=>(await this.graphqlClient.query({__name:"GetApplications",applications:{data:e.APPLICATION_MAPPED_PROPERTIES}})).applications.data;this.create=async({name:t,whitelistDomains:r})=>(await this.graphqlClient.mutation({__name:"CreateApplication",createApplication:{__args:{data:{name:t,whitelistDomains:r,whiteLabelDomains:[...r]}},...e.APPLICATION_MAPPED_PROPERTIES}})).createApplication;this.update=async({id:t,name:r,whitelistDomains:n})=>(await this.graphqlClient.mutation({__name:"UpdateApplication",updateApplication:{__args:{where:{id:t},data:{name:r,whitelistDomains:n,whiteLabelDomains:n?[...n]:[]}},...e.APPLICATION_MAPPED_PROPERTIES}})).updateApplication;this.delete=async({id:t})=>(await this.graphqlClient.mutation({__name:"DeleteApplication",deleteApplication:{__args:{where:{id:t}},...e.APPLICATION_MAPPED_PROPERTIES}})).deleteApplication;this.graphqlClient=t.graphqlClient}static{this.WHITE_LIST_DOMAIN_MAPPED_PROPERTIES={id:!0,hostname:!0}}static{this.APPLICATION_MAPPED_PROPERTIES={id:!0,name:!0,clientId:!0,whitelistDomains:e.WHITE_LIST_DOMAIN_MAPPED_PROPERTIES,whiteLabelDomains:e.WHITE_LIST_DOMAIN_MAPPED_PROPERTIES,updatedAt:!0,createdAt:!0}}};var sc=L(it());var _B={Deployment:{keys:["cid","siteId"],typename:"Deployment"},PrivateGateway:{keys:["primaryDomain","slug"],typename:"PrivateGateway"},Domain:{keys:["id","hostname"],typename:"Domain"},Site:{keys:["id","slug"],typename:"Site"},Pin:{keys:["cid","filename"],typename:"Pin"},FilecoinDeal:{keys:["cid","dealId"],typename:"FilecoinDeal"}},SB=e=>oo({obj:e,typename:"Deployment"}),b2=e=>oo({obj:e,typename:"PrivateGateway"}),EB=e=>e.every(t=>oo({obj:t,typename:"PrivateGateway"})),w2=e=>oo({obj:e,typename:"Domain"}),_2=e=>e.every(t=>oo({obj:t,typename:"Domain"})),ql=e=>oo({obj:e,typename:"Site"}),xB=e=>e.every(t=>oo({obj:t,typename:"Site"})),vB=e=>oo({obj:e,typename:"Pin"}),S2=e=>e.every(t=>oo({obj:t,typename:"Pin"}));var PB=e=>e.every(t=>oo({obj:t,typename:"FilecoinDeal"})),oo=({obj:e,typename:t})=>e?e.__typename===_B?.[t].typename&&_B?.[t].keys.every(r=>r in e):!1;var cy=class e{constructor(t){this.list=async()=>{let t=await this.graphqlClient.query({__name:"GetDomains",domains:{data:{...e.DOMAIN_MAPPED_PROPERTIES},__typename:!0}});if(!_2(t.domains?.data))throw new sc.DomainsNotFoundError;return t.domains.data};this.get=async({domainId:t})=>{let r=await this.graphqlClient.query({__name:"GetDomainById",domain:{__args:{where:{id:t}},...e.DOMAIN_MAPPED_PROPERTIES}});if(!w2(r.domain))throw new sc.DomainNotFoundError({domain:{id:t}});return r.domain};this.getByHostname=async({hostname:t})=>{let r=await this.graphqlClient.query({__name:"GetDomainByHostname",domainByHostname:{__args:{where:{hostname:t}},...e.DOMAIN_MAPPED_PROPERTIES}});if(!w2(r.domainByHostname))throw new sc.DomainNotFoundError({domain:{hostname:t}});return r.domainByHostname};this.listByZoneId=async({zoneId:t})=>{let r=await this.graphqlClient.query({__name:"GetDomainsByZoneId",domainsByZoneId:{__args:{where:{zoneId:t}},data:{...e.DOMAIN_MAPPED_PROPERTIES},__typename:!0}});if(!_2(r.domainsByZoneId?.data))throw new sc.DomainsNotFoundError;return r.domainsByZoneId.data};this.createDomain=async({zoneId:t,hostname:r})=>(await this.graphqlClient.mutation({__name:"CreateDomain",createDomain:{__args:{where:{zoneId:t},data:{hostname:r}},__scalar:!0}})).createDomain;this.deleteDomain=async({domainId:t})=>(await this.graphqlClient.mutation({__name:"DeleteDomain",deleteDomain:{__args:{where:{id:t}},...e.DOMAIN_MAPPED_PROPERTIES}})).deleteDomain;this.verifyDomain=async({domainId:t})=>(await this.graphqlClient.mutation({__name:"VerifyDomain",verifyDomain:{__args:{where:{id:t}},...e.DOMAIN_MAPPED_PROPERTIES}})).verifyDomain;this.listZones=async()=>(await this.graphqlClient.query({__name:"ListZones",zones:{data:e.ZONE_MAPPED_PROPERTIES}})).zones.data;this.getZone=async({id:t})=>(await this.graphqlClient.query({__name:"GetZone",zone:{__args:{where:{id:t}},...e.ZONE_MAPPED_PROPERTIES}})).zone;this.createZoneForSite=async({siteId:t})=>(await this.graphqlClient.mutation({__name:"CreateZoneForSite",createZoneForSite:{__args:{where:{siteId:t}},__scalar:!0}})).createZoneForSite;this.createZoneForPrivateGateway=async()=>(await this.graphqlClient.mutation({__name:"CreateZoneForPrivateGateway",createZoneForPrivateGateway:e.ZONE_MAPPED_PROPERTIES})).createZoneForPrivateGateway;this.deleteZone=async({id:t})=>(await this.graphqlClient.mutation({__name:"DeleteZone",deleteZone:{__args:{where:{id:t}},...e.ZONE_MAPPED_PROPERTIES}})).deleteZone;this.graphqlClient=t.graphqlClient}static{this.DOMAIN_MAPPED_PROPERTIES={id:!0,zone:{id:!0,__typename:!0},hostname:!0,isVerified:!0,updatedAt:!0,createdAt:!0,dnsConfigs:{id:!0,type:!0,name:!0,value:!0,createdAt:!0,updatedAt:!0,__typename:!0},status:!0,__typename:!0}}static{this.ZONE_MAPPED_PROPERTIES={id:!0,originUrl:!0,createdAt:!0,updatedAt:!0,type:!0,status:!0,__typename:!0}}};var uy=class e{constructor(t){this.create=async({name:t,siteId:r,ipnsRecordId:n})=>(await this.graphqlClient.mutation({__name:"CreateEnsRecord",createEnsRecord:{__args:{where:{ipnsRecordId:n,siteId:r},data:{name:t}},...e.ENS_MAPPED_PROPERTIES}})).createEnsRecord;this.get=async({id:t})=>(await this.graphqlClient.query({__name:"GetEnsRecord",ensRecord:{__args:{where:{id:t}},...e.ENS_MAPPED_PROPERTIES}})).ensRecord;this.getByName=async({name:t})=>(await this.graphqlClient.query({__name:"GetEnsRecordByName",ensRecordByName:{__args:{where:{name:t}},...e.ENS_MAPPED_PROPERTIES}})).ensRecordByName;this.verify=async({id:t})=>(await this.graphqlClient.mutation({__name:"VerifyEnsRecord",verifyEnsRecord:{__args:{where:{id:t}},...e.ENS_MAPPED_PROPERTIES}})).verifyEnsRecord;this.delete=async({id:t})=>(await this.graphqlClient.mutation({__name:"DeleteEnsRecord",deleteEnsRecord:{__args:{where:{id:t}},...e.ENS_MAPPED_PROPERTIES}})).deleteEnsRecord;this.list=async()=>(await this.graphqlClient.query({__name:"GetEnsRecords",ensRecords:{data:{...e.ENS_MAPPED_PROPERTIES}}})).ensRecords.data;this.listByIpnsRecordId=async({ipnsRecordId:t})=>(await this.graphqlClient.query({__name:"GetEnsRecordsByIpnsId",ensRecordsByIpnsId:{__args:{where:{ipnsRecordId:t}},data:{...e.ENS_MAPPED_PROPERTIES}}})).ensRecordsByIpnsId.data;this.graphqlClient=t.graphqlClient}static{this.ENS_MAPPED_PROPERTIES={id:!0,name:!0,updatedAt:!0,createdAt:!0,status:!0,site:{id:!0},ipnsRecord:{name:!0,id:!0,hash:!0}}}};var ly=class e{constructor(t){this.get=async({name:t})=>(await this.graphqlClient.query({__name:"GetFleekFunctionByName",fleekFunctionByName:{__args:{where:{name:t}},...e.FleekFunction_MAPPED_PROPERTIES}})).fleekFunctionByName;this.list=async()=>(await this.graphqlClient.query({__name:"GetFleekFunctions",fleekFunctions:{__args:{},data:{...e.FleekFunction_MAPPED_PROPERTIES}}})).fleekFunctions.data;this.listDeployments=async({functionId:t})=>(await this.graphqlClient.query({fleekFunctionDeployments:{__args:{where:{fleekFunctionId:t}},data:{...e.Deployment_MAPPED_PROPERTIES}}})).fleekFunctionDeployments.data;this.create=async({name:t,siteId:r})=>(await this.graphqlClient.mutation({__name:"CreateFleekFunction",createFleekFunction:{__args:{data:{name:t,siteId:r}},...e.FleekFunction_MAPPED_PROPERTIES}})).createFleekFunction;this.deploy=async({functionId:t,cid:r,sgx:n,blake3Hash:o,assetsCid:i})=>(await this.graphqlClient.mutation({triggerFleekFunctionDeployment:{__args:{where:{functionId:t,cid:r},data:{sgx:n,blake3Hash:o,assetsCid:i}},...e.Deployment_MAPPED_PROPERTIES}})).triggerFleekFunctionDeployment;this.delete=async({id:t})=>(await this.graphqlClient.mutation({__name:"DeleteFleekFunction",deleteFleekFunction:{__args:{where:{id:t}},...e.FleekFunction_MAPPED_PROPERTIES}})).deleteFleekFunction;this.update=async({id:t,slug:r,name:n,status:o})=>(await this.graphqlClient.mutation({updateFleekFunction:{__args:{where:{id:t},data:{slug:r,name:n,status:o}},...e.FleekFunction_MAPPED_PROPERTIES}})).updateFleekFunction;this.graphqlClient=t.graphqlClient}static{this.Deployment_MAPPED_PROPERTIES={id:!0,fleekFunctionId:!0,cid:!0,updatedAt:!0,createdAt:!0}}static{this.FleekFunction_MAPPED_PROPERTIES={id:!0,name:!0,slug:!0,invokeUrl:!0,projectId:!0,currentDeploymentId:!0,currentDeployment:{cid:!0},siteId:!0,status:!0}}};var Da=L(it()),J1=require("files-from-path");var DB=L(it());var io=typeof window>"u";var Pi=()=>{if(!io)throw new DB.SdkRequiredNodeRuntimeError};var py=L(it());var AB=async e=>{if(!io)throw new py.SdkRequiredNodeRuntimeError;try{let t=await import("fs"),r=await import("path"),{pipeline:n}=await import("stream"),{promisify:o}=await import("util"),i=o(n);await Promise.all(e.map(async({readStream:a,outputPath:s})=>{let u=r.dirname(s);await t.promises.mkdir(u,{recursive:!0});let c=t.createWriteStream(s);return i(a,c)}))}catch{throw new py.WriteFileFromStreamError}};var V1=class{constructor(t){this.getClient=async()=>{if(!this.client){let{create:t}=await Promise.resolve().then(()=>(mw(),hw));this.client=t({url:this.ipfsStorageApiUrl})}return this.client};this.pinToUploadResult=async(t,r)=>{let{CID:n}=await Promise.resolve().then(()=>(mw(),hw));return{cid:n.parse(t.cid),size:t.size,path:r}};this.add=async t=>{let r=await import("path"),n=t.path?r.basename(t.path):"",o=new Blob([t.content]),{UnixFS:i}=await Promise.resolve().then(()=>(Qs(),ml)),a=()=>i.createFileEncoderStream({stream:()=>o.stream()});try{let{pin:s}=await this.uploadProxyClient.uploadContent({getStream:a,basename:n});return this.pinToUploadResult(s,n)}catch{throw new Da.StorageIpfsUploadFailedError}};this.addAll=async(t,r={})=>{let n=[];try{if(Array.isArray(t)){let o=await Promise.all(t.map(async i=>await this.add(i)));n.push(...o)}else{Pi();let o=[],i=r.basename??"wrapped",{randomBytes:a}=await import("crypto"),s=`wrapped_${a(10).toString("hex")}`,u=`${s}/${i}`,c=await import("path");for await(let m of t)m.content!==void 0&&o.push({readStream:m.content,outputPath:c.join(u,m.path.slice(1))});await AB(o);let l=await(0,J1.filesFromPaths)([u]),{UnixFS:d}=await Promise.resolve().then(()=>(Qs(),ml));if(r.wrapWithDirectory){let m=()=>d.createDirectoryEncoderStream(l),{pin:p}=await this.uploadProxyClient.uploadContent({getStream:m,basename:i}),f=await this.pinToUploadResult(p,i);n.push(f)}else{let m=await Promise.all(l.map(async p=>{let f=()=>d.createDirectoryEncoderStream([p]),{pin:g}=await this.uploadProxyClient.uploadContent({getStream:f,basename:p.name});return this.pinToUploadResult(g,p.name)}));n.push(...m)}let{promises:w}=await import("fs");await w.rm(s,{recursive:!0,force:!0})}return n}catch(o){throw console.log(o),new Da.StorageIpfsUploadFailedError}};this.addFromPath=async(t,r={})=>{Pi();let o=(await import("path")).basename(t),{promises:i}=await import("fs"),a=await i.stat(t),{UnixFS:s}=await Promise.resolve().then(()=>(Qs(),ml));if(!a.isDirectory()){let d=await(0,J1.filesFromPaths)([t]),w=()=>s.createFileEncoderStream(d[0]),{pin:m}=await this.uploadProxyClient.uploadContent({getStream:w,basename:o});return[this.pinToUploadResult(m,o)]}let u=await(0,J1.filesFromPaths)([t]),c=()=>s.createDirectoryEncoderStream(u),{pin:l}=await this.uploadProxyClient.uploadContent({getStream:c,basename:o});return[this.pinToUploadResult(l,o)]};this.addSitesToIpfs=async(t,r={})=>{Pi();let n=await this.accessTokenService.getAccessToken();if(!n)throw new Da.AuthorizationError;try{let o=(await Promise.resolve().then(()=>(mw(),hw))).globSource,a=(await this.getClient()).addAll(o(t,"**/*"),{headers:{Authorization:`Bearer ${n}`},...r,wrapWithDirectory:!0}),s=[];for await(let u of a)s.push(u);return s}catch{throw new Da.StorageIpfsUploadFailedError}};if(!io)throw new Da.SdkRequiredNodeRuntimeError;this.uploadProxyClient=t.uploadProxyClient,this.ipfsStorageApiUrl=t.ipfsStorageApiUrl,this.accessTokenService=t.accessTokenService}};var Z1=class e{constructor(t){this.publishSignedName=async({key:t,input:r})=>(await this.graphqlClient.mutation({__name:"PublishSignedIpnsName",publishSignedIpnsName:{__args:{data:{input:r,key:t}}}})).publishSignedIpnsName;this.resolveName=async({name:t})=>(await this.graphqlClient.query({resolveIpnsName:{__args:{where:{name:t}}}})).resolveIpnsName;this.publishRecord=async({hash:t,id:r})=>(await this.graphqlClient.mutation({__name:"PublishIpnsRecord",publishIpnsRecord:{__args:{where:{id:r},data:{hash:t}},...e.RECORD_MAPPED_PROPERTIES}})).publishIpnsRecord;this.createRecord=async()=>(await this.graphqlClient.mutation({__name:"CreateIpnsRecord",createIpnsRecord:e.RECORD_MAPPED_PROPERTIES})).createIpnsRecord;this.createRecordForSite=async({siteId:t})=>(await this.graphqlClient.mutation({__name:"CreateIpnsRecordForSite",createIpnsRecordForSite:{__args:{where:{siteId:t}},...e.RECORD_MAPPED_PROPERTIES}})).createIpnsRecordForSite;this.deleteRecord=async({id:t})=>(await this.graphqlClient.mutation({__name:"DeleteIpnsRecord",deleteIpnsRecord:{__args:{where:{id:t}},...e.RECORD_MAPPED_PROPERTIES}})).deleteIpnsRecord;this.listRecords=async()=>(await this.graphqlClient.query({__name:"GetIpnsRecords",ipnsRecords:{data:e.RECORD_MAPPED_PROPERTIES}})).ipnsRecords.data;this.getRecord=async({name:t})=>(await this.graphqlClient.query({__name:"GetIpnsRecordByName",ipnsRecord:{__args:{where:{name:t}},...e.RECORD_MAPPED_PROPERTIES}})).ipnsRecord;this.graphqlClient=t.graphqlClient}static{this.RECORD_MAPPED_PROPERTIES={id:!0,name:!0,hash:!0,ensRecords:{id:!0}}}};var qf=L(it());var Q1=class e{constructor(t){this.get=async({id:t})=>{let r=await this.graphqlClient.query({__name:"GetPrivateGateway",privateGateway:{__args:{where:{id:t}},...e.PRIVATE_GATEWAY_MAPPED_PROPERTIES}});if(!b2(r.privateGateway))throw new qf.PrivateGatewayNotFoundError({privateGateway:{id:t}});return r.privateGateway};this.getBySlug=async({slug:t})=>{let r=await this.graphqlClient.query({__name:"GetPrivateGatewayBySlug",privateGatewayBySlug:{__args:{where:{slug:t}},...e.PRIVATE_GATEWAY_MAPPED_PROPERTIES}});if(!b2(r.privateGatewayBySlug))throw new qf.PrivateGatewayNotFoundError({privateGateway:{slug:t}});return r.privateGatewayBySlug};this.list=async()=>{let t=await this.graphqlClient.query({__name:"GetPrivateGateways",privateGateways:{data:{...e.PRIVATE_GATEWAY_MAPPED_PROPERTIES},__typename:!0}});if(!EB(t.privateGateways.data))throw new qf.PrivateGatewaysNotFoundError({});return t.privateGateways.data};this.create=async({name:t,zoneId:r})=>(await this.graphqlClient.mutation({__name:"CreatePrivateGateway",createPrivateGateway:{__args:{where:{zoneId:r},data:{name:t}},...e.PRIVATE_GATEWAY_MAPPED_PROPERTIES}})).createPrivateGateway;this.delete=async({id:t})=>(await this.graphqlClient.mutation({__name:"DeletePrivateGateway",deletePrivateGateway:{__args:{where:{id:t}},...e.PRIVATE_GATEWAY_MAPPED_PROPERTIES}})).deletePrivateGateway;this.update=async({id:t,name:r})=>(await this.graphqlClient.mutation({__name:"UpdatePrivateGateway",updatePrivateGateway:{__args:{where:{id:t},data:{name:r}},...e.PRIVATE_GATEWAY_MAPPED_PROPERTIES}})).updatePrivateGateway;this.graphqlClient=t.graphqlClient}static{this.PRIVATE_GATEWAY_MAPPED_PROPERTIES={id:!0,slug:!0,primaryDomain:{id:!0,__typename:!0},name:!0,project:{id:!0,__typename:!0},zone:{id:!0,__typename:!0},updatedAt:!0,createdAt:!0,__typename:!0}}};var Y1=class e{constructor(t){this.create=async({name:t})=>(await this.graphqlClient.mutation({__name:"CreateProject",createProject:{__args:{data:{name:t}},...e.PROJECT_MAPPED_PROPERTIES}})).createProject;this.update=async({where:t,data:r})=>(await this.graphqlClient.mutation({updateProject:{__args:{where:t,data:r},...e.PROJECT_MAPPED_PROPERTIES}})).updateProject;this.get=async({id:t})=>(await this.graphqlClient.query({__name:"GetProject",project:{__args:{where:{id:t}},...e.PROJECT_MAPPED_PROPERTIES}})).project;this.list=async()=>(await this.graphqlClient.query({__name:"GetProjects",projects:{data:e.PROJECT_MAPPED_PROPERTIES}})).projects.data;this.graphqlClient=t.graphqlClient}static{this.PROJECT_MAPPED_PROPERTIES={id:!0,name:!0,avatar:!0,backupStorageOnArweave:!0,backupStorageOnFilecoin:!0,createdAt:!0}}};var No=L(it());var X1=class e{constructor(t){this.get=async({id:t})=>{let r=await this.graphqlClient.query({__name:"GetSiteById",site:{__args:{where:{id:t}},...e.SITE_MAPPED_PROPERTIES}});if(!ql(r.site))throw new No.SiteNotFoundError({site:{id:t}});return this.adapt(r.site)};this.getBySlug=async({slug:t})=>{let r=await this.graphqlClient.query({__name:"GetSiteBySlug",siteBySlug:{__args:{where:{slug:t}},...e.SITE_MAPPED_PROPERTIES}});if(!ql(r.siteBySlug))throw new No.SiteNotFoundError({site:{slug:t}});return this.adapt(r.siteBySlug)};this.list=async()=>{let t=await this.graphqlClient.query({__name:"GetSites",sites:{__args:{where:{}},data:{...e.SITE_MAPPED_PROPERTIES},__typename:!0}});if(!xB(t.sites.data))throw new No.SitesNotFoundError;return t.sites.data.map(this.adapt)};this.create=async({name:t})=>{let r=await this.graphqlClient.mutation({__name:"CreateSite",createSite:{__args:{data:{name:t}},...e.SITE_MAPPED_PROPERTIES}});if(!ql(r.createSite))throw new No.SiteCreationFailedError;return this.adapt(r.createSite)};this.delete=async({id:t})=>{let r=await this.graphqlClient.mutation({__name:"DeleteSite",deleteSite:{__args:{where:{id:t}},...e.SITE_MAPPED_PROPERTIES}});if(!ql(r.deleteSite))throw new No.SiteNotFoundError({site:{id:t}});return this.adapt(r.deleteSite)};this.createCustomIpfsDeployment=async({siteId:t,cid:r})=>(await this.graphqlClient.mutation({__name:"CreateCustomIpfsDeployment",createCustomIpfsDeployment:{__args:{data:{siteId:t,cid:r}},...e.DEPLOYMENT_MAPPED_PROPERTIES}})).createCustomIpfsDeployment;this.getDeployment=async({id:t})=>{let r=await this.graphqlClient.query({__name:"GetDeploymentById",deployment:{__args:{where:{id:t}},...e.DEPLOYMENT_MAPPED_PROPERTIES}});if(!SB(r.deployment))throw new No.SiteDeploymentNotFoundError({deployment:{id:t}});return r.deployment};this.graphqlClient=t.graphqlClient}static{this.DEPLOYMENT_MAPPED_PROPERTIES={id:!0,status:!0,storageType:!0,siteId:!0,cid:!0,updatedAt:!0,createdAt:!0,__typename:!0}}static{this.SITE_MAPPED_PROPERTIES={id:!0,name:!0,slug:!0,domains:{id:!0,hostname:!0,__typename:!0},zones:{id:!0,status:!0,__typename:!0},primaryDomain:{id:!0,hostname:!0,__typename:!0},ipnsRecords:{id:!0,__typename:!0},deployments:e.DEPLOYMENT_MAPPED_PROPERTIES,__typename:!0}}adapt(t){return{id:t.id,name:t.name,slug:t.slug,ipnsRecords:t.ipnsRecords,domains:t.domains,zones:t.zones,deployments:t.deployments}}};var Er=L(it()),Qre=require("@web-std/file");Qs();var Yre=require("files-from-path");var Jre=L(it()),Vre=require("@noble/hashes/blake3");var Zre=async e=>{if(!io)throw new Jre.SdkRequiredNodeRuntimeError;let{createHash:t}=await import("crypto"),{file:r,algorithm:n}=e;switch(n){case"blake3":return`${n}-${Buffer.from((0,Vre.blake3)(r)).toString("base64")}`;case"sha256":case"sha512":return`${n}-${t(n).update(r).digest("base64")}`;default:return`sha256-${t("sha256").update(r).digest("base64")}`}};var eS=class e{constructor(t){this.uploadDirectory=async({path:t,parentFolderId:r,options:n,onUploadProgress:o})=>{Pi();let{promises:i}=await import("fs");if(!(await i.stat(t)).isDirectory())throw new Er.PathIsNotADirectoryError({path:t});n?.siteId&&this.checkSiteInDb(n?.siteId),n?.functionName&&await this.checkFunctionInDb(n?.functionName);let{basename:s}=await import("path"),u=s(t),c=await(0,Yre.filesFromPaths)([t]),l=()=>Js.createDirectoryEncoderStream(c);return this.uploadProxyClient.uploadContent({getStream:l,basename:u,parentFolderId:r,options:n,onUploadProgress:o})};this.uploadVirtualDirectory=async({files:t,directoryName:r,parentFolderId:n,onUploadProgress:o})=>{let i=()=>Js.createDirectoryEncoderStream(t,{});return this.uploadProxyClient.uploadContent({getStream:i,basename:r,parentFolderId:n,onUploadProgress:o})};this.uploadPrivateFile=async({filePath:t,hashingAlhorithm:r,onUploadProgress:n})=>{let{promises:o}=await import("fs");if(!(await o.stat(t)).isFile())throw new Er.PathIsNotAFileError({path:t});let a=await o.readFile(t,"binary"),s=await Zre({file:a,algorithm:r??"sha256"}),u=await import("path"),c=new Qre.File([a],u.basename(t));return this.uploadProxyClient.uploadPrivateContent({file:c,fileHash:s,onUploadProgress:n})};this.uploadFile=async({file:t,parentFolderId:r,options:n,onUploadProgress:o})=>{n?.siteId&&this.checkSiteInDb(n?.siteId),n?.functionName&&await this.checkFunctionInDb(n?.functionName);let i=()=>Js.createFileEncoderStream(t);return this.uploadProxyClient.uploadContent({getStream:i,basename:t.name,parentFolderId:r,options:n,onUploadProgress:o})};this.get=async({cid:t})=>{let r=await this.graphqlClient.query({pin:{__args:{where:{cid:t}},...e.STORAGE_MAPPED_PROPERTIES}});if(!vB(r.pin))throw new Er.PinNotFoundError({pin:{cid:t}});let{filecoinDeals:n}=await this.graphqlClient.query({filecoinDeals:{__args:{where:{cid:t}},data:{dealId:!0,__typename:!0},__typename:!0}});if(!PB(n.data))throw new Er.PinNotFoundError({pin:{cid:t}});return{...r.pin,arweaveId:r.pin.arweavePin?.bundlrId,filecoinDealIds:n.data.map(o=>o.dealId).join(",")}};this.getByFilename=async({filename:t,extension:r})=>{let n=await this.graphqlClient.query({pinsByFilename:{__args:{where:{filename:t,extension:r}},...e.STORAGE_WITH_AGGREGATION_MAPPED_PROPERTIES}});if(!S2(n.pinsByFilename?.data))throw new Er.PinsNotFoundError({filename:t});return await Promise.all(n.pinsByFilename.data.map(async o=>{let i=await this.graphqlClient.query({filecoinDeals:{__args:{where:{cid:o.cid}},data:{dealId:!0}}});return{...o,arweaveId:o.arweavePin?.bundlrId,filecoinDealIds:i.filecoinDeals.data.map(a=>a.dealId).join(",")}}))};this.list=async()=>{let t=await this.graphqlClient.query({pins:{__args:{},data:{...e.STORAGE_MAPPED_PROPERTIES},__typename:!0}}),r=t.pins.data[0];if(!S2(t.pins?.data))throw new Er.PinNotFoundError({pin:{cid:r.cid}});return await Promise.all(t.pins.data.map(async n=>{let o=await this.graphqlClient.query({filecoinDeals:{__args:{where:{cid:n.cid}},data:{dealId:!0,__typename:!0},__typename:!0}});return{...n,arweaveId:n.arweavePin?.bundlrId,filecoinDealIds:o.filecoinDeals.data.map(i=>i.dealId).join(",")}}))};this.delete=async({cid:t})=>{let r=await this.uploadProxyClient.delete(t);return{status:r.status,body:await r.json()}};this.checkFunctionInDb=async t=>{try{await this.graphqlClient.query({fleekFunctionByName:{__args:{where:{name:t}},id:!0}})}catch{throw new Er.FleekFunctionNotFoundError({function:{name:t}})}};this.checkSiteInDb=async t=>{try{await this.graphqlClient.query({site:{__args:{where:{id:t}},data:{cid:!0,filename:!0,extension:!0,arweavePin:{bundlrId:!0}}}})}catch{throw new Er.SiteNotFoundError({site:{id:t}})}};this.graphqlClient=t.graphqlClient,this.uploadProxyClient=t.uploadProxyClient}static{this.SITE_MAPPED_PROPERTIES={id:!0}}static{this.FUNCTION_MAPPED_PROPERTIES={id:!0}}static{this.STORAGE_MAPPED_PROPERTIES={cid:!0,filename:!0,extension:!0,arweavePin:{bundlrId:!0,__typename:!0},__typename:!0}}static{this.STORAGE_WITH_AGGREGATION_MAPPED_PROPERTIES={data:e.STORAGE_MAPPED_PROPERTIES,__typename:!0}}};var Tt=L(it()),rne=require("@web-std/form-data"),nne=L(require("axios"));Bk();var Xre=L(it()),ZT=async({fn:e,tries:t,intervalMs:r})=>{let n=1;for(;;)try{return await e()}catch(o){if(o instanceof Xre.FleekError&&console.warn(o.toString(),`Attempt ${n} of ${t}. Retrying in ${r/1e3}s...`),n===t)throw o;await new Promise(i=>setTimeout(i,r)),n++}};var ene=10485760,P8e=3,tne=async({request:e,parentFolderId:t,validStatuses:r=[200]})=>{let n=await fetch(e);if(!r.includes(n.status))if(n.status===429){let o=await n.json()?.then(i=>i.errors[0]).catch(i=>{throw console.warn("Unexpected response with 429 status",i),new Tt.UnknownError});throw o.code==="DailyUploadedTotalSizeQuotaExceeded"?new Tt.StorageUploadTotalSizeQuotaExceededError(o.data):o.code==="DailyUploadedFilesQuotaExceeded"?new Tt.StorageUploadFileCountQuotaExceededError(o.data):o.code==="FolderNotFoundError"&&t?new Tt.FolderNotFoundError({folder:{id:t}}):new Tt.UnknownError}else throw new Tt.StorageIpfsUploadFailedError;return n},tS=class{constructor(t){this.uploadPrivateContent=async({file:t,fileHash:r,onUploadProgress:n})=>{let o=new rne.FormData;o.append("hash",r),o.append("file",t);let i=await this.accessTokenService.getAccessToken();try{let a=await nne.default.post(`${this.uploadProxyApiUrl}/upload/private`,o,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${i}`},onUploadProgress:s=>{s.lengthComputable&&n&&n({loadedSize:s.loaded,totalSize:s.total})}});if(a.status!==201||!a.data?.cid)throw new Tt.StorageIpfsUploadFailedError;return{pin:{cid:a.data.cid,size:t.size},duplicate:!1}}catch{throw new Tt.StorageIpfsUploadFailedError}};this.uploadContent=async({getStream:t,basename:r,parentFolderId:n,options:o,onUploadProgress:i})=>{let{cid:a,totalSize:s}=await this.getStreamCidAndTotalSize({getStream:t});if(n?await this.checkPinDuplicityByParentFolderAndBasename({parentFolderId:n,basename:r}):await this.checkPinDuplicityByCid({cid:a}))return{pin:{cid:a,size:s},duplicate:!0};i&&i({totalSize:s,loadedSize:0});let c=0,l=[],{ShardingStream:d}=await Promise.resolve().then(()=>(Qs(),ml)),{Parallel:w}=await import("parallel-transform-web");await t().pipeThrough(new d({shardSize:ene})).pipeThrough(new w(P8e,async g=>{let h=new URL(this.uploadProxyApiUrl);h.pathname="store";let y=await this.accessTokenService.getAccessToken(),_=new Uint8Array(await g.arrayBuffer());try{return{cid:await(await ZT({fn:async()=>tne({request:new Request(h,{method:"POST",body:_,headers:{"Content-Type":"application/vnd.ipld.car",Authorization:`Bearer ${y}`}}),parentFolderId:n}),tries:3,intervalMs:3e3})).text(),size:_.byteLength}}catch{throw new Tt.UploadProxyStoreAsCarError}})).pipeTo(new WritableStream({write:async({cid:g,size:h})=>{l.push(g),i&&(c+=h,i({totalSize:s,loadedSize:c}))}}));let m=new URL(this.uploadProxyApiUrl);m.pathname="upload",o?.siteId&&m.searchParams.append("sites","true"),o?.functionName&&m.searchParams.append("function","true");let p=await this.accessTokenService.getAccessToken(),f=JSON.stringify({basename:r,parentFolderId:n,totalSize:s,rootCid:a,shardCids:l});try{await ZT({fn:async()=>tne({request:new Request(m,{method:"POST",body:f,headers:{"Content-Type":"application/json",Authorization:`Bearer ${p}`}}),parentFolderId:n}),tries:3,intervalMs:3e3})}catch{throw new Tt.UploadProxyUploadFileError}return{pin:{cid:a,size:s},duplicate:!1}};this.delete=async t=>{let r=await this.accessTokenService.getAccessToken(),n=new URL(this.uploadProxyApiUrl);return n.pathname=`delete/${t}`,fetch(n,{method:"DELETE",headers:{Authorization:`Bearer ${r}`}})};this.getStreamCidAndTotalSize=async({getStream:t})=>{let r=0,n,{ShardingStream:o}=await Promise.resolve().then(()=>(Qs(),ml));if(await t().pipeThrough(new o({shardSize:ene})).pipeTo(new WritableStream({write:i=>{i.roots[0]&&(n=i.roots[0].toV1().toString(Ns)),r+=i.size}})),!n)throw new Tt.StorageIpfsUploadFailedError;return{cid:n,totalSize:r}};this.checkPinDuplicityByCid=async({cid:t})=>{let r=new URL(this.uploadProxyApiUrl);return r.pathname=`duplicity/${t}`,this.checkPinDuplicty({url:r})};this.checkPinDuplicityByParentFolderAndBasename=async({parentFolderId:t,basename:r})=>{let n=new URL(this.uploadProxyApiUrl);return n.pathname=`/folder/${t}/duplicity/${r}`,this.checkPinDuplicty({url:n})};this.checkPinDuplicty=async({url:t})=>{let r=await this.accessTokenService.getAccessToken();return(await fetch(t,{method:"GET",headers:{Authorization:`Bearer ${r}`}})).status===409};this.accessTokenService=t.accessTokenService,this.uploadProxyApiUrl=t.uploadProxyApiUrl}};var rS=class{constructor(t){this.listPersonalAccessTokens=async()=>(await this.graphqlClient.query({__name:"GetPersonalAccessTokens",personalAccessTokens:{data:{id:!0,createdAt:!0,name:!0,maskedToken:!0}}})).personalAccessTokens.data;this.deletePersonalAccessToken=async({id:t})=>(await this.graphqlClient.mutation({__name:"DeletePersonalAccessToken",deletePersonalAccessToken:{__args:{where:{id:t}},__scalar:!0}})).deletePersonalAccessToken;this.graphqlClient=t.graphqlClient}};var D8e={SDK__AUTH_APPS_URL:"https://auth-apps.service.fleek.xyz",SDK__IPFS__STORAGE_API_URL:"https://storage-ipfs.service.fleek.xyz/",SDK__GRAPHQL_API_URL:"https://graphql.service.fleek.xyz/graphql",SDK__UPLOAD_PROXY_API_URL:"https://uploads.service.fleek.xyz"},A8e="",Aa=e=>{let t=typeof process<"u"&&process?.env?.[`${A8e}${e}`]||D8e[e];if(t==null)throw new Error(`Expected key "${e}" to be defined but got ${typeof t}`);if(typeof t!="string")throw new Error(`Expected key "${e}" to be string but got ${typeof t}`);return t};var jf=L(it()),I8e=L(it()),one=require("@web-std/form-data"),ine=require("object-traversal"),nS=async({endpoint:e,headers:t,operation:r})=>{let n=[],o=[];(0,ine.traverse)(r,({parent:c,key:l,value:d,meta:w})=>{c&&l&&w.nodePath&&Object.prototype.toString.call(d)==="[object File]"&&(n.push(w.nodePath),o.push(d),c[l]=null)});let i=new one.FormData;i.append("operations",JSON.stringify(r)),i.append("map",JSON.stringify(Object.fromEntries(n.map((c,l)=>[`${l}`,[c]])))),o.forEach((c,l)=>i.append(`${l}`,c));let a=await fetch(e,{method:"POST",headers:{Accept:"application/json",...t},body:i});if(!a.ok)throw a.status===401?new jf.UnauthorizedError({}):new jf.UnknownError;let s=await a.json(),u=s?.errors?.[0];if(!u)return s;if("extensions"in u){let c=I8e?.[u.extensions.name];if(c)throw new c(u.extensions.data)}throw new jf.UnknownError};var oS=class{constructor({graphqlServiceApiUrl:t=Aa("SDK__GRAPHQL_API_URL"),ipfsStorageApiUrl:r=Aa("SDK__IPFS__STORAGE_API_URL"),uploadProxyApiUrl:n=Aa("SDK__UPLOAD_PROXY_API_URL"),accessTokenService:o}){this.getVersion=async()=>await this.graphqlClient.query({__name:"GetVersion",version:{__scalar:!0}});this.user=()=>(this.userClient||(this.userClient=new rS({graphqlClient:this.graphqlClient})),this.userClient);this.ipns=()=>(this.ipnsClient||(this.ipnsClient=new Z1({graphqlClient:this.graphqlClient})),this.ipnsClient);this.ipfs=()=>{if(!io)throw new iS.SdkRequiredNodeRuntimeError;return this.ipfsClient||(this.ipfsClient=new V1({uploadProxyClient:this.uploadProxyClient,accessTokenService:this.accessTokenService,ipfsStorageApiUrl:this.ipfsStorageApiUrl})),console.warn("Warning: The `ipfs` service in Fleek SDK will be deprecated. Please use `storage` service instead"),this.ipfsClient};this.sites=()=>(this.sitesClient||(this.sitesClient=new X1({graphqlClient:this.graphqlClient})),this.sitesClient);this.projects=()=>(this.projectsClient||(this.projectsClient=new Y1({graphqlClient:this.graphqlClient})),this.projectsClient);this.domains=()=>(this.domainsClient||(this.domainsClient=new cy({graphqlClient:this.graphqlClient})),this.domainsClient);this.applications=()=>(this.applicationsClient||(this.applicationsClient=new sy({graphqlClient:this.graphqlClient})),this.applicationsClient);this.ens=()=>(this.ensClient||(this.ensClient=new uy({graphqlClient:this.graphqlClient})),this.ensClient);this.privateGateways=()=>(this.privateGatewayClient||(this.privateGatewayClient=new Q1({graphqlClient:this.graphqlClient})),this.privateGatewayClient);this.storage=()=>(this.storageClient||(this.storageClient=new eS({graphqlClient:this.graphqlClient,uploadProxyClient:this.uploadProxyClient})),this.storageClient);this.functions=()=>(this.functionsClient||(this.functionsClient=new ly({graphqlClient:this.graphqlClient})),this.functionsClient);this.getAuthenticationHeaders=async()=>{try{let t=await this.accessTokenService.getAccessToken();return t?{Authorization:`Bearer ${t}`}:{}}catch{return{}}};this.getCustomHeaders=()=>({"X-Client-Type":"sdk"});if(!r)throw new QT.EnvNotSetError("SDK__IPFS__STORAGE_API_URL");if(!n)throw new QT.EnvNotSetError("SDK__UPLOAD_PROXY_API_URL");if(!o)throw new iS.AuthorizationError;this.accessTokenService=o,this.graphqlClient=ac({fetcher:async i=>nS({operation:i,headers:{...await this.getAuthenticationHeaders(),...this.getCustomHeaders()},endpoint:this.graphqlServiceApiUrl})}),this.graphqlServiceApiUrl=t,this.ipfsStorageApiUrl=r,this.uploadProxyApiUrl=n,this.uploadProxyClient=new tS({uploadProxyApiUrl:this.uploadProxyApiUrl,accessTokenService:this.accessTokenService})}};var ane=L(it());var Ia=class{};var aS=class extends Ia{constructor({personalAccessToken:r,projectId:n,graphqlServiceApiUrl:o=Aa("SDK__GRAPHQL_API_URL")}){super();this.setAccessToken=async({token:r,expiration:n=60*8*1e3})=>{this.accessToken=r,this.accessTokenTimeout&&clearTimeout(this.accessTokenTimeout),this.accessTokenTimeout=setTimeout(()=>{this.accessToken=void 0},n)};this.loginWithPersonalAccessToken=async()=>{let{loginWithPersonalAccessToken:r}=await this.client.mutation({loginWithPersonalAccessToken:{__args:{data:{personalAccessToken:this.personalAccessToken,projectId:this.projectId}}}});this.setAccessToken({token:r})};this.getAccessToken=async()=>(this.accessToken||await this.loginWithPersonalAccessToken(),this.accessToken);this.close=()=>{clearTimeout(this.accessTokenTimeout),this.accessToken=void 0};if(Pi(),!r)throw new ane.AuthorizationError;this.personalAccessToken=r,this.projectId=n,this.client=ac({fetcher:async i=>nS({operation:i,headers:{},endpoint:o})})}};var sne=L(it());var sS=class extends Ia{constructor({accessToken:r}){super();this.getAccessToken=async()=>this.accessToken;if(!r)throw new sne.AuthorizationError;this.accessToken=r}};var Tie=L(Cie()),Fie=L(it()),Oie=require("luxon");var bE=class extends Ia{constructor({clientId:r,authAppsServiceUrl:n=Aa("SDK__AUTH_APPS_URL"),origin:o=window.location.origin}){super();this.refreshAccessToken=async()=>{let r=["clientId",this.clientId].join("="),n=`${this.authAppsServiceUrl}/token?${r}`,o=new Headers;this.origin&&o.set("Origin",this.origin);let i=await fetch(n,{method:"GET",headers:o});this.accessToken=await i.text()};this.getAccessToken=async()=>this.accessToken?((0,Tie.decodeAccessToken)({token:this.accessToken}).exp<Oie.DateTime.now().toSeconds()&&await this.refreshAccessToken(),this.accessToken):(await this.refreshAccessToken(),this.accessToken);if(!n)throw new Fie.EnvNotSetError("SDK__AUTH_APPS_URL");this.clientId=r,this.authAppsServiceUrl=n,this.origin=o}};0&&(module.exports={ApplicationAccessTokenService,FleekSdk,PersonalAccessTokenService,StaticAccessTokenService,createClient});
/*! Bundled license information:

@noble/ed25519/lib/esm/index.js:
  (*! noble-ed25519 - MIT License (c) 2019 Paul Miller (paulmillr.com) *)
*/
//# sourceMappingURL=index.js.map
